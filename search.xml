<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ArrayList</title>
    <url>/2021/04/14/ArrayList/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h3><p>ArrayList是实现List接口的动态数组，所谓动态就是它的大小是可变的。</p>
<p>每个ArrayList实例都有一个容量，该容量是指用来存储列表元素的数组的大小。默认初始容量为10。随着ArrayList中元素的增加，它的容量也会不断的自动增长。</p>
<p>在每次添加新的元素时，ArrayList都会检查是否需要进行扩容操作，扩容操作带来数据向新数组的重新拷贝，所以如果我们知道具体业务数据量，在构造ArrayList时可以给ArrayList指定一个初始容量，这样就会减少扩容时数据的拷贝问题。当然在添加大量元素前，应用程序也可以使用ensureCapacity操作来增加ArrayList实例的容量，这可以减少递增式再分配的数量。</p>
<p>注意，ArrayList实现不是同步的。如果多个线程同时访问一个ArrayList实例，而其中至少一个线程从结构上修改了列表，那么它必须保持外部同步。所以为了保证同步，最好的办法是在创建时完成，以防止意外对列表进行不同步的访问：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List list = Collections.synchronizedList(<span class="keyword">new</span> ArrayList(...)); </span><br></pre></td></tr></table></figure>
<span id="more"></span>
<h3 id="ArrayList的继承关系"><a href="#ArrayList的继承关系" class="headerlink" title="ArrayList的继承关系"></a>ArrayList的继承关系</h3><p>ArrayList继承AbstractList抽象父类，实现了List接口（规定了List的操作规范）、RandomAccess（可随机访问）、Cloneable（可拷贝）、Serializable（可序列化）。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">        <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;, <span class="title">RandomAccess</span>, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span></span><br></pre></td></tr></table></figure>
<h3 id="底层数据结构"><a href="#底层数据结构" class="headerlink" title="底层数据结构"></a>底层数据结构</h3><p>ArrayList的底层是一个object数组，并且由trasient修饰。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The array buffer into which the elements of the ArrayList are stored.</span></span><br><span class="line"><span class="comment"> * The capacity of the ArrayList is the length of this array buffer. Any</span></span><br><span class="line"><span class="comment"> * empty ArrayList with elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span></span><br><span class="line"><span class="comment"> * will be expanded to DEFAULT_CAPACITY when the first element is added.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">transient</span> Object[] elementData; <span class="comment">// non-private to simplify nested class access</span></span><br></pre></td></tr></table></figure>
<p>ArrayList底层数组不会参与序列化，而是使用另外的序列化方式(transient修饰)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">writeObject</span><span class="params">(java.io.ObjectOutputStream s)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> java.io.IOException</span>&#123;</span><br><span class="line">    <span class="comment">// Write out element count, and any hidden stuff</span></span><br><span class="line">    <span class="keyword">int</span> expectedModCount = modCount;</span><br><span class="line">    s.defaultWriteObject();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Write out size as capacity for behavioural compatibility with clone()</span></span><br><span class="line">    s.writeInt(size);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Write out all elements in the proper order.</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++) &#123;</span><br><span class="line">        s.writeObject(elementData[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (modCount != expectedModCount) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Reconstitute the &lt;tt&gt;ArrayList&lt;/tt&gt; instance from a stream (that is,</span></span><br><span class="line"><span class="comment"> * deserialize it).</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readObject</span><span class="params">(java.io.ObjectInputStream s)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> java.io.IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">    elementData = EMPTY_ELEMENTDATA;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Read in size, and any hidden stuff</span></span><br><span class="line">    s.defaultReadObject();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Read in capacity</span></span><br><span class="line">    s.readInt(); <span class="comment">// ignored</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (size &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// be like clone(), allocate array based upon size not capacity</span></span><br><span class="line">        <span class="keyword">int</span> capacity = calculateCapacity(elementData, size);</span><br><span class="line">        SharedSecrets.getJavaOISAccess().checkArray(s, Object[].class, capacity);</span><br><span class="line">        ensureCapacityInternal(size);</span><br><span class="line"></span><br><span class="line">        Object[] a = elementData;</span><br><span class="line">        <span class="comment">// Read in all elements in the proper order.</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++) &#123;</span><br><span class="line">            a[i] = s.readObject();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="增删改查"><a href="#增删改查" class="headerlink" title="增删改查"></a>增删改查</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>&#123;</span><br><span class="line">     rangeCheckForAdd(index);</span><br><span class="line"></span><br><span class="line">     ensureCapacityInternal(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!</span></span><br><span class="line">     System.arraycopy(elementData, index, elementData, index + <span class="number">1</span>,</span><br><span class="line">                      size - index);</span><br><span class="line">     elementData[index] = element;</span><br><span class="line">     size++;</span><br><span class="line"> &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> E <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">     rangeCheck(index);</span><br><span class="line"></span><br><span class="line">     modCount++;</span><br><span class="line">     E oldValue = elementData(index);</span><br><span class="line"></span><br><span class="line">     <span class="keyword">int</span> numMoved = size - index - <span class="number">1</span>;</span><br><span class="line">     <span class="keyword">if</span> (numMoved &gt; <span class="number">0</span>)</span><br><span class="line">         System.arraycopy(elementData, index+<span class="number">1</span>, elementData, index,</span><br><span class="line">                          numMoved);</span><br><span class="line">     elementData[--size] = <span class="keyword">null</span>; <span class="comment">// clear to let GC do its work</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">return</span> oldValue;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> E <span class="title">set</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>&#123;</span><br><span class="line">     rangeCheck(index);</span><br><span class="line"></span><br><span class="line">     E oldValue = elementData(index);</span><br><span class="line">     elementData[index] = element;</span><br><span class="line">     <span class="keyword">return</span> oldValue;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">     rangeCheck(index);</span><br><span class="line"></span><br><span class="line">     <span class="keyword">return</span> elementData(index);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="ArrayList-fail-fast-机制"><a href="#ArrayList-fail-fast-机制" class="headerlink" title="ArrayList fail-fast 机制"></a>ArrayList fail-fast 机制</h3><p>fail-fast的字面意思是“快速失败”。当我们在遍历集合元素的时候，经常会使用迭代器，但在迭代器遍历元素的过程中，如果集合的结构被改变的话，就会抛出异常，防止继续遍历。这就是所谓的快速失败机制。<br><code>protected transient int modCount = 0;</code><br>modCount 顾名思义就是修改次数，对ArrayList 内容的修改都将增加这个值，那么在迭代器初始化过程中会将这个值赋给迭代器的 expectedModCount。<br>在迭代过程中，判断 modCount 跟 expectedModCount 是否相等，如果不相等就表示已经有其他线程修改了 ArrayList。<br>迭代器的快速失败行为是不一定能够得到保证的，一般来说，存在非同步的并发修改时，不可能做出任何坚决的保证的。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span> <span class="title">checkForComodification</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (modCount != expectedModCount)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="初始容量和扩容方式"><a href="#初始容量和扩容方式" class="headerlink" title="初始容量和扩容方式"></a>初始容量和扩容方式</h3><p>初始容量是10</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Default initial capacity.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_CAPACITY = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<p>元素添加的时候进行扩容，扩容方式是让新容量等于旧容量的1.5倍 <code>oldCapacity + (oldCapacity &gt;&gt; 1)</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    ensureCapacityInternal(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!</span></span><br><span class="line">    elementData[size++] = e;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureExplicitCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    modCount++;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// overflow-conscious code</span></span><br><span class="line">    <span class="keyword">if</span> (minCapacity - elementData.length &gt; <span class="number">0</span>)</span><br><span class="line">        grow(minCapacity);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">grow</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// overflow-conscious code</span></span><br><span class="line">    <span class="keyword">int</span> oldCapacity = elementData.length;</span><br><span class="line">    <span class="keyword">int</span> newCapacity = oldCapacity + (oldCapacity &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (newCapacity - minCapacity &lt; <span class="number">0</span>)</span><br><span class="line">        newCapacity = minCapacity;</span><br><span class="line">    <span class="keyword">if</span> (newCapacity - MAX_ARRAY_SIZE &gt; <span class="number">0</span>)</span><br><span class="line">        newCapacity = hugeCapacity(minCapacity);</span><br><span class="line">    <span class="comment">// minCapacity is usually close to size, so this is a win:</span></span><br><span class="line">    elementData = Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当新容量大于最大数组长度，有两种情况，一种是溢出，抛异常，一种是没溢出，返回整数的最大值。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hugeCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (minCapacity &lt; <span class="number">0</span>) <span class="comment">// overflow</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> OutOfMemoryError();</span><br><span class="line">    <span class="keyword">return</span> (minCapacity &gt; MAX_ARRAY_SIZE) ?</span><br><span class="line">        Integer.MAX_VALUE :</span><br><span class="line">        MAX_ARRAY_SIZE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="RandomAccess"><a href="#RandomAccess" class="headerlink" title="RandomAccess"></a>RandomAccess</h3><p>RandomAccess接口是一个标志接口，List集合实现这个接口，就能支持快速随机访问，使用for循环遍历快。比如List下的ArrayList和LinkedList，其中ArrayList实现了RandomAccess，而LinkedList没有。利用instanceof来判断哪一个是实现了RandomAccess，LinkedList使用迭代器快，ArrayList使用for循环遍历快。通过RandomAccess接口标识，不同的集合使用不同的遍历方式。</p>
<h3 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h3><p>add(E e)方法<br>添加元素到末尾，平均时间复杂度为O(1)。</p>
<p>add(int index, E element)方法<br>添加元素到指定位置，平均时间复杂度为O(n)。</p>
<p>get(int index)方法<br>获取指定索引位置的元素，时间复杂度为O(1)。</p>
<p>remove(int index)方法<br>删除指定索引位置的元素，时间复杂度为O(n)。</p>
<p>remove(Object o)方法<br>删除指定元素值的元素，时间复杂度为O(n)</p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Bean</title>
    <url>/2021/04/13/Bean/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><code>ConfigurationProperties</code> 接口</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> ConfigurationProperties &#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@AliasFor(&quot;prefix&quot;)</span></span><br><span class="line">	<span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@AliasFor(&quot;value&quot;)</span></span><br><span class="line">	<span class="function">String <span class="title">prefix</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>在类名上加上 <code>@ConfigurationProperties</code> 注解，读取 <code>application.properties</code>  配置 <code>Bean</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(&quot;spring.datasource&quot;)</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSourceBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">spring.datasource.url=jdbc:mysql:<span class="comment">//localhost:3306/kangpan?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=UTC&amp;useAffectedRows=true</span></span><br><span class="line">spring.datasource.username=root</span><br><span class="line">spring.datasource.password=</span><br></pre></td></tr></table></figure>
<p>启动项目 控制台打印 <code>url</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestRunner</span> <span class="keyword">implements</span> <span class="title">ApplicationRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DataSourceBean dataSourceBean;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(ApplicationArguments args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        log.info(dataSourceBean.getUrl());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>配置 <code>Bean</code> 的属性</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@GetMapping(path = &quot;/&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>浏览器输入 <code>http://localhost:8081/test/</code> 打印了 <code>root</code></p>
<p><code>@Component</code> 配置 <code>Bean</code> （<code>@Repository @Service @Controller</code> 等效），定义一个接口 <code>Todo</code> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Todo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>两个实现类 <code>Foo</code>  <code>Bar</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Foo</span> <span class="keyword">implements</span> <span class="title">Todo</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bar</span> <span class="keyword">implements</span> <span class="title">Todo</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;bar&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <code>@Autowired</code> 根据类型注入，所有类型为 <code>Todo</code> 的全部注入 <code>list</code> ( 指 <code>For</code> 和 <code>Bar</code>)<br><code>@Inject</code> 也是按类型注入，不过没有 <code>required</code> 属性<br><code>@Qualifier</code> 根据名称注入</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component(&quot;todos&quot;)</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Todos</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired(required = false)</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Todo&gt; list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Qualifier(&quot;todos&quot;)</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Todos todos;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(path = &quot;/&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        todos.getList().stream().forEach( e -&gt; e.print());</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>浏览器输入 <code>http://localhost:8081/test/</code> 控制台打印 <code>bar</code> 和 <code>foo</code><br>如果 <code>foo</code> 要优先打印，在 <code>Foo</code> 类上加  <code>@Order(value = 1)</code>，值越小优先级越高，<code>Foo</code> 优先加载</p>
<p>实现延迟加载 定义一个 <code>LazyDo</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Lazy</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazyDo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">todo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;lazy todo&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>构造注入 <code>lazyDao</code>，  <code>@Resource</code> 默认按名称注入，匹配不上按类型</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LazyDo lazyDo;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Lazy</span></span><br><span class="line">    <span class="meta">@Resource(name = &quot;lazyDo&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setLazyDo</span><span class="params">(LazyDo lazyDo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lazyDo = lazyDo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(path = &quot;/&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        lazyDo.todo();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>启动项目 <code>lazyDao</code> 加载为 <code>null</code></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.lazyDo = lazyDo; lazyDao: <span class="literal">null</span> lazyDo: <span class="string">&quot;com.kangpan.model.lazy@7a65a360&quot;</span></span><br></pre></td></tr></table></figure>
<p>浏览器访问地址 <code>http://localhost:8081/test/</code> 控制台打印 <code>lazy todo</code></p>
<p><code> Bean</code> 默认是单例，在类上加注解 <code>@Scope(&quot;prototype&quot;)</code> 多例</p>
<p>看下 <code>Bean</code> 初始化 及 销毁前 执行</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Todo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;init&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PreDestroy</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;destroy&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行项目 打印台输出 <code>init</code> ，关闭项目 打印台输出 <code>destroy</code></p>
<p>根据当前环境配置 <code>Bean</code> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDev</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestDev</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>application.properties</code> 配置 </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">test.name=testName <span class="comment">// @Value 赋值</span></span><br><span class="line">spring.profiles.active=dev <span class="comment">// 当前环境</span></span><br></pre></td></tr></table></figure>
<p>配置 <code>dev</code> 和 <code>test</code>  环境下的 <code>Bean</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dev</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Profile(&quot;dev&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TestDev <span class="title">testDev</span><span class="params">(<span class="meta">@Value(&quot;$&#123;test.name&#125;&quot;)</span> String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TestDev(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Profile(&quot;test&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TestDev <span class="title">testTest</span><span class="params">(<span class="meta">@Value(&quot;$&#123;test.name&#125;&quot;)</span> String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TestDev(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> TestDev testDev;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(path = &quot;/&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> testDev.getName();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>浏览器输入 <code>http://localhost:8081/test/</code> 打印 testName</p>
<p><code>XML</code> 配置  <code>Bean</code> 简化</p>
<p>属性</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;property name = <span class="string">&quot;name&quot;</span>,value = <span class="string">&quot;value&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>
<p>构造参数</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;constructor-arg type=<span class="string">&quot;java.lang.String&quot;</span> value=<span class="string">&quot;value&quot;</span> /&gt;</span><br><span class="line">&lt;constructor-arg ref=<span class="string">&quot;refBean&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>
<p>集合</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;property name = <span class="string">&quot;name&quot;</span>&gt;</span><br><span class="line">  &lt;map&gt;</span><br><span class="line">    &lt;entry key=<span class="string">&quot;key&quot;</span> value=<span class="string">&quot;value&quot;</span>&gt;</span><br><span class="line">  &lt;/map&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;property name = <span class="string">&quot;name&quot;</span>&gt;</span><br><span class="line">  &lt;map&gt;</span><br><span class="line">    &lt;entry key-ref=<span class="string">&quot;keyBean&quot;</span> value-ref=<span class="string">&quot;valueBean&quot;</span>&gt;</span><br><span class="line">  &lt;/map&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>
<p>引用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;property name=<span class="string">&quot;name&quot;</span> ref=<span class="string">&quot;refBean&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>
<p>或者 <code>XML</code> 声明 <code>p</code> 命名空间，然后配置 <code>Bean</code> ，特殊字符 用 <code>&lt;![CDATA[]]&gt;</code> 转义</p>
<p>项目启动 <code>@SpringBootApplication</code> 注解中的  <code>@EnableAutoConfiguration</code> 会加载配置文件的 <code>Bean</code> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(Application.class);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SpringBootApplication &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 <code>resources/META-INF/spring.factories</code> 文件中配置</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.boot</span><span class="selector-class">.autoconfigure</span>.EnableAutoConfiguration=com<span class="selector-class">.kangpan</span><span class="selector-class">.model</span>.Configs</span><br></pre></td></tr></table></figure>
<p><code>Configs</code> 类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableConfigurationProperties</span></span><br><span class="line"><span class="meta">@Import(&#123;ConfigFoo.class,ConfigBar.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Configs</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>引入的 <code>ConfigFoo ConfigBar</code>  类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConfigBar</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ConfigBar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;ConfigBar&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConfigFoo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ConfigFoo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;ConfigFoo&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>启动项目 控制台打印 <code>ConfigBar ConfigFoo</code>，如果 <code>@EnableConfigurationProperties</code> 改成  <code>@Configuration</code> 不需要在 <code>resources/META-INF/spring.factories</code> 文件中配置<br>看下 <code>Configuration</code> 接口，加了 <code>@Component</code> 注解 会实例化 <code>Bean</code></p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Component</span></span><br><span class="line">public <span class="variable">@interface</span> Configuration &#123;&#125;</span><br></pre></td></tr></table></figure>

<p> <code>@ConfigurationProperties</code>  结合 <code>@EnableConfigurationProperties</code> 配置Bean</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(&quot;spring.datasource&quot;)</span> <span class="comment">// 读取  application.properties 中的配置</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSourceBean2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>application.properties</code> 文件中配置</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">spring.datasource.url=jdbc:mysql:<span class="comment">//localhost:3306/kangpan?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=UTC&amp;useAffectedRows=true</span></span><br><span class="line">spring.datasource.username=root</span><br><span class="line">spring.datasource.password=</span><br></pre></td></tr></table></figure>
<p><code>@EnableConfigurationProperties</code> 使 <code>@ConfigurationProperties</code> 注解的类注入自身</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableConfigurationProperties(DataSourceBean2.class)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSourceBeanConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> DataSourceBean2 dataSourceBean2;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DataSourceBeanConfig</span><span class="params">(DataSourceBean2 dataSourceBean2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dataSourceBean2 = dataSourceBean2;</span><br><span class="line">        log.info(<span class="string">&quot;url: &#123;&#125;&quot;</span>,dataSourceBean2.getUrl());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>spring.factories</code> 配置 或者 <code>DataSourceBeanConfig</code> 类 加上 <code>@Configuration</code> 或者 <code>@Component</code> 注解</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">org.springframework.boot.autoconfigure.EnableAutoConfiguration=com.kangpan.model.DataSourceBeanConfig</span><br></pre></td></tr></table></figure>
<p>控制台打印 <code>url</code></p>
<p>自定义 <code>XML</code> 配置 <code>Bean</code>， 在 <code>resource/bean.xml</code> 配置 <code>dataSourceBean</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       &quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSourceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.kangpan.model.DataSourceBean&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>结合 <code>@ConfigurationProperties</code> 属性赋值</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(&quot;spring.datasource&quot;)</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSourceBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>利用 <code>@ImportResource</code> 导入 <code>bean.xml</code> 配置的 <code>Bean</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@ImportResource(&quot;classpath:bean.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestRunner</span> <span class="keyword">implements</span> <span class="title">ApplicationRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DataSourceBean dataSourceBean;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(ApplicationArguments args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;dataSourceBean.getUrl():&#123;&#125;&quot;</span>,dataSourceBean.getUrl());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>项目启动 控制台打印 <code>url</code></p>
<p>自定义 <code>properties</code> 配置 <code>Bean</code>，在 <code>resources/dataSource.properties</code> 配置</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">spring.datasource.url=jdbc:mysql:<span class="comment">//localhost:3306/kangpan?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=UTC&amp;useAffectedRows=true</span></span><br><span class="line">spring.datasource.username=root</span><br><span class="line">spring.datasource.password=</span><br></pre></td></tr></table></figure>
<p><code>@PropertySource</code> 加载指定文件的属性， <code>@Value</code> 赋值</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PropertySource(&quot;classpath:dataSource.properties&quot;)</span>  </span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSourcesBean</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;spring.datasource.url&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;spring.datasource.username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;spring.datasource.password&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用  <code>@ConfigurationProperties</code> 属性赋值</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PropertySource(&quot;classpath:dataSource.properties&quot;)</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSourcesBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestRunner</span> <span class="keyword">implements</span> <span class="title">ApplicationRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DataSourcesBean dataSourcesBean;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(ApplicationArguments args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;dataSourcesBean.getUrl():&#123;&#125;&quot;</span>,dataSourcesBean.getUrl());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行项目 打印 <code>url</code></p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Aui</title>
    <url>/2021/04/27/Aui/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="d3eda469322886be91f9ca4d9a9fc338e71fcff8db249be1e833169e7f13bc9a">9943c1717e2782a5be9ecb675b444bc9fb48e049bfddc91202fd6d059e1a4d5e973c33d2ffa19a01370f744b7b5845adfbaf7b3dee729ef8adad1bf6ff0db3148090605ccca2accebf2b23386aa7d6bae43623961b61a80aa02144e7c353070b787a8fbaf3d987ebd447bde6cdb936949bed683d7e4867f4d1fe674b9d83f744b5ac49f3c76d0ae93db4b32fabc0fbf741f11ac61b079b7ab3e15ce5f1252f5ed651338bff758cd04db0214375e46f4070bcda6fcbac8f31ec650b8a62c20705089d03190c5244ff132d0eb7d6f8189371fc325db49e126eb87c818972152181d56d35d913ba566373605c8e45981a995b2dcb60f8d4a84abe111df6dab72057e0f3470963bf14c9fc45247e4da9dc3b231ee26753417143a4ea6616a8189594a62619227bb4c969f9ea5cf2d5da68dd55032679db4d3312bc096cd654b7ddc0990f85f3f7d54f74478afbdf373b75785769256aa14fa0d966eb29e6d67a4c6451ae9e41186ebf55ac476dc3109f81f5a855a4a4afbf819e069ab2a723d46919872e28fdd8ff31fd5269993e0fe780ee5ed79fd296507436316d962899479de1260ab7776d28dcc767f5726beb6f7f7429e2395f7971d8c4a54aca623e9ea1f90d37f7ca7fefaf1b363bf0e98a202021e2f0182f621bdff873239cf24b8767e1f1697aa83b52b21ae2d4101e1abdac32b95eb6f4c2d2ae4f174ad8b95c62dc221345735329137ffd0b2cbd4f1d958efb4941e159c868a9af580a9267dc307d84d2f3b0e7919ea727bea8bbad4b05a73a08ff5c4dc2753b71e492f2683f3386e894dd94db2de594648e23316da646aaa368e61966c20f0189a919a27cd41fbb5c115a607b0c463a27d216d5300604f762a897bb3a087fb54ed0b719f8a03b4b7c7d809b8880b9d2d3e06e04bebfe06db4a6eba022e53034a1d410a751165b327dda2207bfb35dc55710b0d82761db5525dc3da2985424ca9757d53c2ace088694e339be357367c8fb0562a3d816575bcbfdd666c315b279f8993ef43c87edbc0bb723dbf4e61be4edfe35cd8c3325380b5c0382a26c8978deafd2c69b0112d0a7ca45403eddfd833da4f66be72eeebc5e9e700767b7af8f9f49c21e040c2dafe2b93d08700efe79fd4565c3c664b1bcbc3bfc989ef1f8ed88ce0afef2f1b9bec1418d1cd33078b9552828f5aee6f6791681f2fd3b53998df859b49a33d284b5a48577473e61e360f80d4fee26ec4dba2f7b8c91e2cd17e2ca1083b07cf34367517420fdc28882f47864e10d9aa6898660aae2fd501a6944d70c508ed053d1e0651bee9c0d62089c4f8b8b9b964b2c152756fcf489294914238dad375b4e69cd784a1266c8e4dcd59b627ede242e7c876ee784800f0c6d22c42fb6d0fed4b566128757f499eb1fd291bca0b43e6f93484f6c9bbc3884258cb8c03f2bb4a87ccf27475cd53e0a82b59ebf4aa72eac9a7830913f8aa313065ffe63e2d3025a92cff34ce3ecc1cde6b7430d8510c24f33001af70097a5d8bcc858b09e3cde3141cac99341d2f81c721c0a974104996e4df5bbab608a12e9f8503509ed2cd234735e271b63d4984ee5bbecc5c98d36a04ee67a3ad865920bb28ba25c9bab1dc2eb37ff0b5654744fa09c19d00b2e2e70cd26297143ea31f6ac6135a96311ab2599b3780cccf4844244d5aeec41fc3d53a7a2e2282b36cb2be0998f035888a9f71153c4128f5ba58467da6e1e9a5b367cca7eca7e1e99fb786e27126d7cb5ee70f3e5985b9eabc4c29eb8fd39d8ec93b41aea6510d778accf1171239aae94a4d262bb632d1fe0f8830a1f470f70b7446d622e31ebd03c631a4305d39b8b34484b6b80ac6d700df54b04506c029a3602814b524e459f82411f7e9c116bd8d7766dfc8eaea46529853a72a97ebb190dbc2b0a0dbf312518384ed8fa0bce652c60f83ce79e127b2b9037ed034458bf35d2a5f2014596126a2af4b4cf12e1cef2191bf8d4eb8d9e03ca53ea8f54c0a4104b42e107e0524de5953358a890fbf4a0be366988ccc414f9de90eba6863e09a7909f65805b9c423a202773a78384281f27a5d1392181615bfe900dbc4844800c64eaa0be3167cdef5e386cadb24d15f93af7098ef76e2d4b7d7b22c18b8af35895e489415657ec99620d11aabbed41633d20245cfe44965ea3bbf2ba8dd2c80b074f0a890d7e72e8242c23cc31cb90c1a2091ca9f308147efba85e0ddb7f2ba8578a907a13c8753bc4f56d81d0ea5a629970eb52334c5d8b0ab1868c53eefa885f93676181d54b62f11f6ac23e02a728a41cb034f87a1d734acdf346b6e8bcfd4dab47f033ca77cdf122ea868494103febd15c3577a3b89b308ee4a63412aa597688b78c58bdc0de187b3dbb268e8335717bbfb09848946f06cfb218d59f1bd444c4ff79163d600e0188add875434cde3a8637b6e133ebce13e86b765b025e50c032a988ef2fe02a9e7570c16abccb499ec6795fde80eb3d946cbe6cac4e9bb0dc7b318e0d23a2e7b61c4394b38623330380642a3ea6ec943f971da3738a0c42e3dec1f3d88ab9d3b9e2a6c36df5ab6f4aeeffb2cf006e1bb5ce96d49f4e70939e8cca08baa8febd237d53cb8ce806ceafacce8b26412a44ed2a94ce3abe86413608f265b379980a16acbc55e99ae2a9e37445acc0f063b57406e0a559264f459114dd791f1cafa9bc7d579ea8c37fe0af4f1d4b5ab9060d952ca7f705748e6bf5dbc42a815e5252ad79259eb80ccf4c26b10113c2407ca7fd099da640daec82e30697e9ac4674ea8b0edebd05451c628cfbec21cbaf2e62196d73bbe1869386e3142d58a73e0e3fb1df99f90023bfb4b3bbb53554174a4597d287f3d6a00245da8bb7e0fa255d8759e1ad3eda79352aa59c6f402e6eb29cc512a36f42fa6b8fd00693c71c17c5526827caec561f42148088296aeb3384697b5b5d05e4014f25d845804208d0e56a328a5c835c398885e602dda177d32ab167937a5cd97330929f694254fb5f9274fcc5f22566e66696c11137b285c5828f3b3e24fcc22897dfdacf4a8cace56b3871f2fd1d0dcedd1832897f9a1b43ca63e5aa65a94c3e8182dc6c50dc8aa5e4735a08d4c54f04cd754215b7ab089c141a4405e02280116efcdfc9467e9da95620aedb17b4dcc940579a7a91ff7df019e18c4fbb51248101bc871b45050f167d5e39b3224ce7492c86b7b6d8efaa35262cb1c0faceea0fc0aad12f1d3190574deed5ce3571cd07cc80240819adfd87643845bf2bf4dd658fb58271d0916237313ba57ad5a20a376f772637ffd3f47b148c7cc9580d695a71873653a9df846f6b38004aa8eb7a8774b49724a19a2760ba1538cf49e0c8885a44e284a7bbf405f6dbfff87941972240e7e4bd27911bb6bca4f75f586793e12bd9550e6afd624f0ffafb4b5c3cfdd732df839f650edc31e40540081794b22441586621c2e94bcff1e9a69611e5e7d390c702d517058901dfd8c1e6bd2b26274a57cd6fdb8d4a58dd24867ef71315b81a877cc4062fa279fb3baa088a727829555db27217dc5f81a9a6329ec515586f6f36fd4e41d85dfadf722573ac0286f46094ab74948ef2ed205b7f8d0b07f2fbd8993efc18be8eb6bbaec9d6307c0575eb59cea848f947412a504de5bbdffe207db196f6d2d6361e5deedd30383910659f05ada816389e0844e9a55d8f551607b5fefb6504496983bcec8d73de778a067e9c473a6a80a593ce778a5337dc00f0e891b8db417cd9a0181eb36f3fd3b5bcd83ade54bd426079caaad4d10a57a2efc56a2085d431d9b12d7e489bbba2b298ab88556bb1db2a1f6651aaa2c4e50d8324b695cc9b83431c5f72b8da4d5733a8d02896839c161224d5b53387a1d9524157d784553ba547e22b2137d3b48ee215f3d8e340564102fd730354590a8e59077edea6a9a5b71c7a8dcb3ed3ffd6222962f20ccdc3e3a08ca4b116c0fa9e1f0032367e3c28ccb62854132c9710d86c04c8371ffbd07b0783a3b7fb3d8dba71fc058c4021f987c132e343629119c1d39090b2df880bcd378130a3aa5a98454a02f441d80c1be532d08db4ffd6620eccf4cdfc66d25410084c411e24d538a4eec8d88b03175a57314c49649c6fddbdc87d880cb6134c92fc4d9b7bb752002b7ccc5c4ea44a5c213e5e7e617ad71458f3a945779b0eac0763c4ae6787c1cc16a72c54b990b92d0acea178ce7babe49b8774e57337a13d21c4f6dae570237b4ef27f97b0a9538f791725730d1e9128e54544825ca92b39929961fe0fc8b594649308e52494c511606adbe1b1521d347015c47408e70e877a7ea37fc4159da8dd0322eb127b6fd961d392430f519aff46a5cdec28bd5afbc991b34e4c4cd0ca9194cf6e0d4c2698a5109e517d7a072fee5951e0461df52b0aad5162d82bce4ef850502b19120ff8c47647973430ec07f79d05578069a91ba7899777dcb9c57432e2c110eca3f3e29c4e26e57dfdef1e71cb715a068c20eb48b83b787187c0657b397127e621614596581b86be1ead4dd36355d97a555e35bdb63ecb5d9a7ec57ac6c59a5768dfd68c53609b90bc366e5a34291e64176a83ce0aa9571e49f01d4f8a4aa3f95b55f436852ab8ed94945041103aa82062e60499b344d37070cf8ede2707cf82f45a3bdc68b9899c982ed343d1b4ed57181b9a94a8fc36037d39728a0e7864df02fa6f143a9075703dfcfa284c459fe17c5497c054839561fe5afc19590051829701f74de0f98adfac260b79790be93626e020943a461438607867c76ef3bccbdeb15813320400e81df011b75031d25724faf5e8c39d5f97ad0af3e6b3ce00319c703e6e3989d935c1cc13d7218800188b50712f4117d8af08c7bac008e4e8a2774ceb28ef993a5f2c65bd06b1e05e5da3a2b5c6b2ede59a5baac1911bca94c336b0edff3faf3ed39d9c005a3f2ddc57689bf60eda17ff0b13a713202d1ee8cd9f2214f4aae75ee132d88d0cc0a10dc1563f9efd559848fc004242ac9b8317109010882fa2cfe75ab38b90eb84b5d78749984f204a94d2f67c3b74c2c8c4534cacc53777f7273baaf889a79ebd69743d844676ed9837873818ec6a97f9c311d7ad9043989db597aee7064999b1af71b0f9e3fbb77d39447650c808d6a86ae58a8ec09f35be5180a1083232308f9a0a5323c2147e85e652a97738a81720ffb303a2a6e3d4a7f80fe3c4e72b4d2d87304ddc4f829f374570e95f10bc129901a759c4f0b2e601a648d475f0aea9d52e846f94d112af3c7cd5ad0a9c0dafb478ae2aa57cca66aa9ba428b040a6e226f2a061ca5a2d70c367db18c692eb3403edff0f97e922f0f26629005822ab2697c1434a0d50d8212e473c597e2e2d5b6a41e8d748c55a56ff6ecef0063ac51b01c561dabeb709af7ab21f113cc9ec1f887cd16885830d5a90cf83b595ceaece604d6f0f44e49482a27d18cebcd38e378a2d242732ce168031def839eef3dd61c502efef7f0a7a3e0c0030865021bbc7b9c8a97e6e86ecee07f66746b73330d341279b8395e38bb88409dd087726cd58ba808f8ac5ca4ae62c243d45d770d2f4529598deb20e5ca7538bc9a885d52e3cd1b5455f2beafa9e13cf0237a3b99026f9ed3803da6ebf7d73f8bd749680bee7e88f903176d31b0cbaa75095c47ab274093d26d1c47393e36f1940f95ca2f9a602c3bd64a20c69712ed6006363aed809e58e60ed1847448801d8967cbadaf1088bc5ca2c8fe9310332ab98ad65e645e4a552e5727b45739739f4bfd8bd0080629ede7b2465e852a8b6de3e73307969ab1eb5e1fb6b03c98cd3328df2c756fc6feec6d4e1c1f395a9dcaf58ebc24fff466dc7f196b7195255a0c89384fecba3c2275f8e5780658f2d1fcc5e66b88df790f280faa60b10fd01580b9d4934b11c0bd38e8a2ed915e9ae4dfd6e32883d646334a47fed8220e0da644350f4dc4e326b474616a4a34de98d0461f7af434ce9a825dddd5640f8e4328f240833f1dce5471f91af14e96d2cfbe7f24d993a04db330340849e245abfbb3b6e0beb7866080702de6136189c4f3b8e3e4c4dd7932e2755306db154b5b89cd9b07fc1692f91fdbd398a7367050928db74e0033d32db696086fb72c51f1125b0fad443d7b185804a2900554778a994657e4a03b4c25c5955bb7d7d1fe178b282ed58012e117dabe7d7d7cea2f2b06cfb416dabdc76c4f7b811d4417327d718124e103b96fb59abf2974657f80d5e793f18055c07fcfb826de2f84e4198a78508d07940954c6b06daf79344a9b5f073ce72a279c473cb47e97453eefd682d55974d9b10f05ea7b976943e0f0b79bfc83996781dd303654baa16abeeadad587592e574a7a292b93bc3bf4cb09599fa43d44db0a0050ad60ad1796995eb55160ecca0cf889554e0432db835ec9054995948cf55d6b9fcd939f3ecec67e38a1bdeeb72b6999ff3409ecb5940d58f8640b3b1b18db9f9759fc50108552794ef35fef6a1f5758921851c77924bff326e2aa02a8562eae40441ccbd4f8031a622d7e40b7f2b2bf0c111b7d9d97b57066adaa82dcb03cc24508593b81b9f6bec75f7dfcc3247967ed7f49160e254f2c28fde9065d73ac7d8703f9b7345b0d1de08490ba8414e845a537265459575f5017d8319fff41656ae2bf8b436b40060d544d2fc54323c7d8b3d8cc5baef03378ff3b045b03cc55f01d1cd4c074e74b09b7d88cddd3182b59fd022175030c788714d79722c3ddfd46f86481d22a2d16dafb4c323f775f000060525283597f1b4be240e00c9ab720106e9482f63a6b7ecf29a922c4d1b3157f600225c9506a7102b8b154083394d1938a3f63456e8d36832e3a9e097d13731b717eac3ca237e42b0dcc1177922b04819f9fdd00eee2da1e7c02403e502102f7a23ea72d21afcc5a41f76091e8169164129df6a9e94b337327c4361281d708cdfd73df95472620e152b77ec2ab17ac37a1980ff56bbc35eddac5888f1378af85db9089b32b10ce0d6e5f4c3f6d41a06183c575600917055e01b365a9f49f78c7fa46803e5756838e7c88545a65ef15abe25f3ccd60238696f253b2dd3eee4bcaf046b78690790f3f1468979aa9d1ff6a185f1c35eaffa522f60afbd7dc464f11ef45ec58d4263fa8cbe4cc84734f6acf5883e3b344363f0ccad12d8c5a9af3112a4f47258cd046bcf0511db303244a9aee8953c90e6ed858ab0b79f69d76239f74687f4ca8da3489163503839957cd4a2271508c2a2eb96caecee1587f5f5e8a79cf071341298542d472655aad9e0e58420d76b3e2023a8368e7b90fadd19992265e058654802372b592fda7193d0ce414193dd48defd0bd489a97648eac45de9c05e8d248a570aa570f4ddb99c801c10a9f8873ef4b756fddb9552295519b4c4dcf199392b3a3d3e7617bef1dde9da68101467d866b1e793cc71bd546cfb60e804c5ce88a7bed9de6ba6ab8498af42e12f29620d7e559c73b3e2360958fd1d4b2f4b5c1987d998580bee9a119448b79db12fadc0dadf87767303dc006b42106eee2a8a9e1be21c8d1bbcd54f3dc8700b243a6b0b1025a2fbe8f3f7e8a07fe638c25601ff60beda27a970b56e4616a6ca78cb74a822438a6a42adcbf78053654ff92f30ecd861a59c0607f39637d51eeae6762d3da4da3e2f25e510cd8b48583de312e7aaf65d0e963ee64469ec32a796274971739a30784d9b252ffb40b1444d58f29fb5b11d3cfe6e1e8e99a93c57c73c4bc8b5fb23fce36fe6fb139cfdbd9e5b9c113cfff608a866af0e763dbdfe572d8d0a777b7a6b30061d29c0eff56a2e02ccfa9b48fdd90eb5d6cceb3d6e64002a47e107a438a30e3b5ae2d7babef4a5903c362a9bc4232ddaa033962d191e79c7641157b9ad994af436167cce83ef55f884aaf7800ba0204f95914c697c2227d48b98c274f9e2620db36b45ec7253ae882398c81fec303772ce01ba328dac1db39bbfe482fcd27a5912cd2c2d6cac3042acc79fa7873bc2911be3db4773c82e5cda5b260395c57c2c6ac8f331260660252968b420d2ec1ca0aebe8f94f15e6d0be8e061eaaa5e68f5b81ccd62166a7f95965d66f89e9bf7aac7ffba40ff1b83f5f425b4f919734cb8195eb230683bf39748664f2aefa7ef8d69e4f38fea83628ab2f5c05683329153825687d0d651997feca97be85ea2e454772589d2d3a420618b9b388df14d6aa252e55937f280b976f5426dac7a814d027a3cf36f5c06f89cd048efba484130ceb4a1ccc6568f03a28392508cfb293f6fa4b49fc4fadc247ed2e54ec20d2117b58712ffb9a13303691487ac53ebeedf6d3ed5c8f254a27f4aa237ffca4de10a7f010e8d49d8af61708cdf3d7987a7bdc853d6a56e15f859acf23368177f5e37f2ab55a4f4d0c79d0ce5d125102b216b764785ec25cfb9557bb19d1e90216a8cc83223921531892e263d6e51e8fe983a34e91af1ac45fdf7b3520fb02b857a49174921a8a8c17572d2d56b0cb4c062515e7e38732e1e6a1dfa5fcb1aae1c074b2e67a33e93589641a2226a20ee5eb074fac62f75194393d273b20aa8e4d5f61981ec938876618d4d9bcf36bf0f4dcfe76f660fb3af1827e5051a633fc45542b28bf65a0f44a74ec74d8fc1e902e3bf07983f8cc9ffcdb553c6d536ba05f5a5514051caf1750ce959c4fef08bfb93d127d527a0fa10b84d276cb4f50ee61de5697bd408f4f73762c571693b22c77316157efc218d38b3d02a180f3248d1d1ea8bcae5106dbe4481f901e79ea8fa75836d37fca803c70db44751679a6d7df55c855be7b7e3e9b33a29bc1bdabb7b1ddc0479ab8233d9e9ac6b5a4e458aceec2e518da0743c003784ef8431a0e7059bfcb2b60d5fe190231268341fdcccae27177b49d1901d209163f3c5a1c00cf41e49cadfe5f0e9f683bfbed4f07666ec7fe84f7d56cd0bad51903cb1ee422743b9a918aa9f70f592eca93bacd97499c97131aa48d5c4e552700531c22fbf0257d161803cb931c2c6d753b95fa7f9fc0cf53fb1fc8c577f40d69e8c6c26d91fd817c8c4d0c4e07b648bbd67c08b040200aa1ab8611581d1eb0c30c618fb01a96016b005671b443db391abffa2c4f9f9941e24fc58378b613aeeaa5164a0b36655796beb74b957b0280a3cf31e275c1539b3d088055802b3a3d4158d8679b89c6f8c2e7c1d141f24cbb7677ccc412dcbc2fa4e7219f9818c3864f18a572e124350a983c3392bec0bdd20cff24694d81406d017e9dd324defa7e20e51842f347ff5a4b7878d429601dac4306a786f157b307fcbbb5a2ac6d62aff33122b859a2cd8ac25da672c372bcb5e16905e25e7e3c602b2716434b46dd00a652ccf704214ac1b129f9cc01cc3a4d8a6b244434b9533171dd62b62a122353bf852362970c1d2ba468f02b3b6a6042edf87876ab54d041d8b4e8841ede553d5683ef181e4c1d3bcb4d18a2ef7284202111f8c158c45eee8bec00a70468d1ae1a150d77daac86e01afe2f0fcfaf28daefa3e6e541483917749299f78cfbcb6f2979f15deb036662fe08af2c2efd67d67e98127e7078c99e0a2db836a05e9060d8b7c841c78ea121f94bf25183250f92708b1168cb203fa10e0466fcb607c8997b465076a32f34195d829004952966386c80f57451cedd67d4843a113525ae674d140fbb30f545b720156bb0cb6e9eeaa336927e039f693f8bab8f4a1a827cd8e9bda6c52eca781985771f459351ff60af8a26a2a9b28e49e02eebdf3afedc3a99a8a89e9de18be32ac23288c4ee9b4a8636c507f3f3bed054971860794c359ac8f4a16e9a592d36c8f5d86ff7eaaef128c40b0419c5afc2b855072c9d388284285cead10aa7ba657c459f2ad14ade1526f6859640e2bda7b9ef54b294e397254cfb9725b0ea0de674cf9a3206b96ca08c15a13f8c254ab46e5087f3bfcb5d1ba6f0b02d88b23543dfe141fb3960acd6fca97ea26391fbe24269b7dad39ca8393f7c3b66185e30cecf92fe472151cadd0ad3a362d773864f366a34dfbc8f2795694058ab7caf734b72b7c93ddbc23c7bffabebbdc300f525f8689c51459f1ef7879f6bfed9b226621f45d74a3c163e1be7c806dff858eda6d3077ea494a77cf3bcac3691493146eb3d92cd59f45177ca47bc65601f09a49c55c80a2c00c3eac0d6811a47171de0765d84751e263c4c8f9ad2eafa9a1f3f730ac340661dc5f11cc8f28d97e350630fc76bb72903a8c62966db6d76da6797bd5c42ae57c901ad177759d017fa5f2e07b4ec3645cfbad09217bca8aaafd2bd4b169061269e19bb0dec9143b6225778cd7997af1be5cab673dded27fdf5ee59df95b401da0b7a0d33240b6be8b31ceb2b48586010308ae7d3333d53a86f53fbdd3f475d52486a476b76a133586b2df79258ddd5e9c1a2e83979cdbe0ef1d72b00726830ffd1dd57dc85249c401cd1164f7b1022ee80c01cb6c6cc3edc7af4e963266f216ea325b5ed8cfd34f1eabc25e1a59766f82eb5bf0cf4804a74e2af979a4f23ec273f4b6b77666532ebc532aeb064d7aa8650fbea5750d33f183e76d3cb6c0c4c8214fbaa96a864856c15b12d69ef10941415c5ac46159219d87fe825d1114aff2dfe21d91df7d6579da7ff1e8e9f05874276515d5889bf0b6f3e167ae8bdf95e1c70548795c6417c92a4c70f05f6b68de22d43ce7f3bdd681e5aaa260c835d258d6bfe310a12e752455a3638019e5dcad726d2cd50791b92e9a203756d41a2970f8872782a255adf153173ca370cfc87c2106da204a38e49b575ddc88e70c635bbe895e3d6e2d223c485d5ad7d527daa1245b33315ea4efeb5213258855562e6d51c1005425262c46f3cbf3902d246ea738647861c5778d9205d6b7101ffab74b943b32d403560e9704e38b6a0a247c65b112701b7d77b3c96de99f0d4908ecf5cfb862d23d5f741c86f5d7bfb9dbeb5082f88b703b317d8bc54d8be4ef2125173017f6c1f265eb3a38ed742e75a5e0926657968d883ffb086cc68a9adae7f56150d765b43f6d1bdaca6a49674b54aacbfed6b340180369de0a1d9916b51666351a985e7fecc77e3c3023b814b01b222e14b9bab3717f5365e9b270c5e6642b457e940b83d610dd3ec0de4f705c52197cd001d9dca9802409b1844fcec811a0c76682ede91e51112a2f25e9c1edcf3e904fbe198249b9a2266ad24c7c376318913deb25c9f6da2b5e0c32fa7249ffd998c09e478bbfe33f351d27010c7040bf7b8941612aa7d88470373731260074a0e40f6af06f43aeb38a00c8aa6a9563450f165b3136d8e5f4de829fd9d1ca11428d50d6efeea2ec03a146e30435724391dc59f9bd761796699fbf1b566c2d37f44e0dc6fb6cebe52eb42d573ce50e788d81690e3e27a353c9881d42678e0dd7b8d3b15bef5e54ae2f9826e8a5a4749e7e49194977fa18188eb10208ad2ce7ca2cec370d1417bcf2b43e6d7a01bbb126eacd7348ff622f1ad86cfb7ae7dac60c8693895acdbb608f483c97b86c9d1b9592f1f43c27467d20775043394b60f14864763f6eed05c65fda92dc0f78ed75f45ac13523ae03528484d1e4189ce5921f6a733c56c44337a67e43cd2a9cb8af491a3589bf151c1792cbfd5d378c654d0dc3ac00a3ab42a4557eea0c85fda67e2521c6d4294814edb795f311134b127b8b61190e6c74cc7e5a0133a4d067a0bf83e30e053d61730bea5a85929a05d93b62aca254af7c74b7af0c32d62384031103220771bfa6ff850324b067cb9113fcee33b91657e78401c80f5d2c8e1f8102d2704142a7ab400b3680581bbb4ae7494957583c9ffe15c78e8d8b32519d2dac090bb3702c1f3cf9418cbb21bd8d025b6b7d5935e5720ff2217cbc35b02a9a7c3b23be7818dd2e046c8533de632e8cdf5cce426b7f6d1b9cdb12589e7d2ebb28df1d553b7723ee32f3e0bf73b9fc7cee3c2a2c9b2a65a0e98f216cc5cbf3bf7d0ec1217e3bb2c8af86865db991cdb146c0d247c9eabd87ea75b2e6071418e48c2b74c6d1432bfe7ec5d35f93ec11e9a3ad099df76be65f76b114f95cbc7434dfc82914f26f2bb4a1bd23e769bd4b128d79f7c39ed35a8ee01f6a5f56c87fa692290ad7923b438eb09d620e9bc83aa1c9af185576ac42db07e046dda664de7cfbd36914523bd1072ea0fd669c2912097118837699d049cd04e910e5c118c6d385c6b55106b3414cf29b3ea91524c9051acc24b474b115e173ce19cea2fe6d3edcfbdefff99cbd91a2bea986815c6a36a383fbd09b5fa75ec7a8131b78bad0c20aa7661f55eb882c808cc38046fbcbbed9a64dfbc7138ac1af90ec365d772d4170dd18c4362b0466c0ed5c249c16f73977e3176c1d9399a529cf79677c336114c4f0997a8b6f9b855fb4385624e0d67fb84138299cf4a5eb46f78154541dcb237758f00c09d63a0753ed843e5b30e01cf437c420fd5deef5f8a55f9b15b901505e91f5de32bc171373bdfe0f03207f51eb6dab387313f1991a3a97d1a9c68c283ea4e1bb09c4945a41c56de77618416887b532c32390e6b4cc044d998a58ee6e88e3bd3afa5bdaeee08f5e6a220449262535069067e2513afe8379299c106e4f0ab933af4eda99a3f20fa66b8a9148ffc0a3a99f6131c6c3336657533221263191abcb175ba00bbd5daf8bd3dde50715acafc189c2895fa6b31bbbabb184b193e454d48e14910a42291b43c8a0c4881b5e35f6449e43be993f1f290f31c7341b73533491f7aec272651294c7455d3fb6c207395d76a09277cba5630ce69403b11bc70c53dae67b1bd6323ed9ac0035c97fadacb6808fab97be94872675468c3bdfd0d8d392a87fb3c5e2c70cc5e81712b069b54f9b825dc1cf9557031bfa4ec57b34769baf7f78535636fc24f4932a171ed3b8c41439dcd48fbb540b1dbd2e8b4826f88b602615e07e32f4aa99aeab0e0a5d5706e9a8ccbed9577aee8bb24686c93815f29e7b31b0365431695c14a97b055e741cc350b007b592d17eae33a128519267bbda111656b13edd5410ba2c1a48698e1b04bc800c1a04990cd6176e3a7361a365415ebfc670fc16021649dc72baa9115fa6fe00142e0f5196af9d6170b423fd9856128b33a704dc7562daaaefbe50a0d57b3f8738a740e21a25104b7a7c427cb05fc5ed729761dd550136329f7449bd45d06255caff59b9f251675bfd759d132a358c976404f8741c379cc599c64e4fe0a03cfaf8dd8876d23357db847a964c9996deff98773c1e58746c3d97dc2e10d8f96f0a89ee16abcf2daffaf82eadca4c24b35c8b374c82284ae8676e9a35739e6bf4d626d0619332e18b7f2df1b2836417b779220f46d938cd5ae68cb057beb89afef3f0e74a74a20770db0b88d394bd53c367bc527da8c01b551c6127286ba2cef9935aaf0c4e6593f9bcb2b5c6a6f9d6d68a6bd74c8c6dd8a4452298b605a4c5b6a7e2e19b1cd365ca4266c9092c5d495785e5bef045dcc1d59948f134bd4ddb87f81283dc6c0d13d8ed6f498af36ff5bf95995f216d2d68b7eb04fc70edc51f0bdff02e7b4cf1793c6a77c7a6d970dabfd0591fbe094a534fa2e9417cf3524e38078043f6b1c3b36631966606da19cc510adb2efe88cf397cc911c2afa77cb2de9114b1898be58a2eb1ddecac5bca2f4d9c1adf76ab59e64f9007cc481f417483bf653d920f187c244ee3644a4f759cfe31cb0b70ded7cff2e815801c9ce86d7ac91198a6adf00df21ba5d1b8d51af62a24ccb4088e5e89c8e6574a332a875cd9341d2471a8d17f812a367196287286b7d6da73020fecfc097901b46657f07907d06d40fefccd622e7f9f53da14168bd88567a7adf19009d80d58a3e7461d4191956b3c34c1a93709070b88b3c0853781ee0f332754ba0a0ca2aa40dd7a7e0162d3ee591511af316edc1e5c76b3a4a34bd53345f4de52e24fba35d46283e4ac06ba7cf0681c46dcd7aebeebead80f5508b8297dbbc2f744d845355fc73fbccbac697a6d8bb288c67d5950b5f51fc4e0002306c91b4837f80b2948fc572c446b0927a68a8f00b593bd2b1b93939311b8e33056d4472ba216d3be3659f8727293e4118d7e47ced2cd56efd2a154704013924d90c3986edcb5d756ad083a1573a652d8d34cad9b2836489dbfe5d96678f8845006e04c91cf6dbdcc8e7c08979eef9ce4540c26d0edac0a3bf3e7e9596dc341b852b504448a64e4c028e6b60fc7d898815b63b74741e71d811fdac6b25055e3949e415ef1b3eae4dd39d15e97eebc82fbd091c07652b99f9fd4f0d73be6f3c64f74ce536f96332970dc1e77be6cbaac5482912699341932e2ea5ff0e0a47581b6ed651e943f46115581b964ccf87a87775a0bc3c4fe508e93bce05b662ee19feb05722df03063b06ba9495b14680e629e0d7faaadeb59f896a35d7bef7a48c73114984985eff2de97e196adf14850fbec77401abc5176e9cce494168d60090d2de2e252b4c644bdcf78a51b964cf470f62bbe3ec845ad60be4a9b8d8da45fa453093c3b4bf94140c51288f9e6e821c47b23ed0d95623fedf6d04d70f921a54c75123942abe0426c4576de51ba09fa1cbefefba573021027b169ce0b9636d1ff69272fc190c5683ba28e1e07d0ab3f60dffdd04ce0d1c6663817171ee7f1794968d9a64eabd48813a985e5ebeadd05ca91100fc137ab1a31760d9ca02c4129fac3fb9110fb9d1030d44c4024d5eaad52b7ce9262f9109d1bf13cbb2130d48a4a791d51210de90c92a1cfdc0849d66e3f3a5c1e3c6e02aa8798e1ba8e67bf8a696da6ca88af336b16065a4fd98021d46014668dda6ac6df1b35fc241cfe7d6641e637ad77b47a41416257f40ca27f27e062cf51ba95097deb9f32963eed69d9db94bc04d06161beff37b29fec1806f9125deeb1d97fbc60f3a3e38589c014fbf0b0fdbdae26e9f028aec73193f04cd9417c6e257479df69c36aabf78e7161cf7663b1e8e2eaa6f84c594c74bebcad50dc6c957356b3cbc44e452c8b4ae31bf48a1334e79d6374eea69fa652cd94e6814e3cb326b757bbc1e6f5f63ed6309e0acbfe0ca9b69b3b27e2fde7e237646f59a09b4b4e9e44ca3250b562493c9cc66c9b161e2951e03f6bd1a1b38474862b99bc14a85281ad4d817f50330c758b104db6a5ef85e4927e2a4631224d4ef04871b60239f6b270baf7b5e31feba0b218b484d9f4b819be90e7cf93effaa91a6b143b46e2a3f81434a627275d20ee4d6352e9657bb7be1d4f66719653cea5b448b9d310ed64c225d4048eeb73492273958ead03d30e789ac10715d4cdbf22263a35080fec36f77ae6d809aa1ab757a53120f5e0e8a61354d69357a32c2dbd3ac02cd155624c4067557a69a16bb9bae99411ff689f7d68b18b7d3e25efe49990a2b254ae0e2dd8fffb9b6fd61b98096b53fd40c23b06ada26ee9c4a4fc46406e38465c1d1591c425bf573e7e9ab5b453591b0a92d589dbd43b3638dc83ee686fc80499805471e5f310f84fe33b954413deab80ecb5a5804a987f8b793388e47ee3439fa88fa2c1ff60e684c314d99e510279b326c44d6c1ee34d9de3610804043333918c2cc3b9729a0c66067b47b2b35f2fb46c889bc1ebf525d13218b30cd5ca158d06ffff0ef56f9d67b8f9b878ff04768e602ee37b0f39d965b55a12b3a4ff374ad50c3a4bcabb6ade2bd7f0376d935ffdf2920f3ff37ee4aa5dfefad66eb64421c2b4e433dee3a1d78fc6ef3835c8acb21eea50c8bc8d0d3812265f6d7f42ef1add116b28cf826d6bc29851a4c0105dbcde3b747784f9f19112b7e0a81d0b1bd646956cf0567cc2b984b098b7fb09dc10f0d830cc8a490c2e36c6b71aaea5ec283a8a041f77c295219892364290595c76c5a379f669722d282cbb96399b7cf97adf9a87786079665443cca37b82ceaf0fdedc365c41ae34060e101367e730f94573e9da6afd60fbbd8bba26b5b2f18e1a25f0c05533e8fb49847f919fc6215d8893d0d239bedd48156e516b287295881fadcea971767e7b272c80f48e2b002b2d72462f323bd55cb69723f984bb352c2232f233ca9f1cfe4cb9fade73d095548892080d40450278002dc52f6be32ccec898acf4b2331f4965c2aea9cbc8c77d5d7177179305415e2329555a0183e6d6664c3ae23d18390d109c6842c2812941859419fdd61591355d7ac59371493b4944e935f8647868c674e11deb4428c16f52eca5a22d676b2796c5fc8e67192d52b132d90cb2ab81dbec4488f288e03c205999eb1b14d1ddaf5d09b5d2a92372defafcbf55ba78d311d22783f0d88e954299b939bbf8c54d4786d392c05fba415df89e725605bb3480cb3293fee895bb3c87a1f5a0c57f67ea97525a4a1b11e589932a57cef168ebad5c141c1ce1b0488c2fdcf00ceb1389b142c551c6c5bf40dcaa427d13d1213469c8f65e62f441f55948e798b04a56a3d9eaf336e9c78125ab9823ef7284123871243200f4c2140fa51beb2f4664e5016c9cb90397ddba4ef896e13ba87ed770df9f50d4853dc58aff197c3e276cfef7ec25e2af358efafafb1af192bfcb16e67fd1446857f46042ee2512eb83532cd9f8c408001d77d544c564fe3883d3e8902bbc3e77733176191ef5847245a03f77971b41775d36a4aceae43b66fa0625045aacd602b18ff668952f114fcf0d6d459329f4222a2b6fcd51ed0e8d3d17f096a4db32e9f0e89fbfe7e9ac55b2ba673a8b8b6e56b5102b606dfa74a4c157b6970bf4795f0080d8a13270cb2a5badbe9c8350dcfca3e005c40bd893af9e7298e8b05020883785ce34c46d6bd1efd0ef6a1ba8d70be4678ccacbcbc1f0e28c67f299f4b46069009277ec8f7fb83877f6d8b087c3f7394d2c8b54cfdc413b9d4f2375a3d037d135034754e7a178152230ede40b800d804e02b57441711c78145a373fa1c288dd5cf37eea2427621ef5dd1e67399297b4094d51ce96c3dbc38b19baf231be176a2a3fc467d928a04286b25ff9fd6a1fef49bfe100454595006c07b83289a306aba782deb393ff6fdad2953253348995db6794f0fdde1a9fa06950536553b9885c7eec1fb4f80d4b0e54400a36af051f39ec660fd893b266c9f074632b4f58bf2297580d38eefade68fdc29f98abc0b876979b39229e3df94413cc3cbf1416b8d6fcf961c41f67a73d6c7ea271080edd5b271f5e673d59859aac65669a958325d7fc3beafa01b0ead9bf7f3cf7877f07171ba3b12c38b677b2f7046ed3555c45f76d73bb4faf5cde0f97bbe601bce474eaa709873438a5d8bfef404c5ac3a7908b844f21ed9e906cedf3cef5c0335d8ef43d89c19a306d5bd05a3a274cc1530be359056ab6297520e8f3a651a3cb2ded59ac5349991efd24aa90cf504d9ef464f32bab1d56e8798a079d04752890cd97d759d05312b8e8bc0af1f31b945e512ea8f38cec976fb47d8040c4bde5301c694ee5cba26b22b48546f52bbefc8f2a5233a901866880111881190588ba64b785e123da8cd31841d9f4c1b19c6ae4978e86918dc2947dabff10348de8ac8cfae197db8f6d4f4831f275941ed044a1be34c0db6f7108a9b36e2e63636f446d9c9db46e1fa88641d6e5373d4e898558dd36fdb40a5317882175a950112bfc3003bceda0f3548a028a32bb68f13282fff131302235057e6c7d46a472726fb5e2041fe661624f5e6907a009621d86a91bb826e10c11a0cec0a4cdaf86673ad3856438f898aa5b93e5a2641923e7a95348e25765f5a3ea4f186217ba3d6bea953ab01b5b7eaad1ec03416cf1e3435de48ccf3393b231e1791f0d1ecf4202bab5cf98f21028fd2d7c0be6bee251d2ccf98fd0f3a64dfdae4ce921b37ef375d9ad8ab5af1db6e0fdc95ac2adbd67be1303c4ca835e7a51c2675bb3c3e52e023e233eab934c603041eb581a4cbe8f5ca3a6c4d45a25f80aa1f7222b3413178134da7fa6d1caca745a67c25fc37f0b918c82033153e7776c4dddf5dc5fcd9d1b76147987bb733d2ae3b70bb10d85bfacb670f96441c87ecef84d4734f8999315ed8b35f03f3d662ed36429d2e16944e77ce6ade402660a7e329fca50a840dac97852f4271259de03a2038707ea4edec6ceec4ca9805ddabdecd80ea86ff2456125c652920f461178f193454676a1c6b56dca7e680c4ae3fcd86bc2147144787fd66a100d2c43d5ae6845a927c100475ba82354c8e2e340c60ee13008c394958e94f7602d391ab038ca715f61537f9cbfe2a42f6ab7a712d1be9da3422997c3e34a1f9223261a6556f5ec9aa27234d4e3256b52b692718843acfbe7f3d5bea61afeded30f9198d5a2a2cfc2b80c7e793993d438ee4b2021836dc96265f0748cd1d9e3f0a2b9363e94c2aae3af78ca1e39f177ee59476f01c55d62d6348dffc6214e7852b778eff0fc5fe42654ba930eddc0e17234609d56cdf7b32ca031960b035fb445fa2703562c54135bbc8ec663e8df376ba8b033216f4bad1640cb7227651de40f0b94676f87a53b25c2bdde24e0cf8c452ad58e050a991fc3efda43c0f81b6538c99d57faf3a2863bede68e41cb6f948b947473a2330ee8e705d488d9514b1e66e3480e5578100b396701ff1164c96e2b4134a4aceb8c984887532af9300aa1649225d7d4ba49108a208a1e66c6cc4b79c79ebd1feb561041c0bdae9e6a07dea7bf670d3c2d5aae8e3e551386afcaf0acb3dc24fb03e4ce539568537be2bd11687d4f52aecb07123e4b5d40c95c538c3078326182101e1ff50792616aeff4b21d6571b64d47a3fa28d7c9a3a108fa70b66d108857c8fc1c07bb2840669ca10efd16fba2184371c774cd87223f75269367c016b244e77eff0d015295d4d2cd845f60b971370dc76bea003c017dc2585059e94e662c9b3ec09abfc0d4811ff72683c276f7a63d9187db37e37df6128b250a0f008205246c5950b2445708e6f8a4b972b0c6378acb9985ee79914ebe4fcc75eeb0de49a284964fd0e2b6347734365c00b34e1d3dc83cbd74cf36b7d794ea0c1a8a4b720e9e1ec6e9f97727df5d9e36a7ba9f9dd3796e03f8ea876ae5e8d1feaf4ffcab8517c95f9f6666ff555460ae8c0fd1d58465cf40272657e60b027b68893549e8a699d6f359f76786eebd2c5e05c9f53ea613d31292a23a8e4730f3a38e04c247cdad9026d4c3f3bca2876d27880795e72959797c5b57e7b1cbd529d2e29c28626ebad0f659b65f2c2b822d7b1d9dfaf2be01f1cc266595a1c6886c236fae9f8735de8d00100a385f1d1f460701b1c57451338e35bc8b9b4eec3796f5a1fd60ca6e6451a5384b1a0d23ae30efeefd47f1d69f49d1b99738d176c72acf81c9b5b312cd3be816cd13560a88c3c32739b4da40ebe977373c5e3d368f1bbab32df37e277b190c2ab12a54f725ee226d31b35952c030175a4448b87450f26ca7987a9bde2f852476513e391e3e2b9076328703954e7a1aab752dbe903ff8b785ad8e2986d3dede76066b8324a7a4bd3eec363c8ef155e9331d9278bb928b3bf523cf6a953d9efc7990851836fd9970e4d582f4be625d442275daf9b512c397a792929273ab82b8bfa23e6ead28f637202876b3bd1ea755be63eb7a172e4d0ce1cd5392d0b6738492b4dd16b795de65c05e35eaafa01d3be5311765aa606d9baef912e1a45cc345511a7498bc0ca56328faeaafd653f8dbbcd23e07e9a7709750d1d5f424c133dca574cefe320ef38e3014948f2ed727e0275f82874e23e77817b39069e5a20964975728fc593ddc0c498bb35a4623858411e906bba390ec99fd30f18ef50b65fe4c3cf69b584ab0e65de298f111d51b27c3af4f32c6f123ac630898d3b8ce7b3b94c2af424820f47f16f65610cb3055a1d1dbbb3dfd3bd9ec87f96b7910a18adb58622d4231b09216c5ed132651a51da3364885483654dd9e40ecfcf1adb57a28cd2f932dfdb7cd22eefbb99096cbae922d0053a797d1d2a8bf535b8e4bfe53332b250cf5608baadb0b41ca68a4acf29e9aabb2ade5b24435e653653f69bdd6188e599a356b54c65c3a2cd38fd03123672ed2b8cb86346aeb85d932f1501471d570ee26763a3df32197815864b728d58cfee4eeb7fc4ee3c8445e13401717334909bc66719f8ad6f520c59dd5b777771552b58cbbf58440c2b8ce7adc9a13a7f2e05d995afe5c9b9ab98ca120a2997d4a54f0355c4eab21b098eb0a414e880ab9c773f201e2c76a0ae9956cfc038e7eb17faa15aaa15101304c59850a816e48ae89ad4198a03cc7e9cde11cfa52c54919c1bef13b171d9111f355fd23d3ee6700e1a1975fbc8fa4c13606a8635a9b6be88e4e46188928a948cb20c5a707357b1ee439878aebfaef5d7b79ea41bc6f2fa5f47816a4306ed28f5085ac74f61337e6d404e419c24774352480f566d4e2ff1960bc87a637966dd0209293270c803a553f7baa82bb5eedbbef547238bf23edc472fd888d688187426e41eaee6f2b3f59bb9d33e117848dc33137be009d880d43c88a9ba873d2d93715bde2d78b6b055c381ba552cc26e76b0048f0a0df8aff55338e2472bd35643f932e00b21b71c3ab6e6958eefbf0f35661310bd297e8566db83b7feff5fda7c68c1e37aee0ff1a8344425d169b681fd15aff9046aa68185889f736aa194cf38bd96a030356caf2572271920ba478945e9df67e83e699ded9bd81eb0554c7080fcdb164a9f32a68df255f3bce866f9785b9c9c2b6d84a2d2c9094f403f8e55c5f6e8414e30dad9f699c510b63345d92f9b9adffe73f5f3284ca046b61bd46bd02ad7fc52de3acd74013369a436b696070e337331a3739b5194d3900fb030acccf9058a429a591b4a656b6e6d04f959e315483cae8fc6142a48621d985734f4cdf6b7c90ec3cca5483975201866204d3ee4f9c0ace9a3f5cc482dc99c00709e51b9e32fe48cc0723a9c7e9ef0ee8c1811f97e73606c26611af73d194f78ee691d7722ad835a377afdeea45031f368ac003aa7cc38ad831893945d15dcd4d1a8af2f37721d0ed3e1912ad0b8582c9d19523febdd61db46ce9876a831a89151e62f41a1b6653bacdf142476f3f9e15812f4dc3659f562e58eca85515f44e36cb86ee096f211e94b58d976348fec03ea8d4d80d76587c644c312987f332dc29c689d7ec645d8b35dae0be80a2273b868dbb7d471943cdd8f32dc6e917cb6afb34cc67cb75c947b0e66887211842cdf1fa01d1716102d4fa8ed80c208797d77e23996af57f67714a3640082c9dd06f7d8279eec0caf67dc1c984a6c34d9739c6f8913738b4140209152aaceee01ecf90badb11b10af9ec43df81bd111a7e1d2b5c6bddde2c356a4091a975e7f479255e678a5e8c5223cb8a8aeea5162ac68380f7d2f8efa805aed172b8afc8172f85a6be2c5af10d2d4c3fcb97d284f6a74afee0f0136d7117cc8e98facaa688bdcf8d0e4a1b19c78406e444aad39c8cdc03899006b7a47443929367c96bd5691d2b65820fafebe73ce5081e142849105e59f134ecd96c62c858acd567e4e24bced8e66363e56538172633f66c1e391adff55141d56762f6115cdc93274db8c70252586ef9aa54e15d82c6b33af1f8fad8ee3f0da06c909e99346dbb16807b87873fc72d19b978da844147b250aa2aac489dda186b8924d37c7764f1695e7b80489525a9a1c4a8482e766ae09da2231dcc6d317e977d7ea032614610b5040cf1009d832ce2ef082d24337aee61b6ccc47b250a9101f11cd8989e3ef9a1a26e5c64ed1f9b014521bfc91c5648cc35e6784bda62f663630cff85d7b157062f93ef3ec3a68929132a0cf65f41230caf97d030e729bfc29ed8405978f058b327139faa2261ae1c6608814193263b15ed594f85c2eaa25aa3520060f422de968f8506752f2908c9c64dc6c630d12390d95d7d26ce96552db60a6b6aa284df9cd401b539640c4dc8dcfaf814082c9ae057a6d9c6b5808f901538c8975c12dfef700241709467c24eadb70800e108d3d4bdfb85a3b46d73724d01a401a25d5b8443286448723bee05ea7f4d2fb6195fbf0fff3c03d8d6924f320b62d4bf3143dcec4b5890fa781592becd0b2dc9ec901ed8a7321514c88689df1243a31b03190a1c73ec3b0124fa3b62bb0d655ebd6405788d5ba98e7161a0c6c6799d9009fc99f86fdf53df9cf2d26e492d4472e9802f1a45641d69d96fb7b07d7fbe0d2ffbfa1f1a1cabf9daf185b59f745c5f022e94f74adffbe51838e6698e1fe0901b788ee0186a914f3bdfa0a369c2ed0f6f182666eafb0403a3adc6024565d3f21661df13c5fb73d9c0a8120fbee2b3a5171956c7bae01639a2ded9a0da775b8d9be7bea49ae31f467f37e4ea4039f1142cd13555e7392dd3fd83a4cb51345c31fe56cda6f6b74a0572b216a6a0d5392cf537be0fa1bd13b122f47a957f65e3727d89306931781d8042f231903fb108da43c9ceb58a9869fa59ce6696ecde99b19ef7bb6415c4497426e4f5621dde9e024c48748d5eb23f279c02e29cb2d21d73a6833a0d4aace2bf76cc0b0671ae4384d0d8b824f57111bb750af78eea0376ae263aa4a67dbbd958c8cd92a6a60b209aa453f9bee08a1bf35884e846794de159977d2bfc6cbe070daac705be7babac7dc0964db936fc1c88c451f4a762bfc7075e28ac1419b2b90812986bd0d7d57aad68c16f01e3e49ef7848fa8059e6a89952272fed2bfd8c958c9dba420a171c6503a218b0e31f8e198510c7eb26490d53eeff8d2ea3643d6e7aa30cf051445af01aaad1ea0058682644478883010ead4103d41c3d2c0cf627c6aa06d5230079e2372638dedec31b65edc3d91e933703df2be68ea78d03cc01107682f7b986ff2bdad378d936545df7515839f8ec4aee42630af53eb4b75584a0cfcc136ee35da4640668e9d30cad5e0294d64dea83b00810a4e53ada958a4436b99df6459be555bc627d033b9b398e40d287725008dce13e2776ffece8a2de3fa654c1bf0fc9ee42b78e72c71d36d0f1d16f734049d2942251d43095c7d305cbe04e57464628ca8d8eb6281c191bafb6af4b7588a0e02df977501ccb261350849cdf34a68aed6ee04affd52e0daf08ccd38ea0855395a52a9d7569419a7f61dfb2ce600fc897a29200edb6e1ddf6fe8a93d5c7f32ffc57ac4bd05631597014b04b4065b89089430b45909776cb49a72ab714ffd8c6c3ec00461b0804a31734ef3c2d80c0585114a0b503210604a5d08a7533cdfabe36c7571c81ffc14eb35a1ed5228737c6f42205e49d3d48fe834030964ae2f942d67a2df5792e4a36b33383eac7fc9318a3c5d52e6f25e3319a6b79e7a0926b0b3880dddc080e888e29774365cfd252007dcee4c0c67cdf72b5f4b947823090fa0b8811dc1a9871007cda042f69659905f399b27700878df51bbbb6ca816bdddfa3a245cf618178e6f83f92ee8c565f8725ce13cd6431692840d910d0ba63e932b8825f9fa60af5ab8af6a001e8289408f50648115c79322530d78c3799907d7b0e107e75252ca884d9d38babefd39902e0bb3d56b95326bc25a7191db7164ebf964c84c9c307b2f10b1c877e829c2b90d19c14e69dcf26cd2741932e9a0cf1423f97984d93fe3dbf9f1096551ffedc34faca0e2e58238c7f63088aa56307bf81d95b67aa1e59e2e58e03daa6b926b3adcfb4d32d931ccb3ee4a73ab29b9eca955acfc5fb0886c1824d4413e78ea9405c41792e35143ada319e2701a96978e074440530a86e4292e423d0b19b847777f009871b16db2626b90f5ca99c1b8315fcbb3725b5979c684936212a3b85529dfe8d3a8f24749762d6b757d1045e23e866ebe00ec41471ea539aabf8c800cfaeff46eabd62e75e0d16b81361e3148eae4399630887da5349a790ced4400c30eba05c4a71d1eac6484427f5c0afa715154623ecc6584a4f0b3e39af25256a47d2ea62648cbc66fb8f6d0479c64cb3b3a8d2f6593396fefca509070f3d0cf80f6387be47241e23bb709e5d7e6a6c389827e5d001cc745a25365169108d092c18a867e92edd53dfb5c917d9a708aacf00f19b70a7e51d87d5f8ff76dd7f0a7890e965eae04868d93c68e6725062e6ce6eba08563b82e683a1d07a9b574ad016005ec79f82b02bee403e27f7051f81848aac71ef5bf6302dc16b22943c176447c6279ac47aa66c72380924ac93cb5c05d297e6a4295f3c623cc72fcb1ad66ab2a6187c4a888252118643dd26fbad4cb74a56bf040cae573d7e856be155b8db7cea9cc0a6972d04efbefcadff23c5be4ffd78f89ea4fb447775e40cfcefddb86b49445ebd71540e8a1c841a45bb3cf84d3218f154cad88b70048e82577782dfb2d5ad5133783220892a0476db741db3dfeb6c5f0cf9194a5477c93150cc52f4af9d3ab5472008d7438e8a9515531c80d0c144dd390c7a037adcf3d2816ffc4952d96b1e9f121b653a07e51dc52c26557327f6fd3e1d8071c8c4600516e6d7ab242fe68ef658b386af1586a54b3ec16f6203b0f10c0028f3309d84e1d31f0da0c5f8bcdf3154d076139976d8139ceacea97f910dd9e716c89778aceb0b23361d6d95b880407502e73feb39870397541d9e629fb2f539eed047ed4ced55308f9e96849d7a2e286a84064e959f8dd8e1633066ea0f7727bc6027476f9b839c1e6d5a4b0389bcd786b3cda2a17e9b01652b8f279c89bc6b85e2d37a876348bf8e0fad8f4053d062a550ebb32472360866371e9e1feb2f1fc599d1d1ca7fe6fb1b64f6980d63118feb4cab8977642d082be8bb37e4780ea4e5957bd13a9a7435513d6f7bd66fee4adad15486b0b0c382fcb13662acf722a087635b771559493330603abf1f4f2742e20e5e439eff86fb731eaa1bf1e0e30425f6dc2669cf7bbed426554e058737a272583f2083c0e5a2225cc75f16d3ceb1c1c528a4a2874d944dd89a71428fae0792012d29701eaaa9807937e436ea76f0ea04393e5e0abab23f2bd56e82cae11c3ba37e5d97bcff2bf9d538f67e829d92d9fb0ad255c337ed23b7a8151ab0826b6c86a331a1651fa33409b4744d0735890a039e56256dd11e13df9fd79a8ae2f00b0c6d96d278a95a1e70b16803a1cf84dfa016273f3d0c1ba5f153dc903798b96a2a12daa78fd17ee6c45e4c16f414a06d5eb75185f4e653b8e318eb61d0c1e57d6d03eed7a625a5680d13e85c0d43b9d04d26b99ed0ea1dc66d4b9a31f9beb2a5e3352aaa0f0bb24d6379e190be4ad8b93091d9832e8a0d0f6b9b81f7e95dabb583afd3979441af93aacd0dd34c2410d8f4d2f1edf0a0570f8564f40b4357d8304e806d3baa344026a76925bf889042ecaa0062d03934258321cb87de213200de6348cba7b5ce5800f13811abfbe7f93bff140842d6e4455c21ba35f04e7c3394177639dd4b4d45bd2bad9f9409f6ee7992de5da1a486056a523751d090111e2af6814ed6594f83d78d12ac3cb80e45ae1a716dfa0a9cc5732a5cb753505c19a5962958e3bd842a1ae57c98465fb7cb5ad51b0c5fc6f204a5091019680cc96af8e90a0be3d8cced19935f39c6a32a272520cdda27d6378e54e56fb197dcb7cd84063f911076a7bf34130c65d4c209a038146f1c9eca54777a0299762e7edc28b9abd3ac9c6773090bb4d2d36b2021e77bb1e8ad0e5c79eacc4395e754d6c0ea2605f0d7656b4cca71807d71e4e884aa3f418a338c667ef8279008cd534edbbf29deedfbd75d2c5b78be0191f41bb942b795f8a34f964e6a022528c48b96814fe85498db3b00b61958b30b742075b20c100041ab7241304bd490b57d2645121f437190dbf6161fe6c7ef13601f36c38e2b07ef94e5e9e4ad7d21e91715496504fefb1aa6dd99909798b8ff0d9daec62fd483ce705eb54335d34000a7ffa27d979f57ce9ee7eda55a0d4f6a488eb2b58007134a26e73f09a37c82ec219b0b5c6d82475dc6428dcbf2cbbd200088b35a20926cb08dc5ad5cfe0476ea0f0b7cac5ebbe6a80bd212602c72ada4af059745c5b5007aec599873ee8ac85a13db41e9a2f3d9fc9fa6042eb5c2974bf93ffa0686c27890c311cdb913cb4ec4bd4d1bdebe39a75b4d11a553915bba5f8cc372e7097758963210c69824bed3b70bc29173d9d989ad188b43b1f41ea6892349b4760d0914c55bef5f7eae1ab10a10c397b5b649e2c8f58e56230d1223e54207c4a284e1e23c0307dc195b2e6760dec5b94c851a3cc6ac8803d3d078b239f3ab42add7bcce959151eaff9b3f155b7e956386be000ac5a046547e72de59b628fcdb04ee27ce9f891fed4408168d2bf7fe9d35d54e7f8ba7aa4abeaa249a8ae3443a2c92cc4f3521ea9b5b8000a8037f2f377901451fd00f4d4444ae23e9fc32b8aee5828858f5e633f3d27923a003c81ce180b18c9264f4382ebf55843dd69d648c42d4444d015f2308da1a5811c59315ebd938e136a786e90754d9ffc0263474dc0564fdd24a30b793126d88d5bb5d8f6f5326743d3a9ab328684d86d0ac130cd7db1200252347c00e844eb90a61a928cfebc0c35f0be2661788a3f14e09621566b73a423bc490a0fa31b783ff5fa66c16ed567b8d3953f13ae1623b823845f37825dbf0a031b5c73c817ceaa31bcc9a59e0a879ecbec5ab7bb25b9bdff49b7693ee5b1457b87910d03ee9d59799d62db07bcd1d88f75de9d26c43e995b0710594f19bab56ba03cc4b38619c503b8d27c66e0fb0aa5c33d8ba8995e1157648fef76452064cb8e432c4662285bbf27f8a5121463349ed1d0871223864ff8cabbdc0aca9977916a0483e058d4e5fb4ae6cf0dab369e1d20d46b78753f619a6dcc0c24af94bfc96d3d66345d0628df9b919f0be6dab37e324b543ee9d5d5675a583558d5f4d21b933bf7a3f334cc530422a2dc40825c1afde8ccb43d308b9722dbc9d699b4b3d5c8af1d90a6f4597853a015a8eb892dfb0974cfe74599a6bb27de7749a88145600d5725fe33362fc85eecead73ec452a19f0532d5908bc66c10a7dd55349e79fd9758df17923805a2a2e07ce7a8a28ce208598ab7174ffbeafef66bba8fdaf4cecd37293dcabf326bd6e0990fef7042ec0f6014b6363870317fd3a82888eefd12ec4860926fb3ea79d34b3c646bcc9d8a1c2b5e47e2fee829bd358fa3d215a50d3ceafb4d5801353a9f964eb202a01f4919b015c20cba0eee78d101d85ed1fa459db0d2dc998ece93305f8a48c28e60419af823ae6968536053a309ff4526bb3a1b92b40a7c05a65e2ee4f3ff7692adc2f69cb20ec421c8679e0735573cb7b387496076d8f96494a71659b31e36ee48e478334e63588aac6ee773b06fe6bf1b21045cb7d85946833f175e19a2038dd091ac6c054255902b2deac15d9d7297d0696cd6b4548b947ce9e46a23fec3aa87ae659142a3711550e35c6b36b678f0d85ff29258c2415389a876b573154d5df3446310f5d0c8f7935735b3542c3e39e027eba8e0a8094add431edf1779548e8d4387beb94600668937bb785d8cdb8248492b589d44247e788b17c20d22a394c6cf26d7b259d2d86bf5163814d0b81c210d6355c65f897a5b20961a8d5c54782e85657e197a7ae9a7a1b4548e400fd8eb05ef0e774e1a33b010953431ad625ece6821a5ae52f6e36dcad03c725e05f29d669fbd489ea09616e4d55877ff187ac4e3dd65df8db7a989a46ed7f14dead268bd5cf1cbc2762f2e399fd6b1b6ff9c745b259a17482894c20b3cdbb852662d1a4daa79925c112e4db572c09bf9d0b40115f9ca8ce7e9e778cc49c51ba12efce1d034a71cb7eef2b4ad966c08fbd55d6eec6c200d69c23f00a047dd53accb6ae2a65557d035ebab7e1b35c39d71656be8a9724f432d048e3a2e8c6537bc40dc6c4694b86b489ae4b832935235bd4bfefdde7be8868702ba15b3d1a5909c0e884aaa59a7c44517693870c64656ff3bf15504ebd791e2b75f35ef3028f79422f33d13604f3d948a604841737f1f8c831b42fd74fd98327388caff70a5aca696039247f76dc3ee5f91098e9536b05eca60da73271094ea59e66fc350bdd8504ecb6c42aefb1685c78aaa7e77e64a5ee9e619be82053f43f4973dc2f1cdf89393494d9f2a9b8f54d992f48d88e2e4e0dde249db979239a6a5331d221529ede1824d6919630cd111bbdbd2d5324633df094b766e6bc54e362c25938be3967caa0748dacee26276d1790ce36ff9fa64efb595eb7a5fb2337b3ad997ac37f1c5dab9d413b5d510982b91dbc6b18dcd3067cc578a1403bff5ff7b44aa9ba5575bde13445e5a721ad9693c34432641688719a45642cac83778b2b07343c1370b07d82b99bae192ed60f68d57d20ed76df86608eadd806f6184dc06860fe8cc0945cce4c52486f18d6bd245c344c6ed03803c9a8ff61dc28ad22977bff17e4776169bd5befaf3cf71706782b609abd111b08e272a9d131a0191f23ea334f1786c6a17a236c8ac1318fa0e50c1aeb25c44191718362a825f5e253133c212737f29b8f74f006813c5a5a47254a2aa004bbe899508c68e04f6f7172b367d62243871953f98891f9ed000c81cb8a3dec74d7fc9e303eeb3b176c76443eebceed68caf198d49c652c7ff6b24f73999145ea3e2ade3b459bff3c23d77bd161408388ac3a6517133d2a12a0cf3826f8aef1907f2b58fbaf02fb2cb26917bb0c97909f8367bf5220a0ace7ad4dab7ac8cced1b2b4393ed8f765036e54d2b196a4a0c4f9dd0199044ff327629d9718c517357478a74a034ae7d195616319fd69ea9fd6013b8a17bc43d4e6764f0d9c0522eb2b56676896b96a5fc4e2250ec86e1b22d43706874bf2de5f6f415dfb7a6a1b191d96c22da2340c691c4d4a0ceccd2146f4bd2e2c53de63782fbcc4ff8207755c9b798e162505871c4802c3363290b9704e800733052f203ae90de430082da333226fb1897187a092d5c9544e79daa8f90effb8d96a3448d014d8ad6055c3252a733ec1c51ccb0f1a0eb0a9d1a01996d5f99bfdc218f05c65da39997282d593db7671e1e1faf94990860d7247116d3f313406f295587a572afeff1113fc3c11fb566b5cbeff7e6bc7b383e80e86fe1c02987d139370667ce04c430257d3730f3e829e9ddf16c69441860c1fc3bb222dc1c41744d1cb28da8e3802a2d5ea0cdddf66af1eeb5863e7d119b317ff9c9bae6192632d565d80aac072bc4080735b6cc27ea27d27419cddf2d1c9db32e80bac6e134943aeabcacb4389d14eb5f0d56fcc7341878dd7fd02d8cbcd149e54f91131623914336c9cc02865114115b970bcc8f044081794b2f82e93c2546c6b0607795265f0f180283ab65fe3bfaa45b19a2dbd05b1e92a4a4db2d02daa7b3015e7eb481254841eecb228b6abad01d81b7d127af1fb56e3f6f1d5182d5a14a9230185a21f4ad638195c514eee3098ce57ae2f290825186cdeea5a0f1a8c2f854b8a9aad6a21ee529032f6b4c9cd478db16d92e6fb62a9daf08dc68b3c26ae7d1a3da21a2160f7c3d09a383f128314b5752e0c18d713d17824f036cf95f10bb9f3f4f3f9a6553a22fb04472ccaa249b595aa18b706ca83599dc05430825b5e75eab1f485c60d6d0c19897681b4ca7e036cccce48b7308321609438ac429bbd662d42d1a8959c37ec8ad3a7f6e8e39e376927ae723759b1f71ffc0a84aded990c69256683215b853d2f61aa5023d175ac13cd0f13552676dc46a75322a4383202d5f95257c637c868419baea935d3d33e6474847e97acf095d344fac93f746393ab9cd0d3d4875079d4da440f7911ed24c3fb33bd5649954f4d7c643f45d94e80b4137386025ae780b35e0e00f080393314937b9b9b923f51d8c012bd94d447aa34c0e284135d8f4032b421d644e7b7e5db64144a6980911c6cc909fb1c92bd0d5c17ec83eee02bc91b3a45ce467d5c77f6e67b7f692002f09c52dc78128ecbc0b6a80657c4b114bc121af4a4fe361f4581daa4fdc010c81310c386546431c1b720fafc2b0b67b3d5d4977f44d84d2431b0947c8a88f3542d71c6a649d21239cc7b4c771021e958455ca851e7f4fb7f753d808036d2e58757657e1c399a2b205e612430e00e91f90184a2d4897248478bc17deb85ee3a9d8678420286227557c132073594e7f3bba82e1c15dabb43c808bcea8335e80239d5d85f5fa78881053f45edb50a1851f41bad3fcd52d99cdc0c70a7464da7a2cbd6d04d816b328362b3f30a409585490704c17fa61cd8a521eedd92b49f0e0226dd2271e0159af33c102b9c79983290f97adb5698d05275dd39d00940b6fbd2168d2bf71342fbfe466f2e7e26f4f8f21d3ef5f04ff5cc6929062d8e7f1e722958a570d10a8864e194e56392c3ccb0a39391255f20b968580900ebc345b4baabb43bf4478ea75aa4dbfcc12acbc0ab1b6cd0d16306b3402b1a947072c2a04f19e801a49f77237dc4563f0b657b158c262075e72a2eca0f571a068e75bc2cbcd8aad053e8c11e21521e4f3c4703551cab93e78d22e2c01a982bfe68f5e73d18f77235c38a0429e1e2f2274e40f59d9b7cbecc38e72d2cde6c6839d18901ba4854cb5313183ab9f2c30a8aa69d34e4df2d3f9e9eec76848587c1e451d3c286646a25476a4f7bc8af19ad26e04e7d285b581b8ae292f264a1ed7d1d862ff3fc0f212c7e615dfc0f4925ab88370a067f838d511c45aa1ecfc28c04dab32904c76517e48dce43cb88aa798ab759a8edae371435553657da3ae121beb69032f5facd72b2cf0a71d66b820755cb0a555708fcacf2b08aa41eb534d26a2d1bcbd3a42024bd2487488879f92adf10945681129d866767b193d5313d6fa3d37cba3d193443c10b5f68dc8c538d33eb679229c4e028895eeba1b4f3cbf973c6e3cc535cda6cf693124cb93e36616a534042864e0092481b7893bca6fa63faf14fad2f67a356d176a1ad5da7df41c7e02dac0e90a0bd8dd1838761656d800682c26112143bd73c5d7f501ca46f6e000e240984982958416f3e15e6dc339aa225f1e3408a7e4989d525f87d0bfdecd71a1c0b2ee24bf84662f5132b9c0fec81f502dd8d111bba76d7aaec1efaa87337ad785bf56a337cf874dd30a5f9180748918a3703022c7c8ade33c296f690c7dad15e3382bef5a79cf799936bc1cc7198be74a1cb984b62cd606ed64d307d4a12a1ef0dc43eb8545caff06c127cbed14f12afa2869ba051e05e36d3d68496827990b4845f62b563a3274b415da957b9da3539f147d96ecc3017cb417abd306263c2f3d179b476eafefdc9ccddeb89e2e05e601a7090183e41946f66a1e02737f4fe13253674b8fbcf5b0da14103d27eaa9e6e4346e11ff4bef1d55263ad8bf4dcc46a9a2420afeb8f49cc3fde37555b41d9c7b96fbce452c606a2db1b603e6464ef91323efc48f11e786d40933d3888f9912e704e21828b6cba144d671cedd5f79c6f26c624826548de8b15fe0f1de999a8e0c25fb6b662064e561ad4e78a4178c58f0f0d57ee1421bf1fcb39f186d15267b3e7e61f11c989e446ebe4682631ac9348e8c844d4424da83dcb54f4c5d610aeeef1746390f82ca8326765aa5dec1b6341b5e6f0426380a582efc9d185e6b41e1dd87058ddcc3e29dd7c1569f1063f298d23a2d4aedf09b19ce1a58d62adc5fa47e527b9550307ce4abd709e80a47426becf185facb65d364b730e2350df748c29fadd982831c2466e80c68b97385723da0557f715637cd438ca50836b6730e3e573067d9f114cb66a9a42c72bd437fef4bc208042a131dd5f57b9b263480ef25aab0aea00368a4e8c3c9959679c78b975dd57b6a7f480550927f93dc85fe2ef86366d10bd528e38dc385670f44e407258606e7fe60b221427569e3d79e1ffa3cd84cc8739af981e76a1ecc771a3906be18b01a5d0c5af17e2087425ad41f787cea16c72cb0be2bdf2c16bf74a3ee9160cdace7362be62dcf3fea1861dfd0b94c25a50d44ea01f22741993a38b0a61bdacba441b439d41a5dcb9755a991669bbb7c5da129bd1d349ec86c6d9c355822cfa6f3c47acba809a067d29562fb479b8560635509901c33b2b86d6aa5bf087a8583ee05c4ee02aaa86dd481a350dd4fe7b0a05f0ea7c914eb5d67a6ebe496e6c6e60827ce270c82ffbb722c4241c347d9eb8002056d4d9782f1de7188af9eb6476e5b761d6aa51f93a564b6297236e781ec01b9a4c62c6a6baa51b0d34c0b2267f2a93d288e9e40ba760840e731074a2a38cc2f7da7abebdc91fad4c09513cf8d3d0c08596802fe5263a1e567ccf26b28f4769cf9264712db9b97716d4a34d1677dc4e1f86435f9591039f82cc878fc2a8ba67da8ce7c27cfd995a0e891eddd825b01e3eb9cd625715dbee299c8a7ed64b6fc6ac8734356756a8536f16a5b112352b143de6d5787cd7069c3109197243b55b4e6297332e03e4156f425c0e57c812dccdabcc7280da9988c332716a718e5ca231681df1c919bfe17f30b3ce22a5c8a836dbfb9be049549b0e1ab782e6bc4f9d36f28ac0da54791fe2d1c88d06dd289fe23373c550a61cf93f4b2fd759b16e11eea18c885c0ce924b07479faf4cc9841dfdea6a127ad8ca92fd925e11f2ec851c7408a20f3ff9089fcccac0f30c21956898cf168a4b9dca8fca9b153a91e55094079dc069dc73d8e566159dc8dc8577c37e0aaee8d95f6920c6d7215d8e7b1536afdb5949d49c344d35033a3e3340b148fb21a7550ffa58271fb1fc3d05dd6947cb34f6118d3d06e934c82e5fd3e48648758a295eea13d9b52f2c70caaa5f2e832fc533a2007e5dd03574c07d3a11011fcc16e91da3f36f88ad4445b9f931765995e259f9b579ea0649206e39d272f07d0e87bed6ef3927039faebc351f9b021dc784573309571071ce3406109cd0be47aca15945c4ecd75b74078fd3dc45ed94a7602622af4ee5e11953d0ff90df3e8ad622640b3a1c9dc1e84cc5621406af5fabf675b497782204be0448358f0082642c7cab62c8385de1e3f4350d4bc2d87adc4095010cecf71006d551107214aaf5fef27c6ac31dbbad2469402964628d372372cb832a90ac2be069068bf98a80b6458da293206a09237fb862065004af99e652e8e58c37927c1da2b0205e5f796d6946c7a487ad83deb634e299ca3e082e4ee9cb223b231ed9a6b692d59b1e7cdcdde097d7cc077948b86121226347ea4b8e5b4ef74b83673a22b19a85a49f842ff3e3493d4939402b95b60499f63eab6bf5ddd3073a215d7805777044d785629adef04f7fa958f12310d6e17efd5fe150ae926b8bb585896e6421c48a5b748138c63e130ae31b4b7e68acf8d38cc63bfd46e0caf8e726d88ec22c2db067e506173baad2dc8da9e67ccb97d9d54e10f34c805c68feb85d560f2c0401d579618ed736842c8d9a2913e22d8eadb595f6bc46b5b1ff3ad958a026798ee172316b4ae75a60520a414dc63429d32e7c2d5888e018b293648862a7df2c48819b0300152b71eedb5c158f26e1025ae4dbb1f78a9f377861197692a7645935486e925e6c36578da472657ef380e6fd1991451caf30b7433c9f528c4878983169690b3a281c24ef87d8efacce333388eb71ee75ae3b8764132a54d7bf2d119389ce3332b82c2de89f0cb7668e12d81ac0f9f51486f93a95597d628735a7793ba2c1ffd4e644497c1f4c9795e3fb9ee5a72c624b49a38b662f3e89018a831fe27627bddbe4495d36d55d0098b164faf5e48167e302c8c01ee92fd0bc07207801b1522faaad1b270a58d88c1504b23967c0fe9337d29d81a83b671e063ec56905e08269e4e767849958b21a3c1caa143a5fa391b3e21fb875bed309adc9b2bc8d8b3f4fff41afd293139ac4257e6f1bfc6932ed2b59943b4b6b08b748a96322e81549a66824edeb40e3be5baaf51496c7427cfa8f6dcd686c4db38f8c1385a740b84f6b31e12eb9155751cd97ea182daa0afa88b1848be1e11b53b636a6d41934cb4537ac34d4b42487417a746cc3c8a01ac5e6e0e306a07e83188c6929cf1ec4f59570a469ea28e8248d7add7607e361a53595fe720087664270659f565d71350661e8f1360ff29078fcaecb0192c1fd9ea76ee659ae9bb3c5842a2cda8815a0a244bd5fc69d91753ec3fef0c8c7f17769f80d7b56894c8b4553b548de7363c7f68a964bbac6e110177edc55da6b621ced8de2f4784561a7c596dbda16a26d8211c4a09efceb1cf460f61616e65eedf1084e79a5e8e69b459d1686262f25a1b50b403d5ec7f8fa61156609f76d1422023d1fb44cfa772acbccebe48560dabd01ce09a64080e75b1107f7d1111631b0cd11edad693fa2ed4a9198850f6c34266a756b18940458a492c0f99a019d4c3a0074ef3e60cbab9ec0d504a7c9f085be468577d0a0c362118a9e3e5fef43d47b793f07084befda52103207b92d5e57bcc8fd5bdaad8e851e3b206500b0be2d653e9e5552f9553db0a8e64be28b1c6f1133c13dcb28c5ca8ddfaad0062608d6958de5f97b0b1a0e5736c62e0d64d2b72d42112dbd0ba83ae75796991f91fb1495eb745ea03807ecb6af31b0fc01d4e16558c3b91da065bc0f05295e0468f33ae8ab27a73ee52959c52fe4cd1c8f7da57001d433f7e3509194d9d3dfb68690a236f9ff981d5df93ea9de3ce158dd03c41d1624d410ca8c1fb862c76aaf1b6c80f73378a8b45ddc6b981c9b7bda15d883eeafe3033fa4e2c5e60d8ce4289429fbf879d675a65e53ee92ee5e5c3abaa8eb370070f1045b64630d7cafdd00e39eae6ec83f655457ea2cab65d269109790b180352c6cc882c67117328f6b87dfcaf0d0222dd5a06f7cc28f7de84fca5f3c4dd8c4c9a28d4fdc79815c5ca33429666d498a0ea2ec344cafdf55679e1d71a2f6f38ec7adde7624d5ca72aab5bbdb206d4e63284a2d7a4942f5013063b4305786d36b68870ea22e9719c8f4e5c11f07e7fd102079b18114e30fcbcd84971a1d9bae806b06f1d8ddb076cc1e4e6a71c0ca2ff7361991fc395c53e7e7f4504eb4d2ee87e3b9ea7644ceb300eb87df5d5b2320b0e8e2b3b3ef98ec0c09cf5baf2200dcb18f569fe9a3bbc50950c2d11157129cff0d190b2f3c44f6b58197d4a7d8531efa5554a9a230f4b6ab9c7d8fb9a85cfc5bf7663654511561aa8bc8d5b0eceb75f0d1838c87865b1554046f26bbb6acf9de2459d8bcacf57e12a492fd7b39aad9eef349ce480da374ee62d6f754ebc6cf540b5af4b320fd680ce07f4d6a160ab5e70becaf77f15fdac1ca6514db356e3405519ae9182e1f34ddff3a1a58763e4638f44d7461b41add39add38f81b8f9bff344a7d093278fcc7826d9090c0e59a0e2d42afa99c0d23f7fdd4537918c175b34f53fe37f93b4b394083acd03c82ffc5316a29b6ae060ef2df66e1e0d9bc7c87116f95fbb2c1544364c814fe4abc9820d56f666ee8b1884cd2a73de53a99c056c2ab70def996b4cd1fe3f1fcc3fb4652f06a1fb66633421904c6dea6e8e1368f1c44bbf851b4c784d99379bdd7e47bd853104910b587f559ab90b487ef8406e66b08cf16bf59b5f0eca336c3d0aa2f99447aacfd95a978668cd7140a8bf1b5974e6c3803b46bb404ac08491607ecad70e4756ce7d7d01f804f1b63671b054b580294881f3e9e47496bfc03d3b06981a8f79ccfe8f772834d85c88643f87f353d34159ef631c77ddeea8a319d48088bcf07b24756642ad44131974a0e04266fee7452f5a5bab5bd814ed95494cc3b0fec2f7ade6c0f9fdf2b1e798dd422d2dc382cd9d66ddb350aaa95ac99f10e910aeff6df7a705edcc4057283a21e89ed38a6e66e10b42b7e2799f9857f1cd0145277f089c0e92ff623a460f022c9dc62506f4abb1288d8e0325014ac4fed0f7ae766663fb89e56d9aa43aa1e8517ab7919cf11089adebc72f05fe514bc6e827a1234eee731cc3c7aece5f21f551f03c5edd72d792e475b360a00f91f6d3a7c3c938ee970f2ac03e1e8451ee274c622c1f71354dcdcde1dc82e284a177e4d05e8d6d758e188a3acf75e28513c40de8be991e8eccb74c099298e32c1a7177ddf199fcce0e5d41d2e2a1fcd87b93a1e4a72a9759e1923c89f53434be2998f40748ba84cee796609156649c0b5d5d8d10553ff2e279cdf740d7770553051fa7689b778e423961b258bc0f2ef64f3bd14cfaeb14693b14ad54602047d1ca6f019182d870ad5e66522733379c6964d057d0118240d0cbb90151b10cc6ff8d0540c285c93e309e38230c6da2b99debee642ced58950315303e91a4884f1c7cad7fb10acf72fe81eacae04779a82a239aeb7097285dd388bc5251c4ee962f61b3eb9d089cd93bc1d84ded584ee7147c06a8b4d7068b2568be110b70622789b1550842a87eae873a111a4845518266a4144a204f4653c2fcf1ea3c15983885d27406d76ff9164272a6336fb4323d4b5d04d51c9c2fbbdd8ef1f9c542f01cd5d205fb83bee76a4aead48faeff9eb14c15f9875c85a65ea4615a14f8169b50ef1d16c4320593f6b480f36054b7cb422c54bc191d04f5d99f2024777126b4cb11e556588452fbbef6e130d501b0890970d3c1d321323edc77c101e948b95736e4fc73e3433ef7a82287733b26e64c4ef4aa389dcd7f36df1a641a82dccac7a5c6aa4c5b5a69685ab6ff481aae419f0bfcc1bc399d59df125cb087ff213e70e264171dd4e0aeb42f952f786af0f5c29fe67880f352b7c78793f149878ac5731122f99d113076a5bad1d8b9adf581055ae9756ea42f694d9b88db0abd830b8682d121162c8745d8dc1a175615d8527e8d55c46919bb86f31b1cd911d001eae2484bb3cfd9d235ab2da0eaae5ebfbd99c4222bc01baa413dc87c4f603376d466b58b4a5837f0aa8daee6bb16118631afd333bd3e74aa6c3292219f62b0b041560056253dd603726f4e1b2d4da533b27291918890595860fdb95582dcc15d0fe65fdfdbd292f69d564770003d8062fec9a2910b4111182a9710f2f86bbb75a869996e0e65e4826667ce891453fcf08f9d4ed5d0ef6518e1e20ed06e43ffcb8f32533e5f0d97e88168594f00defeeb1df476226f8e59debf0c4a87cbddf458554cdda91a173a6c2070f7148b8256d28fa997d75cb6bc2503a5b37c828b6575b0156c50a5290137abdb6a0472c1870dd63263aecd8ef486d3f2eea389b6d9a14275454ff229a7aa8a967832a8912bf53642625a9fc8536e444192d9b990fc1d76d30bc56ebfe7ad3927f04b3e5408768e438f81e663603967f165c0611f08b27e1fb2018ca3d50d08fe9c5b495e1245feec049ddb1501f3d83fbeb834b4e2189f784798b33c0cc3f473867d75d8924c751d754c67ae33ce5d7338a68240cd7e5f52b9c366ee0d59a8f40adcf5d3f5fcb86b78702a051043ea4915c6f27b3e7f75ca65ba0e042612ccbfa94f3e9beb0500f705a6969cf99792e64e11b5ebdcfc76cdaba62b1a14fa479abe5c6c7384bef4e2985cfa7fd8cfbefd522af5869d75c39fa1f64a3aa69fece1ca3779cfb14742591d6cf113ab95fb8e05bb236bb95192737bac96e679a063c94d3f7173cb51f9353c4f8f871e402a2cdaa8a7ec8bb32cce9b6e554f38e21849cd2d28749006c48ca76e2af044fcfaf73a31cd21b0a4f4e5b44ff1253afcba3c247d85fc792a6e6640fb1502985c22c325472a081fb0b9e1ae8ae0b257d110565e182daf3afd6d7845e3572d60c24845cc8cb3c0478495dc25afb8ade9355d8204dd4f825aaf4fce9db9792025b28e6bb8d48198b2f4f5b51903fb3dda48010323af7dbc228776bcf707ad20b2a201190a9974c467d12c330cc68a396ca1124a4430db88647f00ab4e0f2b205538471d44244bdeecf259e8eb10a000a7fd513b32e32f52a8a84b7c39facfdc0ac83e7e1c074b22bafeda6f7be1748fbd2909d53e38d61fbc82222bdd586894ee75a2c597f8f1538d80ab2cd0e11357158cc7c3e37b9cb79bba6fc3ed659e78b0bf02eb0d3c4ea3b6bd7e297bc0239ac5acf3b2225f6c49be5c82355ceeaf03b2c060d795fd7b012307e9145bfe1c46d0eb8ba02a938d4fdc1f78408f323249c330bd35aa274d741619fd82d9ca65552c181409720c73bfcfa427575bee6b426863de66557b3a4e4c630947ecc9de24c8165afdb560cad96cc9a34aa0ebea911ad7571005821fdf4fbd47eb44a33e76c9f6719a5880dfaccf579351acc32c7dd31bfd41e5fad7910eb2e6207228dd719aded700e7b56cf9ce36b81c67d01d8aadb1141ac7e921c92ead4a5fd4f013e88c8adefd432fc3a3487cedb6377f6f8860ed64d80f8c559e91766ff75802deeb68b47e00330be5e63bf9e244ea82475b3fb7ac9290e02b57102e1eea1626fd6f57eb0508574a6fb318a0cb88844ad6e2da9f7733a64ef62012b4943b4134d04e2e2b653f634f08c5a60a00b565f6ba1e1df5bb07dcbfb89505f6f0894e0aa7729da61e6790f497a2f42f4150615c51d43dab261601b70aee75efabcd315f48dd89af10ff6bb5c34af27f0dde02d0f682da5de22486010dde4a3a3ca015bb96a1022c7a849be67aae44834b085ca8280547fc810adf553b34bf7afd72e68f7de68d62f641b93ada6d8688b1231dd94be5585b4cb6c6bb2155319728745f1d8613911c2bba90936a1fb963d649f9882f34caeb86ccf13b90a404ee154067e0688a226cd60a48f0d430a0cb0741c2d65bd6900ed210b3eee49e5bc67abe034f0e9756d7b20ca3319c37723a7547ed8c14cd2d36e40e1ef2316850679897772a4fafe0a1eae23a4a0b11d6b37732d2bed88c08d1ba88d85d63f8dc7139e3c29f35291fd14ae6e08a4c6359ee647c9f0dc64ba833e2460d0a00b81b8d9b6f897cd9d78368d581e78edc818b0265de9c48888659483799832503861fbe5ebdd7c07ce7a88f7d011bf668b3099fd982589e4fff9bb1f4bfd997da3ebdd9ebda0d8bb328f73bca707dcdc927aea03b3491d762e0e5a68175ae06954013516adf74552c793c94514b8d91bf2f2aefa2206b26aeba79214ac595e9a1da6cc8b551ec9d81c873c92d3f609a1652223d456c01b7a4238ac1594b95ddd5012962694c5338d8bd9745b3f071820f23065a15c096cfed0e4b9f094afc661c104bba3ac9d0da482b40e259431dfd0b98da6cf33670815b070eb3926bd4a6fed225f93db5d913280aa43002a582170e80a2c95394b88b9c2b49c67369548664f7e04c5865e9a307bd116f9ef07caf73013110f2563bf8f0b55f97edcaf3b9f5b8430e68104337081a0e7a2d133918c45e5ca6c703480f85a0ab87e4423938eff9ea7a9f8ac05ccac35e314e3b04ae4fcdfbb94ed7124a790d3e5806b4a5fc30a1e88ead6ee4cb8404bdb6aa0d24f1fdb6db9966b49064d8943d848fda189e106d07f11d100957008053a2ae849dd2c4f343a3bf4560bad7cbb29a4df6c33cc8555b2a481d3f227dc5b41e67c712495329fb29d4977850110807da779c2228bbd01e063a66799d23a21d17e6b2b7a69674147271d524046778b98c8722a0af689c3ecf1459f82dfa075025d76f10902b20eb9ae96fdab2ac48fc954a6786913819a67d238d9d5b39c67bb34ac75d17c454f66f8eb678aca9e63558ab8d1aee003123f8ea4d4ee03d63342519ccce0c642adaa3fcd91165f7af79cd4bee462169713cbdd0c1e298d3406e2d3a3db4f0d1f8ccd79da906d37636bdedd2a074524be385a62854d1406d218211fca67c553129c59e695354f61e5237594dfb586b631abe06f77cdf4ac92f258dd7f9ef599d2260804d30218661bd320cbda2941f02c1f6af444cf5fa22002b6518f5bcd91db67d6136bb38353100565cc3b619f67055aea63a721f9f3299a95613db3136c6c31716bfdb7551c00d8ddb69961a8a2fd94dcf161b7271456d408c0d261b7b3342b6c6e6c1fee9f5214bb278e073a2c9d0e6318f5bd1d75f824539e147ab90564c46f2ed7203098d832d83ee97a593c78cc89b27df56d79f3adb97ebe19ca79bbedfab51c28115151b08573b539b87a455b2230959602f08cdeacebd5d30879cb61b5d227b1714b3b34e4449f5ac8490aaf13fc883f0cf25161134537c953d3e88465b5aa93edfbfa1f7ae2d82640ca69502f18bded69c6ac9bc00ec85056d0a12890064c4b0e512be8184fdef65f639f3d45279223a94e5892cae68fa2ab40778878477762f304e642186b62913d5665304deedf5ef4222690f360b74bd894dc9fb0ddbb2d4ae0d16ffc2a5cbb4db3562f10ec7553643688c8d8f09db4f4bdf582b2cdf05329a3dbcaaeb45543b4eea718b8763b5fa9ac0e2e2fd0e6cb7c2565fd47f85fbdfe540930884f2e6fbf1305e37daade3c1818c34873ce0da2451e14457335f37be470b78fc6bd4b1234526cc70e504acb98b70f20e7e73e7cecf5540cef59b530e737428c180c4a3fbc4dc372ae7fbc95376e498e6d4452feea3b140ed2534309ccfc64664028e2a29254c322fe2a498740ac4b94e68a1e1e00757f9b61e5482db441127c0e24b077e63eed4aa28bd5ec45be25baf9e0b328664e7507469fbe6a66f3940719ba6ca96f5006ccd424f7f8f37cf0c2c33c312d5e0901477109fcf2ec000b4d1a79007726585fd75b213802df2f41db033a3873df7d82ad4063467040ef6f7f3d0637533b8b902eafe2b28d094476e0462b8608dff29e9ed0f85b48cae38c5115aef347cca97faaed0b375412d5def7209e0a06fec6e5aea8ad77bc221e81aefaee5844d8680970c792141a29c03a59d6b43ab9947a2ca4cfcbce6e88f9d18c63219b7bf48b99df63c7ad41ac633deccbe5b43b7ecb547945a348aadb7450f196269480cb4e5f124ca64f128db1aa14137b02f25f60452045c2d22090c215f44dfdd5f631fd763259b6fdd17de7cee8e343ab2e706a4d716c973c852b3cd110c2a8df6985f02d04599eb7809259ed11de7cc6fb3ff0330a3f6d3e1b567ea1dcc9bfc957acca5550b3e5c2929d77e395bb1d81eee4abca87575c203aaebb09dc1bb8aab9d24b0e268c780bb9c6da89351e16f7ffe4f0fc0c28bb856bce6dff4f3be80d675eeb49b6c23e9bd07d3b2a50848407d542d3073f8ae062ef0fa9a835e974d5c0840e1a67134bc297738a14c35063676d1186c03312c4152600e8f2476fab09ca54013f60420361eba87c8d621dabc8c86a078b8c7b82f95f32315a5c131146cec42ea50d5a845ffcec77cebd75fa0fe678039c26de32088c55c266a20e673b4c6db4528ffd38fb03a6c689a128d73e2cd39f45806453238b1e8f11d2f773801035d5bd65823926f875f0dbef440bdb63b0dc8a81a887c532810bd47222ae506598cffff7f6625ff370fe133fa9a2ae55825e389b9eaefc1ef523311b10af337c4aba6755c3929b933df868d86f037659d63cbdfc54cf91d92e6a4f2c6cc37921ff9f377c44345fbd1a090da3ffd9fbf3be35676dbb9de04bd1a96936c434c652ac0c0ef7f3346d86dd212fed23853e92cbc95a3b5eceb1163254cfd91b527e4b886207af57c73d568cfa9cfb67a9ac55aa16a798e4af8ff6d9911c9986e3fc71118dd5efa5a48407e94a1c00b66b6ca93b45f675284624e2579f389ddd4dfaff6dd70df07a5e993a6222fdc96cb0b0ca7db947d544bcd452a812b66992cd4ebc4e1e90a225fce64ae396fc8ffeea7f58141c333c028968212314ac8a0efb72928114ecfdf6ffcff9314341567efb4c828d27b32aa27411362322ecf6ab312c8a8faec9c06ffcc2211eb5788b8e9ba60e6e04d987f9041f8b6da68d3517e4649b9a925ba3a4de90d432ee0bfeef1ee2393a9490bef7ff4d77b416ee0845126d6354ceb8ed8c453b7a09e70d86c94b062fac823dc52e8ee6580fa154ba0df8048f8b0ad875d4fe0e478d1cfafb4b202cc716b774afc847b88467063a0d46269d6c2816aabdbcf432ff3b7d0a40ad2fd327d2f9a49eceb8fb825d3f42675c19b1066b77a3db5b6aecbc1e76337de353b38b11d8b7a6524e47033eb4fce5b430e1f7bfcb04221a9a0e334c24352535e000480178689cb6bb8a0153974a679716d66f1e1011f33d3f6075216fbaf3c0df706b579b113b42f95d71adc2a5977eeea2c83635870c8aca19b3bcb972e6b3f4627c577def8af76d0394f11420acc8288d410d55ffea765ae60eb6f057cf937ca1ea356602199b8646a58b192e40b7531ea29b312d7c798279b9e64450faa05f081c86cb6783a4da5ba9f7dd06fc54cb61cffb848e4d930fbc412f9041a9ff905aa795ae476506f47899afc63729b678d74a0547432711af94032a1a89b139a47b4c0abf0dcec8ded83a23ccd8fe1ce2d568df7cdbe69e67446eb8b9d78ea8f13c797616aa788ebaca6b148e2a8cbbd26e49940ad24ef495070f1c50294ab151e04e18f12938bbe44d2be60b8bc109fac9280a63cf55650ad6273120f6938ee6319a5f109b6aa9f6eb9536e77b157c22225b3e3f7b160778a23b4ca8fb45e4532211dae4a1342669b63c83280b5c16914411b25940ac84b6d1a5df696d58cdc194b2d4c0f703025123407bf3ee33b7adcfa1bb1485e717ff087b67ce856ef45d2b6675c150a63b24401ad05f264fb42ef6a6242cc35aae0b2d64f70a2186b5e32a78bc45a7f491ce90c99fa6a473dbb6e0938865d391dd2ab5100c24d36b010b38da007a77bb86b39cab24f892364fe563350dc845654f6d0ba17af310d9414584b1a479ae1d6e4f4e4257346235639a24453f25199819ee721a1a9d5db94c695e27d9ee7b56ec02398bea12e804c5cb485a690e8e4fbe77f47878cb58c7518dfd2472fed85a5030dfa8da6f29ae65e4a38880efa8215f659ff79ecb7660693b131da1a9d26b5f6ee06202273e834204781ab5fdc7e8a08dd57f6fc45bba35708896aef366d90ec99d1e3bcb892281f9dc07e22ff56d875ddaf721a96ee13ac4dd86c09a824c81f11ea02351bb8519e5191148175fadac639be1b6ca005fa7a2d85b32816c36b106511edcbda9443437fe92a4b3a4a4df98c1a11e208cacb8e3286d87c832eea079523efef1f4f2c7cf80242bf3cea77432c6323ca200595b226b984ed931210f7c751d19f743075e671d8c778e21559d89a27fd646386aa62b237183ed48b119be16149ed8dd48ec65f9c3d7d2b49a3f1ac7dbff75fd49a8ae05f5af642fc59a2af339f46461e35055127e66cef5e489c21b4a9661f7e5579f4d1c04383b0f7b0c05e541fe9f5bc4ded6c1f1ceff84a1d7e7423acb1fbc84c2b976c91c1027ea88c3c37a3eb7a3928e897d56acfe9518ee79fc265315354b473d039c3fefb3495ffbd44785c911a63d1cfe66c443ccba3295b25c56d8ec240395f0d8cf1f1672db8a5f152134edf18be4cf08c9515792e1931b899afc158733f7dea2a083cd71540ebc6bdcbd696ccef201b89213abcc9edacae9fb55d357172ba77b61ad90ae9fea128171f7eb34b7ccb7a059dd2eb2106fb96a8f38b7222b0431c9fd4450bd3359999b2da8d70e47cb413efcdf2f514198fb562ce45cf7fd6a8b98091c6cf52fa5fee6746bbcd75c1cfb048ddb57a7d76abbc527b682cdd6a5aeb3a3e600c5143f342e5312ca3d4e4d96e3807310d6b1b2bec46b67e3621e8fdc12ddea12941419174198f4eaab6aa7f9afc03660030d74611ceb04f058f8258164f543505d6b62a10a688202fbb718d8f207c8ff90637abd3c5757730043c1da61d2e95f42f6ea47d0ec2fd67732c4aa80a125487f87a8d467ea0725ae6608e3d72e9be946a75f4a49b133f4c55898a331c026af8c6339070e50b2cb13f46367da690c05a143f1f6dc1ef2205448ed5e0dd48f6d595ba8a853795fa89ecf273ed553150d284d835711e8651f19d0d7d3c63c17464d6e70e8b030c8731bc86d6d317be7984420f04c78dbcfdae99f6aca330576192d62d4f42b2e6ae90d5d630e8562e348c2097e344859ac1cc1e45cb527c0cb1ce034f9f3cf813c52aeef9141b9df034e92ce424edc128307a9de9f4a7707b3b653e1b7eab8c84f665e619c7050310683bba871432f42a9e16522216a8d63a8b13772fe876364589b05260c1e2e71e32802833cb232d1a45ef51b1ebbb01d573ce9de929fe6a97fc73df36b48218408eb73f84f003abb5ed4994871bdb49c58813e6acd83e164bb0d8f73510da47f50b6d968cc3151a18077c354e756fd341ac4ddd20d4bb92b506eaa9a15b85af6044c052797c0b0631f118df1831c9045011bdd399fb3e73c42bb769d51b1917d10e589998cf8f98559c927987eeb3f97be697a7c481f624d2773740b6a2127fda440b4f5d64f59c502f223580e05d52c518f9d778bff139d60e9573f884f02026351d938c478f1c1d454af87074945cdd41196fd418298808fc4787ee8bbf52e18acfc6b96f34402370ed6ed0841d2773ca0becf27e44221496ffcf9db8fbbb906812030eb01acbbf9d678f89337ca993b48b6044ae703e7c366026c899451b1f80c6d14fb511829f3b2de216cbd78c1916702affeee52322c367dd8a21c51f300d6766e244b7e62f2a66c32ee6d88372aa6150ae1423102d2cab63129e0c80a347197303dc6564fcec2f106c45352671a81192129541ecf2a9eabd73dfab5f9546ac2a1d882c2b066e7363a02fcecb68c479bf190b182057756e0389c7ff34763c3f1ee7ea0a71fb240047dc597967fc9f7e627bb606ea213d5a5b65efa154a0c5f2889e6432a384b5a96486a43deac76fd272420773131fb33209797d8970de02aee1d287cc3a4734151322bae4455a41a5b29f7f5c38f58139081ab4c3ca995a5e1004b50406ecbc0a405bed9f9f630e7ba437caf8a0371edf7027e17fd123e47b4c477acdf8d56fc21814b20a5b7bd75ecfc796e4c9661f318eb7278c57eae264508231995b97d256224506a0fc036ffac0dd8d31fce39d02b1ef980425674877d99a9af3e923f97d3078057d01e9e0b2ff404db0fb164b7d7ed018e4e98dad4d6bf6eb49908cecc494efabf878c92c47fa3c662c69e71b0ba2c548c8edb6eea9c8dc411b0546869339c49b23770a6735cc8dd80a53bb28924eaab1fa5e86b3b94aae5dc8ce9dcaa7bd41b4e83d471940ded8e410b2d4841a7d194891a4ec1f5d42ff74d81488849b8f50487ac7d7601c40216c3ae32d58dfc32ab3bd8fae2317aca4a77ac4177aebb0f01f274fead6448a00a650e2d6402db68bd71e5a17449367302815968d7af0d44ed0d154b2574fc86af5fbb4a367c1c03fe8d76adf0beb4fbe5fe7c61f09a40beb0b896c97d362c3c36b5dc99cb68ff66c7cac4edb2ab2e479f79ce04d9f79faf4b62a66b1119364f00265364e3b190aaff9668b5b14e404033ce6211421a9e0554cc908abd0287a3715c6156a658e55e22c555af047323a7f57bde339b1a553203ff77a3f230c314f962a4f7ff9b8b9dbc07e85a3e8fe2f7d5866298242f55b0376d25484c7acc616ac6da4c83522387d879ea5dbfeea49939af176c1d636679a2c4ec86b2c0251a432a5fad8e662b137353e0582f5fa6b00499a61a685f14fa27c8ff56f61050b499b7e9573b07c476c0e9f8897c82a5d51b628f804f4183977a3bb0b4d7505c5338772af1a94956ebd6cbcd3024e40da19a652bed10a5911e321ffca01d334c02e66de98c891450c0dea4311521b112ca73c9693aafa02d0446ea2ccfc11911def1cc0c20d79baa2e2a71f12e01ad43418c79552b63c159fb3b01c9ec0856ee5ae3ad06f42e530ff2fd1d0aa24e0b8ca7968fdb2a90ba11c0f3aad2d059a4136a1b80f8e1e9d7039717e2d6ed68163b29a34194ba4bba02e2da5ab0e73ac58ba6a78d778b2c11b2a4aafb3fcbbfb9cd7cebe0d1e56cb798905e00694d2393b0499d7cc834d7ea49d9fbedbce14a7de4b0d94875312a3dc3dd1f6d4af53501af90bb467a86459576b14c4eb54208564c6339ba43bc1035ce034072771769f9a3298954a233a785a157d4936fb176d22682c6e2d449b68e197a09ab72681974d75f7e5a5b257c35e122e7e7247183030ef8e13591ff0f8693f32f6ee29ef3fc402f862ae6eec748bf2a5c7a807e806a612b2e9cfc9fe2d035d9188ff2032fc7d8422aaff122291642ef798a9a5b7fcf3f3a4c3156a1a03e0154f7e652955a8934065e1a0bf27232f0866bf982e761ed0893adfbd5a08c05b002fb19d3d84f79df9c2b0b750d7a51891e38333c38f98f2f5a1fb9d8e145b9c4316f08240e4adfcf11d602c42b7b76a1d9d53998389ed4b44aba22e40572a733cb63c5fb4fc046575e964c760c180ed0a3cf06e1737ff4d4dadf95b1f9a90f8dfe9c840d6588d11cf42eb94c28c7912c6947d262275ff787af6d12df78e3538e36d412b33e63a6b4fef6378fd92539a57afdeceaf0f12cac1ca0f6584be5aa56ea91f8f7960327ffee2f7e83791090c82b1814ccd0634bcb46b906950db5d4c5953a1d1ae90cc8d62266568e2e6a8ce3d70a762d7267f44db86da237e8d26e61f9b2477650f1b09647f9ea09e83b0e96a076112516c35a1eeaff8031899e4079d07f2128879eb5b21bf594ff6d75fadf868cac73a540a9a8e10b62625e9f7f53ba2b14c58907068e9fb1c5acf568b7ba4fb0f50a8c83f92c263c0adb0a20ee391ab0344f41c613a6dc40d748ab2ee2cf43a9be2b93e11f9332d3b39de1729043851d61377b6cf4dcae705882df8382ac4512f9fb17f5ac26b8b60164adc9a9222cebfe45c5a89cec54cb50b08d8319b4e260ae01a8812d2827144610f8919a34f5b4059030cd263461a9e38a9228e3c654f736cfe61282d9f57d3a40b1369779419a797e06a00ad9637e87635105c4c61bbd52a9f37ef4c22ab75d8bf25e468ab4990444999aca76eb821e04e417796830aa6ff131f5f6042add1a0bd49a6a3db40ba2d54b04335f6c0005912df014e6823685407c5026d0eee38b1adf04f309ede4c17d499f456c3d6bf5afbd217a2113279d7709459327c9dfb237e8bc59bb41ae7a8c9276e59df3b20af79f45b2b2df1b87f6c6b8523a88e7fb51b30a610004e1d02fd852297ae6e49da4347a3038e8438b4431a53fc8aca32e5c543d4f50acba70dcaca8def09b3c8bb5ffc0d8bd9997d600c9b880fd7233a986f0bcc26ab67f0eba3b78724ea4bf07dec7137f9fb3e1617065375530fccd50fb6868cdc8b0048b20b3296802dddad47d67fb243fcffdfbcace17d3a4ab1e377b78701ab81ac78100211dcd6351b8d3d7fd4dcc96d109c7f7c95cca5fa3bd1f9d3b4c446dc06d9c47108ffcc96863ea30a030dfa9387b9edf35194e48c4af75b56685ac8bdf793a2cc50df93296f9ca6124e8d71afabdad3febf036a24ca28f133341e142532de7624bce7c3175561a78022449575cb50cca9e4c456a211a8f9ca945ba00ac912b592ca5af0f2b43f241c9d3aff3380d9f4b15ca02996ef0b006007646ebf4e8f2efd53b28b8e57937407a33a4223496adecf00f495a084bc4a80344cf6ec20857990ec1c5fc18f5abee8259dec7c17a384e8525210dcdc597e415225e5e7c2ed63f28308f8064039734dd4ed9cafbd9a6d2d66838add21962fec49bc45f0a1fba32bb5f229ca25b8f4f812319be6967e1c602a68d07aba0433a78df59f4500595567f21b97d2aa2f03c54e3a55333e6eaca6d175349b3f6f5ef588f5c78c9d9156d819b7c25df4e60e7041fe4f0fc610563aaa6005317e0f29611eab7260725279be83282f16572b76819f3afe9fb03314df0226ff4b2a0fc325839c2f5a6ecca34d5075176d9c23add9639b559806cd16ca7b384c206505051962e9442503022a33d034eaf4d73b13d61cc93bccff6a8972c0c31b0675b7aabac56c1ff6911dd3aefa657c076a28075f0ee7e79fc8ee47c65b9745656ce7225ea3f05d843a675e6a4c6a85b5f4701c78f148d3a33175169926b5affe68b8e8fec4c09f715500c00c0659afcc5efcc814df14eb48a69cc3e38d33c346f29865693d3a8618107742406b77ec8096b053f8ffe161b0bbec645d044925020b5b1733057172a785df462a3546b75fca5b1d5885da07e21a879360235c9aa5bf4945dd9fdb0d062b77ff94a49c33d3b49eb2c8a091c19a6cd638246550c7488f10a9fcd139224ebdbf21dbd65d0ff154b0d1bcc9cfba01368c16e216c0d36234df7e95dc3f40e715e6689a9cba50c4590086771d18557cd01f61dcbba22b4b42beddae137c1faa905fbaef0cb286492fef4c945d9b6f569cffc8e2e8820c0d45d5b71b907f1d086b5693c3f1964bbc5a335333328cb861728e3d48b540a26a5cbaef8e1a9ab23f44d2017059b359783ca2cc227c7f62f1a7b6d480423e9318a30d93c348e92503882d0a937db5c3df62bfe8a374804535d6bebe8b437389c9e9e07829c94206cce2e1371828cab05998ccfeb04b3660715db22320acbe77065c4610ae26b3a88e5ab8789bada0e5090e686a199b926791d9342f7e0bf5bad0cfa53ddc1ae828ae901ea388905f98afece1c615d44d7188c60f1155661ae545fc99f714f56847eeffc8bf5a556accec77eb6348bb04aa464b5246fce1c2c78b5cab7258fc73456f4f7fd2c75c0d23bfff560a4cfcaeacf1c89a34748748fb83447cf8b87f964d41845a7a961cf4251f88453b964a6200dfe707577867cb93276578000f1287289dc7ed4c5995b4cb933d0baa13e1b242df20d6a5d143c18f74f7f503136a98b5cc1619ad18fe3ab16582e61a35f8be87f0c7c19ca62ba91b53d04478fc370f300a5e95879622a0bcc91acbe4028117edd7dea7c08ffcd981d7354c326cf10ab5ce3566bf0b7936c0c2ca43c909a7bdb3cdb8bd10a71cc7217adbefed267216c5c190a0506c4269dfe1b5ded0a2afc53ba8e080b91079f7941854b5bfecc77d0489f946b199fb4d3244a309eb25b5d216fd60f3515c3085e8bd617fa2040966d9217dc2a30bb1dc69884e534c3a6f4f59a1fcd510e7232cc7f8cabdcab049eb7e8cbbd1080620553ed8efd73448f5a52e64c20652eef9b755fd5d061fc30ec26ad6ea2d9a5f5151c5eb09615b45c43d5d9c842275acd4189c1d9f998bf0be3c9c64a9afb8f8126cad276e6a126ad0f3c1dbeb01b5ecdc2df6d4c27f7d1988082f67a6e0a61638faa8392c4061bc6b35244b48515c24c049b035eb4f54de7993e496b7de9e62f06d7bf1a795121e036d4d9ec7c02638c372d8bfda61c558a7c8a74ec7b2665e4c006c4dc6042bc3af593f3502ab21646a7c09ff24b57c587714fd3e3c4e2fe7d2ee821d4a66ed60aa24695102cb5c000d29d2bb397984bcf3a55011a585129d88938319a09e4b53a72cbdec522e66a3cdd5b59520693b3fad8a8c43f569acc7969f7e0356cc5455decba571a65c275eb1fc346f43cbdbca9a979660aa9566a3bf5565155d7cb530cc2980064038a8bc549e2fdfd6db1f4e6fc31ac646a898e88e59378e3efc56e47fe1293c50de95cb71a07482fd6f868b1ba96918f2553c7b7447d163f238a3f423ca922d0270f65948b6813a24272885bc5b7c72d08d3e0dd21d43f197cda4fae3b783966623a54cf4bda80241192a9de61c9fd9323fbebdc78a4cdfa4dbe272586b10825fb375fa31be6f332fc51fffb4a727becc0c3bed7ccfc7b49f6be0e4fb89dcb2a4c9c634e6011953e8c48b6dee110ceb1c784f02e4fdf92dc7da2f90a02ec4bddb9753bf7f073bc94ef028da15f7c3d63a6853b864e533ccfc11c16d194b562d953170f02c25e6cfb5f68a8e77821509174deb95c29a9f8212bb689c90b1a246fb92545cfbed242afc07021ce3a30747d8f0bc49efb579fc1509b4e0997cbcca49f1458d0868161da41e162df301b64d2d605fa0eb03c3d4d801e73381f99a188b82caf879a1103c23b85a624ef4c18e865026bb475b7</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>Aui</tag>
      </tags>
  </entry>
  <entry>
    <title>I bought a house</title>
    <url>/2021/04/18/Buy-home/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="一个特别的日子"><a href="#一个特别的日子" class="headerlink" title="一个特别的日子"></a>一个特别的日子</h3><p>2021年4月18日，一个特别的日子。<br>    周六的时候还在加班，然后下午请假和同事去了 <code>招商一江璟城</code> 看房，总体来说教育和交通这块是没问题，但是我不喜欢那边的环境。看完之后回家，吃完饭，和老婆还有妈妈晚上去了<code>大华锦绣时代</code>，大华设计和布局是很好的，附件就是地铁五号线，对面就是众圆广场，房子南北通透，北面和东面都是隔着很宽的路，没有遮挡物，主卧是朝南。周边配置齐全，教育医疗交通都没问题。经纪人每平方米优惠了700元还送个家电，但是要先认筹，金额是10万，感觉还可以，心中打算买了。我说回家再考虑，如果想好了，明天早上过来交认筹金。<br>    <span id="more"></span><br>    回到家，跟家里人商量了，决定明天就把钱交了。入睡前，心中忐忑，觉得买房真的很累，选自己喜欢的不容易。想想房子以后是什么样子，适不适合我们住。<br>    周天一大早我就醒来了，决定去交认筹金，但是我突然想去另一个楼盘<code>融创临江府</code>看下，因为今年2月份的时候看过一次，当时还打算买那边的，因为资金不够。现在这个楼盘涨了。我看中它的原因是靠近江边，然后三面都有公园，环境很好，适合居住，教育交通资源也有。它的整体设计没有大华的好，但是阳台设计比大华的好点，又长又宽，客厅和主卧相通。去那边看了下样板房还有施工场地，算下价格，比大华便宜点。<br>    对比了大华和融创，我发现融创更适合我们，没多想，参加了他们的认筹活动，交了5万元。他们10点开盘，给参加了认筹活动的用户提供个小程序，到点抢自己喜欢的楼层。<br>    10点了，我的手机直接卡死，选择楼层的按钮根本点不动，我直接回退重新进去，发现好多楼层都抢光了，就第4层也有人抢，心中想这个不吉利的数字楼层应该没人要吧，我选择了第3层 <code>301</code>。<br>    计划买这个楼盘了，要准备 <code>身份证</code> -&gt; <code>户口本</code> -&gt; <code>结婚证</code> -&gt; <code>个人征信</code> -&gt; <code>近半年银行流水</code> -&gt; <code>收入证明</code> -&gt; <code>社保证明</code>。其实这些最好买房前准备。</p>
<ul>
<li><p>社保证明，我是武汉社保，打开<code>http://zwfw.hubei.gov.cn/index.html</code>，国家政府服务平台，区域选择 <code>武汉市</code>，其它不用选，之后选<code>特色服务</code>，选择 <code>（个人）武汉市社会保险公共服务平台</code>。我用的wifi一直进不去，切换手机热点，进去了 <code>http://221.232.64.242:7121/grws/jsp/framework/main.jsp</code>， <code>个人网上业务 -&gt; 社保证明查询打印 -&gt; 武汉市社会保险参保缴费证明（个人专用）查询打印</code>，用IE浏览器;</p>
</li>
<li><p> 近半年银行流水，携带本人二代居民身份证和银行卡到就近对应银行网点办理，待6个月流水账单打印完毕，必须要求盖银行业务公章流水账单才算生效，如果是招商银行的，手机APP可以支持打印；</p>
</li>
<li><p> 个人征信 <code>https://ipcrs.pbccrc.org.cn/</code> 用IE浏览器，如果是招商银行的，APP可以查看个人信用；</p>
</li>
<li><p>收入证明 去公司填电子流走流程审批。</p>
</li>
</ul>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Home</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker run Apache</title>
    <url>/2021/04/14/Docker%20run%20Apache/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>下载镜像</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">&gt; docker pull httpd</span><br><span class="line">Using default <span class="keyword">ta</span><span class="variable">g:</span> latest</span><br><span class="line">lates<span class="variable">t:</span> Pulling from library/httpd</span><br><span class="line"><span class="number">75646</span>c2fb410: Pull <span class="built_in">complete</span></span><br><span class="line">a51c6e95ef2e: Pull <span class="built_in">complete</span></span><br><span class="line"><span class="number">97251</span>e2deed4: Pull <span class="built_in">complete</span></span><br><span class="line"><span class="number">83942</span>ffdf87<span class="variable">a:</span> Pull <span class="built_in">complete</span></span><br><span class="line">fcf0f47f7ede: Pull <span class="built_in">complete</span></span><br><span class="line">Diges<span class="variable">t:</span> <span class="built_in">sha256</span>:<span class="number">31</span>ee85db3ebec898ae4e3e19ceb5c19ce622ea395d7e4844a13a8b1b141b62be</span><br><span class="line">Statu<span class="variable">s:</span> Downloaded newer image <span class="keyword">for</span> httpd:latest</span><br><span class="line">docker.io/library/httpd:latest</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>查看镜像</p>
<figure class="highlight tap"><table><tr><td class="code"><pre><span class="line">&gt; docker images</span><br><span class="line">REPOSITORY                         TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">httpd                              latest              d5995e280a0e       <span class="number"> 8 </span>days ago          138MB</span><br><span class="line">busybox                            latest              a9d583973f65       <span class="number"> 4 </span>weeks ago         1.23MB</span><br><span class="line">hello-world                        latest              d1165f221234       <span class="number"> 4 </span>weeks ago         13.3kB</span><br><span class="line">redis                              latest              bd571e6529f3       <span class="number"> 5 </span>months ago        104MB</span><br><span class="line">hub.c.163.com/lightingfire/nexus   2.13.0-01           95543f26ca31       <span class="number"> 4 </span>years ago         455MB</span><br></pre></td></tr></table></figure>
<p>运行容器，将C盘的<code>docker-data</code>文件 映射容器的 <code>/usr/local/apache2/htdocs/</code> 文件中</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">&gt; docker run -it -d -p <span class="number">80</span><span class="symbol">:</span><span class="number">80</span> -v <span class="symbol">C:</span>/docker-data/<span class="symbol">:/usr/local/apache2/htdocs/</span> httpd</span><br><span class="line"><span class="number">796299</span>a44475b457c46e3a26b00aec389d2cdd669e0a1d525db79b70bd227903</span><br></pre></td></tr></table></figure>
<p>在本地<code>C:\docker-data</code> 新建<code> index.html</code>，打开<code> index.html</code>文件 编写 <code>hello world</code><br>查看容器<code>/usr/local/apache2/htdocs/</code> 文件，先进入容器，<code>ls</code> 查看文件，可以看到<code>index.html</code></p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">&gt; docker exec -it <span class="number">7962</span> bash</span><br><span class="line">root<span class="variable">@796299a44475</span><span class="symbol">:/usr/local/apache2</span><span class="comment"># ls</span></span><br><span class="line">bin  build  cgi-bin  conf  error  htdocs  icons  <span class="keyword">include</span>  logs  modules</span><br><span class="line">root<span class="variable">@796299a44475</span><span class="symbol">:/usr/local/apache2</span><span class="comment"># cd htdocs/</span></span><br><span class="line">root<span class="variable">@796299a44475</span><span class="symbol">:/usr/local/apache2/htdocs</span><span class="comment"># ls</span></span><br><span class="line">index.html</span><br></pre></td></tr></table></figure>
<p>浏览器输入 <a href="http://localhost/">http://localhost:80</a> 查看结果</p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker</title>
    <url>/2021/04/14/Docker/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://hub.docker.com/">docker 官方镜像</a><br><a href="https://c.163yun.com/hub#/home">网易云镜像</a></p>
<blockquote>
<p>基本命令</p>
</blockquote>
<p>搜索镜像 docker seach </p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">&gt; docker search <span class="keyword">busybox</span></span><br><span class="line"><span class="keyword">NAME </span>                     DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED</span><br><span class="line"><span class="keyword">busybox </span>                  <span class="keyword">Busybox </span><span class="keyword">base </span>image.                             <span class="number">2168</span>                [OK]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注：BusyBox 将许多具有共性的小版本的UNIX工具结合到一个单一的可执行文件。这样的集合可以替代大部分常用工具比如的GNU fileutils ， shellutils等工具，BusyBox提供了一个比较完善的环境，可以适用于任何小的嵌入式系统</p>
<span id="more"></span>
<ul>
<li><strong>拉取镜像</strong> docker pull</li>
<li><strong>查看镜像</strong> docker images</li>
<li><strong>删除运行或停止的镜像</strong> docker rmi</li>
<li><strong>运行容器</strong> docker run </li>
<li><strong>查看运行中的容器</strong> docker ps 或者 docker container ls</li>
<li><strong>查看所有容器状态</strong> docker ps -a 或者 docker container ls -a<figure class="highlight tap"><table><tr><td class="code"><pre><span class="line">&gt; docker ps -a</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                        PORTS                    NAMES</span><br><span class="line">dc8b9ba2efb6        redis               &quot;docker-entrypoint.s…&quot;  <span class="number"> 7 </span>minutes ago       Created                                                tender_chatterjee</span><br><span class="line">cff3358881a2        redis               &quot;docker-entrypoint.s…&quot;  <span class="number"> 20 </span>minutes ago      Exited (0)<span class="number"> 8 </span>minutes ago                               admiring_vaughan</span><br><span class="line">cc638be418cb        busybox             &quot;sh&quot;                    <span class="number"> 22 </span>minutes ago      Exited (127)<span class="number"> 20 </span>minutes ago                            trusting_yalow</span><br><span class="line">03cd134e1313        redis               &quot;docker-entrypoint.s…&quot;  <span class="number"> 29 </span>minutes ago      Up<span class="number"> 29 </span>minutes                 0.0.0.0:6379-&gt;6379/tcp   competent_galois</span><br><span class="line">950da22b6340        95543f26ca31        &quot;/bin/sh -c &#x27;$&#123;JAVA_…&quot;  <span class="number"> 2 </span>days ago          Exited (143)<span class="number"> 2 </span>days ago                                nexus</span><br><span class="line">1c648c6719db        redis               &quot;docker-entrypoint.s…&quot;  <span class="number"> 5 </span>months ago        Exited (0)<span class="number"> 5 </span>months ago                                redis</span><br></pre></td></tr></table></figure></li>
<li><strong>停止容器</strong> docker stop</li>
<li><strong>快速停止容器</strong> docker kill</li>
<li><strong>启动容器</strong> docker start</li>
<li><strong>重启容器</strong> docker restart</li>
<li><strong>暂停容器，容器不占CPU</strong>  docker pause</li>
<li><strong>暂停恢复</strong> docker unpause</li>
<li><strong>删除容器</strong> docker rm 容器短ID1，容器短ID2，可以删除多个</li>
<li><strong>批量删除所有已经退出的容器</strong> <code>docker rm -v $(docker ps -ap -f status=exited)</code></li>
</ul>
<blockquote>
<p>运行容器参数  docker run -d -p 80:8080</p>
</blockquote>
<ul>
<li>-d 后台方式启动容器</li>
<li>-p 80:8080 端口映射</li>
<li>–name 容器命名</li>
<li>–restart 因错误停止或者正常退出将自动重启，docker stop 或者 docker kill 的退出不会自动重启</li>
<li>–restart=always 无论何种原因退出立即重启</li>
<li>–restart=on-failure:3 重启3次</li>
</ul>
<blockquote>
<p>进入/退出 容器</p>
</blockquote>
<ul>
<li>attach 直接进入容器启动命令的终端，不会启动新的进程</li>
<li>exec 在容器中打开新的终端，并且启动新的进程</li>
<li>exit 退出</li>
<li>run -it 容器启动后直接进入<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">&gt; docker run -d -it -p <span class="number">6379</span>:<span class="number">6379</span>  redis</span><br><span class="line"><span class="number">03</span>cd134e1313edad3304154282262daa6839bc7bc6f1bed51f3404b09eca3580</span><br><span class="line">docker exec -it <span class="number">03</span>cd bash</span><br><span class="line">root@<span class="number">03</span>cd134e1313:/<span class="comment">#</span></span><br><span class="line">&gt; <span class="keyword">exit</span></span><br></pre></td></tr></table></figure>
<figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">&gt; docker run -it redis</span><br><span class="line"><span class="number">1</span>:C <span class="number">07</span> Apr <span class="number">2021</span> <span class="number">13</span>:<span class="number">49</span>:<span class="number">07.859</span> # oO0OoO0OoO0Oo Redis <span class="built_in">is</span> starting oO0OoO0OoO0Oo</span><br><span class="line"><span class="number">1</span>:C <span class="number">07</span> Apr <span class="number">2021</span> <span class="number">13</span>:<span class="number">49</span>:<span class="number">07.859</span> # Redis version=<span class="number">6.0</span><span class="number">.8</span>, bits=<span class="number">64</span>, commit=<span class="number">00000000</span>, modified=<span class="number">0</span>, pid=<span class="number">1</span>, just started</span><br><span class="line"><span class="number">1</span>:C <span class="number">07</span> Apr <span class="number">2021</span> <span class="number">13</span>:<span class="number">49</span>:<span class="number">07.859</span> # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf</span><br><span class="line">                <span class="symbol">_</span>.<span class="symbol">_</span></span><br><span class="line">           <span class="symbol">_</span>.-``<span class="symbol">__</span> &#x27;&#x27;-.<span class="symbol">_</span></span><br><span class="line">      <span class="symbol">_</span>.-``    `.  `<span class="symbol">_</span>.  &#x27;&#x27;-.<span class="symbol">_</span>           Redis <span class="number">6.0</span><span class="number">.8</span> (<span class="number">00000000</span>/<span class="number">0</span>) <span class="number">64</span> bit</span><br><span class="line">  .-`` .-```.  ```\/    <span class="symbol">_</span>.,<span class="symbol">_</span> &#x27;&#x27;-.<span class="symbol">_</span></span><br><span class="line"> (    &#x27;      ,       .-`  | `,    )     Running <span class="keyword">in</span> standalone mode</span><br><span class="line"> |`-.<span class="symbol">_</span>`-...-` <span class="symbol">__</span>...-.``-.<span class="symbol">_</span>|&#x27;` <span class="symbol">_</span>.-&#x27;|     Port: <span class="number">6379</span></span><br><span class="line"> |    `-.<span class="symbol">_</span>   `.<span class="symbol">_</span>    /     <span class="symbol">_</span>.-&#x27;    |     PID: <span class="number">1</span></span><br><span class="line">  `-.<span class="symbol">_</span>    `-.<span class="symbol">_</span>  `-./  <span class="symbol">_</span>.-&#x27;    <span class="symbol">_</span>.-&#x27;</span><br><span class="line"> |`-.<span class="symbol">_</span>`-.<span class="symbol">_</span>    `-.<span class="symbol">__</span>.-&#x27;    <span class="symbol">_</span>.-&#x27;<span class="symbol">_</span>.-&#x27;|</span><br><span class="line"> |    `-.<span class="symbol">_</span>`-.<span class="symbol">_</span>        <span class="symbol">_</span>.-&#x27;<span class="symbol">_</span>.-&#x27;    |           http://redis.io</span><br><span class="line">  `-.<span class="symbol">_</span>    `-.<span class="symbol">_</span>`-.<span class="symbol">__</span>.-&#x27;<span class="symbol">_</span>.-&#x27;    <span class="symbol">_</span>.-&#x27;</span><br><span class="line"> |`-.<span class="symbol">_</span>`-.<span class="symbol">_</span>    `-.<span class="symbol">__</span>.-&#x27;    <span class="symbol">_</span>.-&#x27;<span class="symbol">_</span>.-&#x27;|</span><br><span class="line"> |    `-.<span class="symbol">_</span>`-.<span class="symbol">_</span>        <span class="symbol">_</span>.-&#x27;<span class="symbol">_</span>.-&#x27;    |</span><br><span class="line">  `-.<span class="symbol">_</span>    `-.<span class="symbol">_</span>`-.<span class="symbol">__</span>.-&#x27;<span class="symbol">_</span>.-&#x27;    <span class="symbol">_</span>.-&#x27;</span><br><span class="line">      `-.<span class="symbol">_</span>    `-.<span class="symbol">__</span>.-&#x27;    <span class="symbol">_</span>.-&#x27;</span><br><span class="line">          `-.<span class="symbol">_</span>        <span class="symbol">_</span>.-&#x27;</span><br><span class="line">              `-.<span class="symbol">__</span>.-&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Cache Line</title>
    <url>/2021/04/14/Cache-Line/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>缓存行 <code>Cache Line</code>  <code>CPU</code> 高速缓存中分配的最小存储单位。<code>CPU</code> 缓存分为 <code>Cache L1 L2 L3</code> 一级 二级 三级 缓存，查看本机缓存<br><code>pom.xml</code> 引入</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="section">&lt;dependency&gt;</span></span><br><span class="line">    <span class="section">&lt;groupId&gt;</span><span class="attribute">fr</span>.ujm.tse.lt<span class="number">2</span>c.satin&lt;/groupId&gt;</span><br><span class="line">    <span class="section">&lt;artifactId&gt;</span><span class="attribute">cachesize</span>&lt;/artifactId&gt;</span><br><span class="line">    <span class="section">&lt;version&gt;</span><span class="attribute">0</span>.<span class="number">2</span>.<span class="number">1</span>&lt;/version&gt;</span><br><span class="line"><span class="section">&lt;/dependency&gt;</span></span><br></pre></td></tr></table></figure>
<p>不同处理器的缓存行 <code>L1 L2 L3</code> 高速缓存行字节宽不一样 有 <code>32</code> 字节和 <code>64</code> 字节</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">CacheInfo info = CacheInfo.getInstance();</span><br><span class="line">CacheLevelInfo cacheLevelInfo = info.getCacheInformation(CacheLevel.L1, CacheType.INSTRUCTION_CACHE);</span><br><span class="line">System.out.println(<span class="string">&quot;L1 Cache info:&quot;</span> + cacheLevelInfo.toString());</span><br></pre></td></tr></table></figure>
<p>缓存行在内存中加载的地址是连续的 假如缓存行是 <code>64</code> 字节 有两个变量 <code>a</code> 和 <code>b</code> ，<code>a</code> + <code>b</code> 不足 64 字节，那么会在同一个缓存行造成伪共享，处理器修改 <code>a</code> 的时候，其他处理器读取 <code>b</code> 的时候该缓存行是失效的( <code>MESI</code> 协议)，其他处理器不得不重新从系统内存中加载。</p>
<span id="more"></span>
<p>处理伪共享 可以采取 <code>padding</code> 方式 ，当字节不足缓存行大小时进行填满  和 <code>Java8</code> 的 <code>@sum.misc.Contended</code> 使两个变量 在不同缓存行中</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@sun</span>.misc.Contended <span class="keyword">static</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">CounterCell</span> </span>&#123;</span><br><span class="line">     <span class="keyword">volatile</span> <span class="keyword">long</span> value;</span><br><span class="line">     CounterCell(<span class="keyword">long</span> x) &#123; value = x; &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p><code>ConcurrentHashMap</code> 的 <code>CounterCell</code> 上加了 <code>@Contended</code> 注解  解决了 <code>++</code> 操作产生伪共享</p>
<p>看下 <code>padding</code> 实现 , 使 <code>long</code> 变量进行填充</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">SingleProducerSequencerPad</span> <span class="keyword">extends</span> <span class="title">RingBufferProducer</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">long</span> p1, p2, p3, p4, p5, p6, p7; <span class="comment">// 4*7 = 28 字节</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">SingleProducerSequencerFields</span> <span class="keyword">extends</span> <span class="title">SingleProducerSequencerPad</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/** Set to -1 as sequence starting point */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">long</span> nextValue = RingBuffer.Sequence.INITIAL_VALUE; <span class="comment">// 28 + 4 = 32 字节</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">long</span> cachedValue = RingBuffer.Sequence.INITIAL_VALUE; <span class="comment">// 32 + 4 = 36 字节</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">SingleProducerSequencer</span> <span class="keyword">extends</span> <span class="title">SingleProducerSequencerFields</span> </span>&#123;</span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">long</span> p1, p2, p3, p4, p5, p6, p7; <span class="comment">// 36 + 28 = 64 字节</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>volatile</code>  也会使处理器缓存回写到内存并且导致其他内存缓存无效，在 <code>64</code> 字节宽的处理器  早期<code>JDK</code>版本采取了追加字节的方式来进行性能优化</p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Janor</title>
    <url>/2021/04/17/Jalor/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="fa19deb1cbb171af59b8b8723aeb5dc767b314b6348e260f1eb580dce360e2d8">9943c1717e2782a5be9ecb675b444bc9fb48e049bfddc91202fd6d059e1a4d5e973c33d2ffa19a01370f744b7b5845adfbaf7b3dee729ef8adad1bf6ff0db3148090605ccca2accebf2b23386aa7d6bae43623961b61a80aa02144e7c353070b787a8fbaf3d987ebd447bde6cdb936949bed683d7e4867f4d1fe674b9d83f744b5ac49f3c76d0ae93db4b32fabc0fbf741f11ac61b079b7ab3e15ce5f1252f5ed651338bff758cd04db0214375e46f4070bcda6fcbac8f31ec650b8a62c20705089d03190c5244ff132d0eb7d6f81893b9378cdd8c084ced23d6e9c18362fa9713694823bc70e56f45f241d68b0c4a66fab4142c821202d3acfde917926e7a6e3b50d079257ff7e20b627fa01d57d85dd66b4d796489821517688d577c99a3541bd91cd521dc992e55849147dbac9f04d2ff381c46951126812fa156ac026be5a16415a1a61c0e174af7aa33a1c3f84daf6d711216cd8b30cea9fe8e8bfa1cd58d4a23ae1920a902413880a375c040fd642c29ff6100f6a57add90e156637ffc6a1edc06cd658a862f64dbe91336978f338c2c0ae6bb4e33585de5d5451a3829eff6c1b9897e6ab384aadd2e515bc4187e0cc29f7f877e772619d6f54b970de63db10baad34c61c5aa17405783a18ea2b50c859597033efc41f3eac5b877a9afb84851210b8c1301af5e1b577cbf6eed74c2b5b41b0b698018bb19c586c70e6c5f2639c5ae8704e2c04b1434114e92b87cbd9ac174fd689dbfceac7f27ea8e6852f21dc1838da76edbac52938b1cd68dadaa62cb5fffa78d640fe9241aca7eace79d6ec465e8ad8250185b796cb1b772d4cef931f67d3ab5ca1511e9ba67c0fdf3f30049b596d9ce2b05f1028474725d9cf350a4352c4b47f6e9c3a69bbe1cb50bed1c0d1f3ba9666a3b7556d761ccfa4caca7f1dc355a77e1ba2296a427a8ac5ccd8cd1437e61d30ada1a9bffb30671d516f86136eec214a116b41979aca994018bd81b9c35fc62386f5520deb98acba3b979ccfe6a9b20e50ebbd6aaff518c67a366de43fbf4878c5b002a70c200a32ce9021ec530b523a94ddd294813c2f704292a18bd130c4ebad562cff94a437b6ac4d49318a845aaa65ca9ccdcfebe6972d9d4088067edbd840718493db6d3f504abf83070051e0c619a27f3ab61490cde99d4dc59bd57dd61a1f80f812170f912f44063c3dd32f20102d08194d98d50ef0d9373b89aa38b8aca7b2268ef8f778294c88751df3cf85289c915c66bac3dc999fb01ba4e357305112451a3d748f6e8221343cceb1fb78bc6de19913eb1bf7619ef2deb0479eef549ec93c43b63e87ab54729d6555622647ef9c27b76f7c644883fcae54a58b989615434767a1cbd83c9ea9731b5d6318b9128df557abd7424d332c8caabf00e0d904eb146e4463d833e3eef7e96f06ef8c9441ddcdb4dac1264b4d60d19602e634b82bf9412f34acad5af35ffbd31ef85034189acdc524e7428216e6aa76d3e632ea69c9b9e791f05a601ed868205841d8c61fea3a8f4d34fc834142dd763c0d8eac4bb5d3d319e3e7608b17e0cc948155e335e91b2cab2bceb0cfde4419356ed7e4c9e10c6811dc59de1bda23535df61d327c37f3e76e046826047a244f9e1e865f14402e26fabe9a6e49cb57260e490825b36684d2d889dd6356ad06bbc02ff3088e11a74bb0c31a3b47ebf53526483d5d7f362d15f3b7c038406fc10f9206614fe539059ad4ef4050101912d8aaef542de4e69f63d69d082962478406c293ecddece3c2efbaa6804323b3e46786e71d6dad7ec82ccb3b21c50a3b1272980ced573fd0f526ba52f5cfcf53bb6f0cadb6d8044f835f811ae5df0c83ff2b946326ad1176e2081cdd852dd3ee173c4b38c60b3b4cdc66110417297cc0becf88e9139522dccb60969f9e14aa93a0cd8f3dad5b98517cad2676379737ccc442fcd24b8990d16df6f520891ef30ef039fe84dc93a53a56d2911e803e80509b0217b46aac5123d9d2b9fcb68aa035ce2e2ba5e6d188f8aaa591a49b95ea81c58d732769ede8e64e9d3b9b12a4cab19273cb66a690f0bd35fe0e23e99e3b2d979a380c501a99e9acd8a8e8a683cd0e730889bd044f5cbf75b1a6dd156ce42ffcfc6adb2b8f8dd71f76b8352469d55a320998187125cc08ebdc57e264c8cf719b89869ce27a815cddf1576838eb18a362ff4dc4d2cc734e4ac6f50d335041d73e494af8b263e75ae8668dd29959df065012a52009c477616204313a94349d87238c790d09440edc2a843acb031af726ac2871ac0fdf603dccec58e6eb1ade0edcd859e8a1765142f8e26732dfeec3a280fb6c82c0b0863ee87581a2cad3a14ec72fbb99e5a07c65d46abe28edf9459b01a058a54800d4f8a293d8dfa26a2813dbf9ddcf17b16626c3f95514651c76fd50b138030e1bb1d2fad49740e8d4506996806b320a60c56679310df70c23e6f74276543c58f16145cc35b92ef2ded0254bda04b1401c80dee77f2724f13f98a6cc1860f92f5ab408096486ea7c9fe45a44ec9ae262c3a52e7fcb86090389bb286aab515246d0aee3b2693ad4ff34119964816fba4496840b79362d98916140645fc1dce5fc5c9fe4a9ca093b5641fb649c8dad2e4e4e277279c3ab07aef83479a51dab42f64159a8d91c0f872303d39004a87c9bef4fa11a228c1d04495cc8806d3ad7875a3ea9a43517e1a088c15b20c9ba79e004b4a450521b5f138938f5bcdd52cc85cf7ec5c06c17b30eb2eff473137bf4c8d4cb03d100f29d62898d7d21f11f74c4bca8616b24ed10d53c314b1b41e0f45ca8f0e64b20e89edc6d2114ff0eae55d28e144d6a18ce583d519817572284b6eb1aa86ff70f7088b672a982216bbeff8344030356ec2705fa4506c731767aa554255b8449365e712ac1f73474b727e0d9e2747fb59a9fd773f4da6cd2d586498ca4082d9d77028298c847a4b82218cc88f1d95e2b68b1491ee6f3990376a956a36102f1e9180074014c06b515258c8700946014c035c191b0312b5d0f35d31189879f93da47a7cdec90e93d017cdebf5600188ee769a85b26cc62aae4ab8d3e292010d9188d2851889cccd023aafd6448d264d14c36967404ee53b5c539b049b3c37e13c8f77fe0f17683d2d59c3ce49fabb0896c85e264f787ffe9ca763fea42c4e924685b7acd1757593e9c8d50ca68d32064a4240c94d1d854fbc0f6e16d37594336580785021245628625834bde6690f2ca733bdf9bdb35c3e696cd355959a1241cee5492bbb755adaee75e643a533762af2825329172668d9178f409d7a725ed5193029c36ef70d6cde5a906881a455368886228de467e000e1b6dc514ad349b71bb2d1f1833459d02e2167cefd1ab73ad41e780b2c228309cb7e1f82f46790ba93c8dfab231687268589991080d1b74d16772a1b175bb20ba4b65ffa844cbc41f85a601c6d201b8f66e93d99d9dfac222a167a125d112a2048ac3fa009135ecf3e16a5ff522e74694c6c17be599a7f47ecd39fb2e419f7710ebabf283909e82b0b9764ff594e9bfc3521cea590af13bd6fb22a3c80b37191313e90e13ba4be6f96080bec8f7a25b1f40656c5f0d30c9135e881963cb390d64f6c3d014f655ab7ddbf3144c44f326d7a8ecfbd3296a99b98a35354b8078364512fb90dfa7f724f64cec15d83c941fc9640cbd7a243802aced0b7268e8210f4e120a5cdb4b9623d9b21bc18a11c5b9e4a56b1554c7317e08c476570c706e6c6a9c37ef581ffa419f76b45dcc95687c545a7320c56237825d8f28db44b651edae079673e41cf3cf7aff991f0c919a38a8f1d825ccadd4134e6a85442cc715fe169f9df42e356f5309fa3661a36bba9922337dc58bc6ae2a4a879b5944770bf4028bb150c0440f1d21c30a34e8fd33c9dfa0388fac497afd97960956e53afa481e7503ee5ca91243f6629ed584ac7ad94b6be07e143d6d76be48cce72351327524f545d34ee65884a360ac347060b2497820729d5a8d685141b061cb2b4056731e1e03756d526161af3ac4e8abc561018715a93fbb0b1e783dfcd577de15ca0a3a72313e2053ffcd5e8acaf51bdb25584a17a2064350bb83b27a1f877af2d4f939ed481a55ec28754069801f7a78b135d93dcb54310487c8b2e3fae4a1837297c85523f9366630c671be319f4fac857c9d1537ec2278bf521682476b3e5a1b2570f36062cbc5b26fe6261923ce653ef94589059ef7824ee04f523f17d3f3d730fa8a77ed521e9b8b58187563f7464006409295fd4863ae4a5873d78916bf7565e72ebb7bea3e55742dac4fea42824633349507829a0b435560b099b9620e600e23d1ef87e5506b8f1eca55123b1892ce7cb689f60edf561cf2ca7d4fce631c7fe2ee82ed0475cafb527d3c9bca8db564e2132a8deb91ee3d4d371c8e69b697f922b4baa32926172c6a510c26871ded6e7d188db84de1b8bab1638ea625352996bb32aa1da1efcb073c77b96488d41c3823fd9521443a3e8e02bbf905dfe5ad38bb2a263d05d820a6a53c24826cc0bb511651b88a14939967bf9fab68360d97fc00d5a0b54ae18e7516965e8e75735361e132bc5392ac1a174e19dd9ff5fd9e02ed18316d5e6bab08fc92822ca6c8f81cfe90b79213f8a3ad69b0cca2517c9fb3b753940feac5e9e3d503469afdcdc0be9ee4baaffa5f1efdd8e0df67e59de6f7e3d4450407f9ee1c4c6f87e1ba7eafa59f75f3aa9c93b20ca77a1b63773a43de0ba8f443b8a1290d8c8a7c00c340a1292c4b337e17c6b146d2ec3ddbe90e36593a170fcd5e60561391b104738a0d175886f5448779e174b377f06aaed0a40902e967045c47995658673af178c09d328f08a231e581e74febf76d8aabfede506e63e95d8b8ab3b61e06b3bf1b61aff7bb3a5435b7658215ccdcdb2215ebaa395e72e8dce4d3b3c2fa61bccb7179d24c6058be2d83fb7f724ffc1a2f00f8849c4f736a78789517ec2a65715d4e406ffcd8757268231162f22573f984dd6c234f1b78c5dd191506d684641d391ae677ad7b466216cf9b3f7363489b9a01836ad12aaba2855b97ff0bdb4c06f60c096b24c46fcfeefbc0dada133e32f0015cbd6c873bb145f2cfd2db912ff2e6cd01c37cf139d4d45915cfc2b7ca8a895876a5e5b608d2a0a80a2211baa06547e3cc6355ec9e0aacbb3cd9e3fe0c7401a476294b1f4d74678c474b6982da011f1f3b6b0d655fc86190417796a02f95b6fbb62024697f23896e2074b81c63d68a66af91cac396546f18d02291a483a9aa17191db2c89a91582bf37cedceacac0e4df9bc88faa21f91cee87dc850c38ca5f9bad0c89db520b4375599ecbbf625101e8883cd9dae623e7b74d1d67bdc61e27bcb6bcd8511fdfb5c3127ef15c221df1ffe0114a0cda7d878ccd0bdb4550fd3cbeb72e857ba2b72516b2f0569e423aff72c69081f279c12f1ab22a368ffe64e398df3def49221a8733b99a16fb418f2d127dd8d72099b7d3163a6f1ad1fceae1abf799db1216b53362093c5457e16594636bfe25a4823ba665b0f53671478c92b50c4988d3f673bb086bd26fc2007a95e19c4612d30cab6bbb5e08a57df435e0f17b91cfaaa3b58f9fb20d52789a7e7ab022b3fae084b31103bb05b0821632f29f753d04d4518f29bf47ebefc7491968a35aa4c5ac64eaeaf2e4e72b03edf02fdb8f31a0a2a492c75b182ef1b37026399a1371f334ed12441871b4a5c69649d635bbdd22bbd631a7b5fad9e45a59a15e66497d248da1da4eaa4f18bfdc9bb6b97c77477cca6428c4167c031a8f6496a351a0eb23490a96c865b9ad1928033c3e5c082b4cd2537cd352ee7285954a7e7d46084804391c5e3ffa22a13ceee8185a968a943d28f80ca5f1a3f7cfaca6a9d364e68effbe866c940138b419ceefc94e20a016ffbf5093c39203e74c27693d0ad4174e60763a62e36f4dc2691c82492544f8f6575da25967284932c3db4076f7a84e676603e4e89faa0217e0e768c4f401054adf2a04ad258901e53edd5005d5b98d80dbbb5f6d4ce83a985b0cfe4040838a77af3cce47a625ffc07f378a5ef07c623648833bb46684c29bc42c008a750e5a2a3d81142006a4e7ec9f8a2cdedc2fcca9d83f378c7b660000c4ef54907858f701ae35821c1737b8458c3fe66c7e1a8bba6e1241a2a8176764e3ffc77a9a761688d638cce95d760610715221690502acb7330e0907ac2933b411727bf3ba53f2198d78d9f83f26694a9a1f6a6a3f64c437983c3bb1e480de7bfb52f64d45b7bc1864867be183f8185eba1dcfbb99cf2f29a8252a9f03eb93f0f773df863ec5e66bf8842ab44a06fb9443df48bcee5581e7b192f5ebb55352e87bd87d086387d9e1f7f1549bc260782bf7107a2278d7284d452ccd6dc997507f251d17e1c6d14701ce252e11a4e46ef3f19ecf8a13d09f00050a9aa0979635b878fa95339a39b52b877bf0c2729b04ad5d6ee22abb1d2768e06ad94295690afbb41fde09ee32e01ac903423384758e76b1350cb863e74d05d7c4d48e8baf629f3c5d06a4a251b924eb7176b5b491fffd4ac83467b673b799fa1dac9882307d3bbc2ab7b5eaf0b2066b6f82497eba9ee012bed586d1e19d7c10f6bab266d84f530b835181928ef078978d96c620ea517abb064370381963c318ef4d23576d1f832fd461c2768d366b44d189b0793878f9adef1e3f1d5c8eea360fce853095d11a17d686830882abe8ed3e25852984e0cca88c8ea455df985bcefda1c498f200296124402d73b3ba10d180ea4a0726af8852e5b39de4fd8360c33ae1142223582cf11c091da3317037446a52bc33b90707df4db9e05fd234eaa0f64393383b12e2ffc3505a788fb89329583f019dd47bf01d684771b880b032c631aecec42beeaae0f101f4b1839d4eb95c5f8ffa6bb0b1f88919505906b626d0290337d89d1eae671318658a7db7b6ab69bd086dbd26524f12364c4a9d1b9001e1f019216e2087ad9711b95a750bf4f7e8b74cfce13e0037383ff157e9cd0261a0b847020d482e80cb2178a65424fa7cc7cf6cbf49065db34e1976ee5a45aee758a2a55ef8f901643a559e148a54685180118cf08976962ee4811f915c6459445f16b93b9124ff4de2691c677d4d7012d9cc57dd5498ed05fbfcf679cc64cf1e7e55c2c282c5eb6b2efb0a4bec8b6d5b04ef68505a37e412cb22d793f99edeb22951068ab492c80a6d27cc49546cfeeaaf11b16a9b774e3e668685da26c661f87dfc76c1e746dfa8486df6b5d5df648e822af825d3746feadb0b821d0c9137b694559d2ec5b4ca8cff718fd522eb66a9171ac2640e793ae8461c17bc130b023c5368f01fa57cd7a9e519edd31c5e8adec8dfe912b11bcdf01ea169a8ff9215f810b3d546e57005a93c0535b304bb4771803f5da93edc38673fee335268d91d9884b977bd6f3ad806e57c8ef7bea13c2889f19a824d72e26345a529ef963f34ccda5a8af0ac508fbd0f5b55d471c7ba8608e6a29625e9ea2fe82a6106b0bb30a8c0e6e27c7858c244430cccd42102bab0e588c78851ddb6ebee9ec22324973338fb640b8f67d4fb5abf3698b91ead9948e35e3074a11c628ec7d202ee3aa39298610578b5398f665d952f6f6b53ee33f86e3c6d0d2cd39dbd5e1b8412655cd2438161db8656b2e70f2d196184af3e3f555b61dc0ecf586d998b3a19420f309873095b29bbcdd81c2e0a3ab831c84cb5af3afc7ad8574b956946555f78988cca4532ac213c51d9944dfca8b5d2e69c0909310ea7ee9a64aa1ad3bb593f1073036d6080d44e562cb8200f5825cf4b96630cde6cc4aca005b668c7d366d919753ab3756b35bfb9927db20dcf9667a60f5cf60647e702cb493b2fb7f0847be3c4dba76749bc1d8c6ec53105c760702c37413aa91e6624ae8d2c27211b2146962cacef3d84742c166e35f5ba84604c5d62cfcd8faff4b247ed16ac67de9b6aaa7154ba2a2cb76a749fc262d8ce58b4033d955e29953b0676ca861212ebd0c757c933f35544882bb2eeb0c9d0440d2edd6ac27149165c1ec609e56c5aefd8a0f791d55b8be2080b6caa6623c84139d32b5559c909d76c530d7cbf063a9fb386e707082fb45a1a8f31f7c100ddd41a42e1e50313a8bf4a08ba8788c188020cc744b1a555ab98a08972d55f612810640720f5e067f7e8a2ffb3e8b20dda03d11f81c2ec42edc87e37c7f2e095c26810253b5b721ea6065c6d3b59dd24158983c88730a4234aa9fff0c80928cecaf7a40ff84413d64f56249b08e00a47d81f2a43aff25a1bb08ed2a68e3b0745d51982e4b40a2a4319016f739e12f00172aaa2cf4aac58f907578ef776738647da7ca3ca3f4452da6daf2bf62f25955f0019819222efa579713ae9cb57e1dd19da0e7262e52ba06c4749f605932e8f17286807570a318bf67651e5d3bdd8a554823b8e9e75d90f7c46f65f731ec66b3c3dca2aeccf6b07066201a7eeba8e78e7030a3f3855ced43d6e3b3da8bf0f77a911a219f81fb678cb1c62e30885bd6450f3eff29b0d4fc5b4d1b7a59686909d109374a4a558f1ef82607306edfb38cabcc2d940649dfc414078ffbdef127f7716e5f3847a77b0125bc91de390ba873c45c0079718dbcb0b1895b745978e963364835d472b7a8da02db68ad5493ce93527a8cb2cf6a33d19aa9459c9d2063dfd606d130fa76838073a974ecb0910dd6efd6df8d370f919d9367d53ee3d2a604c60a052a97561a3d3db8df394743964a9f655079ddb12da3a5d27b59aafbc132bc4cbbc98bb378480ac5a4efc8ca060afc7f607e64dfb1c5ab3bfa0fa9afe0bdc5aeddba6b5bd88bf6f53359e57e42435e665fa129168370bbce8856894c4ded564f74cf962b6493f69500a851e6c6e1214d708d6ecd7fd07b5ea2bb642b826234cb6f7e1749780245e7a8ce7bbe2f863013eb4b8643b1c42acc1076f16b5530bf377c3accdce611b2c1e86fd59923caa2e894a7d77e11b420e695f9c63b8bf30be96873d2b80e4779a735d20aa7adcd04a1da6844603e072b95ed370f274d7cc7122dab3a230800fbd081ab5674a47197e35b44ac54f1eecf2f6c692d68a6f8c0950a280c00ebfda913d8be83ea29809c31f144c1dfca655880da689845e1bf91d2b71d1a7735e099f0ab4aa07e738b85e85d31509e108d4602d60ee1aa620d8da97daf8a4566b5b6771b7fe2fb20a3d8f39eaabf2370f835bbcdf676e615e275bee872b4be30af2c36aeac526125a1c868b496b25b5197674ede8fcde7c99ce781c36deea00fc1cbbc4523fbb06fa1f713962bcc36d9d3299ee08a48e93f78622686174bc10b943f8b24821796be9a4b7fdf3c2312264a5988db22ec2e09cc7e11da90f717e0959ceca56fc1412233ead9453ee1cc322bc86519f40b6c41a9c421c15afcaa716bcaaa2cf89a1067803332ca21e780fd3e1a607ee3f8e60acc067dfc63b3ed26661f11a451c78954c21893b50f25e9f9f4ed59859732cced99c2f92a3f84f6e3403a8cf58c781a30609d7f1b5306e4aa154512283d3ba888886de303c1c9f2d0da708d6e56ec98cccd882f4de674ae9c65e3d90ecb4cf46fcc45bb17d80c30f4dbd8558c639f5fe08077ed309706b415ea1e6a4a9505bdc632a177af6afc5dec0ff84d7bde36ad7339cafc7fbf3277b159693d9757e1fbb6cbc116f63878a5eed5c060e5ea37e45032c6ce4be820c25aa2307edc0441bcc00aeac3a1c6cb309ff69b13a82a80ee6e54da49f90e749af46ea048633d42df87450a22af6e35ebb476d683e8ecd9db9b66fd43bbe6c63aa584fc7f1e0a612d206942865827d5c49ba5529f7063d1c9e79354c94c07a8b10c068e56e84e015fcd398c107832559c4895664e109bed7e4995018c3042ad99416a1eb1a9516a478d927c6688cc3b6dc1738df868a9bc052280cb707d3696ea2e11ad88266459867d1e89a6102b0f5438e873689e461d3d603b404284bcd31218621caeaa8bc37057b085eba2cef0728c2c5d73cc64d275c7cba428da3ff7b9c0f8c2fac548c8451e193b68585a87c8952ddaa6491e42d0c6dda1b21170fd53410b2ed6031e8d05bf9b844995b797c563dc7724b80755f238e304e8c2f4fa7fec451f2fe29550b2f2d77c88c0ff119f6a943a37ff0e6ceba2ab1fab7db8c55d73a6d370893b8f894832da5966821fcb109789d91fac624cc0aec1f59e111ec975ae966e207a73df570aa760fc88bd001252918bb01dec1079bf74fcd7f0436a214aec8faaa7c78508212b052a301674d69b6f774f6c6657064232faf8b680567d41faba7a6f9f2c0aebbbb8919033924a6a812bf48fd14f75a68f8ac584fb268f76d14ea1635add9dd183c2f443c6919ad945f515c3eda36fe41b11a2ef1b2d5f6b46ac77b02eec2cc039e0cbe6e28ddf910fceacaa858091e5ddf3003b2faa662c8fc3557a7e1427ce89cb3dd210354b3513d651c3ef73b64abe5f7364a59115c4041132b85d268cb8c84db8100c2c21fb08fe5aea5f3fadab06d602a836480446295d96c822c1d812ff206cbd6ae59b6e1eeba63450dc50b1e2284ab60f6551ba9cb2134bfad2e77bcd098e9ab1a2090a2f19132c275955c90aadfbcb4fcd9ca17112cd5b6a2fdb50687932189dff63b5dcfac701749714f4a34cae2cf052c84afb794123432cf9fa4539a5b31ba6b6b8d75e60bae3ce02d6e54f59648b1ccfbc345c688cf21c40e2c2c7092d806c9572ac3d4990deb9c9b071a4f92ae9a6ef21605898ad220d8b8aad7f711e3e6bff381070542c0e3b84d92520d3eea720da75473d4f7d97acd9bca9bb3b28ccc7eb8a886f54571c82ef448917859b91051fc580dbe5e56f48a6ca338f4b1f182188e4bb43ae11cfe614f24324093c36ed9a483016fc114ac7822d4a4853c778356774177cccb40134e8467a4716ee24977c02e7639cf21f0682c86a6b27e57a30253db68e0da417bd06cb08a328026a7389c6e45bbc0bf57af9270dfcaa4c344b8df801da9cdd43ddaa187958dfe352166915ad90463469d5316c335ff4ba8e44fb967f81d69f6104e691ab0f77599f005c9a75392e03e61da779adf086e8f89f006fed9b903ec4815df836c9e4f44ad994f859361ab4fdbf202e47083cb13f28ea78c7b9c28133bcd2cbceed61524c1748b98310cf5ba1307f30aabfe281a3368b21fb67d02b03c39e4e014ed1bf570d4dd33dc6d7a662a8edd97d2d95db555606b185ad27a0cc7d1614e6f7eba6c28e98aa8dfef52fc76e74e72db6afbcefaba1a16a99b85d6eee8cec1fb5b5c9c9e7562e152e01c64ce297380a01ab3a5af313ae41211eb8ffd75ccb22e4411bc2e528333329da67a7917a87d6bbc011396ff15d517b1954279a1cbe4f05310027666567f18bd4e2d8864160cabc93c0d5b50f014052b978bca11b3a202bfb70bd6f41caa9db2ae5a85151064e8734cfdd2f8dcb4e330053c5f949f40c19176ac392054dd7a51dbfcc3e71462b249af0abd991226bdc85d95241390c608859b8c3bee233276035b488c10efdbdd053e98b62cd4164d7274b6312a445c2f8f0955a0ef6115ce6a8aea0206a31c207e3e978122fea7d57d7312e0d163d8b393f61be60ceaeb653e6ab89603941177de975bc8779645bc75e05721f52201019149d1dd0c53282f96d7c3e30884ad335f2430e36520fb447e2702d9e922282a18c435ccfbc022ca26d2cfc3d5b37f49584ee71f42e24fd7a18fae401a0a5a6de6daf2c56f9fd9f560b737c2f67682dec15f28545f1835651ed7648455c842dce886cb7a58f3e67d5f8b3da4647d7e18e0c95c34d547aa41a5fbe304b6cd187a0c191c06c33aec351d5fc9c507a82ff6aa62e7ed48ad972e120339320c125ea31278ead48d9f0938c54b1c57d806bd4fd3cce07e13e8164f25735d21d615e552520d380791c1be3f2d1947eb7848834b740a296b65f88c926c834273c4d82a0da83672803d75eae0bf398378b186e19b514ba7334982b7c196563600126b98545e765fce54def95bbd638f45d931f6c438f5ea8d02ed8e5c782e3c8893efebbe9c8434d5aa33691f3e6db0ab706597a9bde36bb18f6207f34123621f84f6afc4cb0573dc4caf6bd1ec58804f53ed233fe876851d06ea90ac13ec7a53467ab06eab67a25121100b3c0f04d11921cedfa22b0aed73f7a513a37ad69a5d918ce1a5f592382de705b242309f8b2753d82870589937132c9f5558cc269ad0cbdfe8fa9b2736888c5ebd73381d1dba8a9b7fc4025844352bb49365e97b681f12ee3d0fd3cad31cd7c2ee5ad2efd38153f5c3d826de1fef8e79520da489e08719d6a212e1931408079ba64cf14a84fbe99788d5f4b07468958c7d67f074359bbf738155c814977bea463ebcd3587f557e4d1019046db77735d4e0fc020bd2e604bbd6420a60ec3e5b980ff69c27a0e42190f357dcc3e619828c61c6ac3f98308b766b72909a3d99a1360c646c9e4b1d2bc8ff686819f9c771dd287d3d580de3203e1435b2c99b2d6c49ee3bf4cbf92ebfd2a49aecec24d912e89ab1e8cbe1afe5c7005e05875a504b7873552f1f0245a1ff43ddbd5c87d36f0007bf15986a9f5464f45b35e724cfa4b0010d5d98b2f644e2ec93fcaa82980dfc1824df41fe0097220dd33355ecfa2792d088cf156927aba655220e2aa9b49f7388b6c655ce2953299011602b768d0e265167c5601ab09b0e9f7797d879352596f41ab3505599dc1b8100b511b2404118e909c4193342929a04b051916f9a830cfce6e63048821b65eec78aafc1d58322bd9118db660451a749de73b17c0b1ecba76ee717b601b115f40acdb4caa6a032f664dbe4b61f41eab90903417eb1db65d3ab4a6767867226d03c9ce965e13ce9cef84e654ef7f51ad72e3fa41e9e4dea86c39f6c8091cbea6c8c88ee45724c42ba66f600c069b4f2b612eeece98c7221caa8b18a0fa2333082b4bf144f3d3f0039721462eee593288a988050b36fa91be74a377906e6456de444d2895268cb3fbd4fc793a33360c2bb97fe4e0f85e2599aead4dca798d7f750b2353ed564cd079c3cb04bb11c4ee1415891ed778320adee507a47b6cfb7252a687343c3b9645b3cd38fd5858424f8c83efa5fe05ab6c24a858b3832943a22ffc98dabd0d5507ed30c07dade00b126b859cad4db69b1391ecc9c4897a2ac73cc10e4fcbe960261e2fa52497185db9e5fff4496f0ba83363a03abcfca33a94a439906ca8d1d4616f947409e93886dddfe0a41fd85250d809865e69f6e21a24bbd7a52b64a297af79455805074a3a3c4ad3e5f64b846f9d491e9cd1ff822847b194558d6213f94bdc20cd93a4871725e1a5f96bfea9eca2c337b1ab3498a284a8e1d218bb22c520814e6c1c21ab1e367dd576eabf3a94331d8f113289782cc5c691f4566cd0db5436fa9503c0328e7c7edfa92eb99dd3f9e9c3802e223167d862fc6bd38209a0134cd8c0d24218cfddb801d40a1aa2e038c666ff6b05f4a97712d3309d2c85530c2e78ef234b484474d1ba1d655cdd23422eb29378dfdae00b18bc9ecb5706201d48456b91f94f4366e821cf195a455e7d740e4d2979e9b3fc44ba9465d1a2fa998169b85cd8514c4a5a99bf90ea6c08f56c653ddd3a42628b797fae53b97d31e9beddbbf787ce13e67fcedd21b0c4a05d5440ceb414e3b51007efdd70693a148f2abbb0540170265ac4a44012828411674e859b5566c04330995860b900979286b9a008c316d52e33a92da1765fce17b8d3583a877f3c53fc2c80b3407b3dba0534d96b1fc17da4bcbf01ae48dead24973cb5aeaf74c74be3c503b27244649ebaaf5bbd2798d188b921fac75842a3986fa179264887ec2a2fa7f0ee30718c739ff5cfcacafbb150edb9e2396e20bfd90864f191e029d43a7da2cc9d8e4eff5d4c20c6b58bdaacf663f5fe07dc9041d794c47410f48698ae36b487cbd4972f08cd8067df34dcf2bac4f250a1a9359d1ed3b0f0b975cbeebcc3609cb63ff2f4ca5ad3cb3e533eec322b3c522c3d8c0485c046935d71ca47a860c7233c36a0ea3db2517e632f8ef0b1ab68872a6608699a448793b384551acf1788a6faad1ad007faafbbc4faa37314d6cd58a796b9825b357ba45a505015c8ba326c8051df9835c23147f25106c4892bfc853be661fbbd5c78daade312b86e637658a2ff9a07b802bd758fd5cd4dd0c7b85ea1b7a2d82597f40eab011001ddb11b08ec92c4fde3c50c45d57a6d51c12500191c8dea8f7ee2facd6a80aa3c58b7178e59172e1416e804668d7d2b175c8e91b71f0c7f0475da71d1bf6926904ad47f5df8ebb878c1e8e905c04e50cdbf59a4fbc16a6a927e6596267d8fbe2c3d06c30c931138895bc8bb859ba4489ad4fd81ff97f2dce860fb8b2091d2bf96e04853d963ff447b2ec920a7a6f6b363fc3f45b22eccac26faf1510b9bb8e3663483dbe9f9b1d5f2757711a5204c1d33be45e8c75397dede103d65f0624df597f6024f1e6f6cc2599e69f23e7f86dbeb9f72e13abf0e8b605f650bf7203c214e6902f265f54b5cd155227b26cf7833e7fb41b747fa24d054f3649c4e15bb71113bef413ebafef619f8761aeb90038bff163c39d1992071b011e5c54ac46412bb6a782505c58b636e977fc50d508d2cf472e7e6857c48edc38fcfe42fed627d2dd382c5f8aecae7a917179edd6f89208bb56299e0e2ac5a04dc798aacdb296d177c81343fbdd419dd45359914fdecd1af514ec4c408e45411d5ab8d240f42ed2c0f8af53cae277f72a03ff3788f27ca9632dfa87e844e33ca4e6afa85ce133bac9f1f1ed5c3738fc70bcbd39a1c4fc0efaf55093b12e118e4dddcbd1aeb25ca094d739b5355f45fe118279d33f7f80353c843120d4dd0baf4ff7ca1f3176b7130123c1bd033be2e240f11a0f6843ebc9c83fe3f4654b7abdc53d567480b23921ffe4777b4ef1d0db2e6e7883075c795bb24a4f53a220e02c7aadfd2da838e4f937772bddb3e40c5932fa9ed7dbd11e5d030b520f008ccc22330236c2c7a7782934e6b72a71899f5dc634e4bab2111411316d453d74a8eb91855ce9c3fa027666a9a67781ea392c72d3e4d3128f8c5935aec0afc86d820cdac906e10acc9fe19957ac50f3bfddc059e26d071ac363ee91d4a6a3b506fd1bcebe85f7346dbd3b4423fcc675807c0ec19d67bcac226663e4ce64eb8c6d14ef65547436fa0dbc3ff0e66fb1b8604a1e5689377c66ecc6a970dbc14c0c10cef9ed942ae7a1e5bcfca98dbff7fa8fb2ae2b2da2b38830d6b3e186cbbb281689c7503fd708ad1213c9f9fd1fe87040be098b5a40ef60a521c6b617a36932cf00f9a878d4453a9888a90b229a5fc2df4106b6a44b113de90737549a03e66ac6a9467abbb0bd348289da669be6fa437086ccee2cbc3867392d487113d69e1a29343fbc5eb770bbaec82dfa0a2ba715e944fd7583733ee7b95c6de099b93a3ad998a8105cd2c364a81fd206c01d8fc37ca44db8f154d3fb630006b600d6d5c5398a0ec187b18f8c58a16c23127727f29f5958fd908b6e2e792ea7ce8a451f4f2f3b00438b85e640ba3eee773fc7259d287a7a7e03472a85ee31789752f19532f4b85d4bdfc54d4fe14538588632ad306dcd9f05c46731a6748e957ade0826c78f8ee1bf70a9fd2636cdd02c87f25e937b68ac02648a4fa6ea783c98e0dd387814ffe166cc8c1ab1309039de27bbdc99fbfa6187d8e0ab820262bd4113d470c68e3ef980c11db8fa5ea2a57dd50815ab666d3db2fab76836bcbc334277ecd098e0dd7e7e000bc42d059ebf19599585bbb1fe72bca7e7d8177f730a8fe4b6780c288acd66db3a2fbd4a2c76d1f79896bd7906a65cb482e31c9ce915c11b9e2468e15cf5a9ecc0ef74405ccf2356363bf14c872650d9fed1d7c17471abe6763d2985b9856193090e5e5742a1dcaf78d617e4de4c2ba9ca4fefe1e90b50d741df916df1c687b0ea354867ce2c60bf82e841b69b299e0474f2b9d6140d4730ecf47957a11ea9de5ed9298b317398aa3e25a46a176f4c6c6670c5fbefdbd0a322de579bd46d5cd71d8f226ff7242a8ea79af011027a781c50afacf5c99897d7e04e16f8f7651fc901d8e9427ffb21af717103ba15277b02452b87feaca022e33797938054f7df9ceca3b5b2e171175ada3c9c64ab130e0e4f5dd8293e68f7da3796e85a7c33b84ba477e1bdc608b68333df969adb047ca87a2eb379df9d8182654da4a18bbfba13f0faae9149be65ed3bf070f63b0c3f1b341b7dca8dbc90356b4c02b3b5229d51b9b502aef71fc5c2d1edcf0c63a99029a3bd6646f7544f5dfd21fff0750779a46ccf0949f5fb7cf68e24aeced8fa0245fffe93fbba40f4cb710f27177792f90856cc964c741746889a76caf8d9c954c7a15ea9907a1f470534e4bf8340b92b4a976dab1d1b9fbb67c52e32ff59dd917e28adc62528556017b1277876d3b1b62d918a206966bad866da8d84dc9fb73042719f4b1f58ab4a38e057112488704c67465dcaf2505297b059468f37c2af9f73e078db89d6e5e302f01fbe1e1d81682dca16cb8fc00b41dc982a99e5468498cae50f47fb842150170863f69e3f10b9584aafdbcc5a8543a10936577fdbd406a0aa33493d9d41d03c20a568028ad2a42334f3976fdc4c515202c2ec7777b696f75a00bccfbee4267193a9b1f940b98fea38d33c32591f71b6e1280f1160887d879090d9170d9757b68802022cdc415f0d9f9017ee30ee57b0f4fb3d3dfd69d9b5ce5e75115955eb265f1360f8bcb5a9933d4041e810ff768d1c26f475ff977a509d73d236efe0e129834444a1729cc2b23a94836ac5ad4a1d7283676f4a204ca1873edf94dd799eb80d8a6c20ac0973794d1e069dbb3372d5b0db8dcc12b92bdaae2954f48696714c1d2f9093b95900451b2661f75acdfef5c2e7fd55950d078bdd5e2871f58b07dd0121aa505737ec549b5528d23e7e5422d7ac63fc0d8e5362bf7f6b8d91eeef4dd1dda11bf7f76f1be6709082e481bd932e28120db55fd8cd1e38ef5b628a8ae204a7b723edf386084cfdf37d57335260adc4da8bee296f00d09e45f44ad119ed788eded30de6426979fd2ca03ab28b1e4b74b8db628ac91dc894fa5f3dcf2e61d063273b2d3e15a6307b2fc1f4db5d71a428316736b54a5854da01a6df094391d7a6bfee6a44e35cfe8ebeb2c81504d13360f0c622e2fe68d1ac2913fce3528964238f66f976e7d66a909e6582e58badbb12f6bba7824b0e4db14dc03b63578910b09a47d1cbb74b413ef71ba31780fd44ead74ee0f779c409756f95544bb505420197ce821d420489bdf40e8296c40bf4291e4c9aa7fab14ee2bb28351c55f1431db4d6837c9f2e0ab7ac95034236c7d4c0a88bacdf3d8e056fcfb348d4724a75bd741480f4307805560fc37cc23ddb7e4b653503279b39b21a39b94211654a5c34c57bc02444543266cb710c7fdee7ef9b2399b1e354d513ad1060fc6ac4809717e8eb746dff375c1fa61784a5d399cd10b3050942f42b75e459c6d75352f683f7a9c7f2777fe912d08c76a6cc8ff6339fc0dd63ded36a29362078df65ba96c1b9fbd07cba253ae1f2a295126daf08f0b0277e5972ee3488d4dd1b5e62044e75e53e2fb6de178200d5bc624c4f39b194322fe1626f869ff6ede0dc5c9d08417d5d0fba49da5d50cd97d6e1f26f044ddfb328ae464270a536aa730045fff142b8ff23f54d816da6b3b1cb2a39dae31d7c886d1075ce7307dff5261aa32259179c315c71faf87df0e6b7790ea950ee2ddff072b7128866ccf74531d4db5490426d0476e3fb23c4df9bdd20ee6c6ccb12fef9429344283cbf519204caf3302651f1a53964a20971a88371ee12a081fd64b974b0ed879f58355e173c1fd79077c0e9b1978eb37e4d39cf7a46ddae89e5ad9cefd546d2ef6750c62d68b3f483438fc06a88a7b5ec99d8071002f071bff7a3ee47a6a58919f7b62ba05ef6b3d1f1d81f13ce6a8fc47c17ea07acb0c1dfb5549be53047f140c8370b03b8c68506e7bcae9c0ac4467d90d6638cb70131133014671f940f16bca8e5de3ec878dc15de9e2d99df8b57c0a250763319dcbd594f36efcc05c00a32f78a5e27a10752be678344d98e51c4144a090b7aa803af08d13d5f45c427abd88df405f24236bfa7ea2b4a2348f7381dc5e89c3db6306a6d14a447baf101871cc2280ca9bf9749bcb833ee4f1afc654f564e7941bbe0eff4845089983798d4f7051b8f01551ebcc8d43024320d1aa99b84e01e0a6cd2f9e88b3d452f8206d32637eaee022aa6cd30f831278049ce1d53f518f6e03cef9fcf5bb0e9592b874d7bf22f0043b9970e26f477250369e1c4e0fa0794bf6e4f0a00bfe8d27f862eea49d367d4d53241f29a53915ce6369fe6de5d248aba887bcb907061e6ed3f375ab38bf873c44d6f1ecb800818fa98c0f33e6a9c5b91050df1de6bddd3b900b581b615ab3f179c40537b98507726815336ca5b48452ca70726645149b64a9e51dee7815f0820ee059491453045f8238f076e4c05ea6619d660159d5db89bbbab6e0ef2639fd9ddece8f272b0cba5b5446f4578b57de61a6cd5672c1d566d3d8c547ef8a942dc0d000a7ea4207c2896f803f177e9f8a12b99ece59d5091a17e912c495a1f3a67ca08590c04b4e56a6ab95214ead4eba6e5be2fb8064b1da9f967d1f21754d0c1a68a4dd6ab5866e6b5e0ff81fdc91765a1dad3ed4e6a83d478adfc43892090a6423bda89f5c5203c8c9b9936ed428af22da22522378282724b27f49acc07eb5cd139ac56b589d5aa242294d2c528305c954ef66c559da93e5dec4f0cbbceaaee8a0ebb94cd787ca52b8b4211deff99bc6bfa9e74b356751300206e8f7e6dc0fcd5fcfce47bbc9ff2b42d0e4a1c21812016bafa3f2e86abac1f7c0bac8e1f2885cd026571c175ece51bc0d371b3a1fba4592ee6c683f3e7dcdd4672810aaaf5a642ff3fc49d321b140344a81f4255a1efc10692c63642ab533aebab6898ab733a38a1cd1496fa4292a853ca7337b72724058c9301f7920a18fd9a31335056e40eb3ff3dc8fd75c7cb73edc84978bd06dd6f1e2b61b228a94444201dac1992a56454928a0296107faea2bb3b6dd3efed9f8ec8e45ed5897eeab7339c5a5ff30fc8dab28c7f85eec8cb61c665d114039769095b1bcc22edb493aa3b8fb1291fe9b665d3e315db62c604122a1af70db8c6859175a5676114b48df41ceffa78cb0389602b2d090990a5805537800335ef7cfe68ee4e09440bd3767f253912c2c53c392cd83cd15d3b097352f1e55b9d9b502c407a5b403cd8ee0b671ad7e97e7c68ff14eb13e3742d8a8716cdab752c3ae95e32a216b15e02c2294602df026b569865e2be07f18942b85fee7188afbcb63c1f177d3c97768937c063528517345d364a7df345fa6932bed53809225d867b94e46c03a3ebf5e2369082cae48134afc2fd74dac91b437a5346147d6c8b19cededa1fe06c1b4c9044960659b5a1e909f853d92cb8c8bb1f5194d206533733119842b679a3d8712edbdb4181191f75078a01ecfbc4692ae8e940b4f5667441a06df63fdfd0b8270c9dadd12adf641c0c21d747e7bd8b409ee5155156cb6e596bf7a2ccc128bf16e601a6c4520b7ccdd486c891fe0c5427c786552bd198937ab6fdaf42b6e73fe25463bc6f7ab0c91fdd074f634fbc7d74503610cbc1bfc3f284a168d18d25a03dc565988942226f471d4c8a2a38cb3dffec005a08ea46a96af55f14a7a0bc5b5e89b32b9569403dcc837d63764bbea15f760353582cec262d6f11b186adc5479a577ab844df36a3dbfc7bd47a7073e142c928156395510efd1e16efb4886bfbfbe2eb51919b17af91383c30673e1e45c2bfefd159d1cb2683dd9ed0ced640a7c48cbe99df2d2797cc5429d906749b60ba45c3a248c4051be2fdb8bd48808388e360f902042dd22c220824e06c017089ea607369941488846cb3502485ffbe1f4d1899dfff2fc83c986e613b9d213010fbe9820cec55e27cbc1c17ee922151ff5e785bff0c72aeee63a90dd19151bd9d3b834e7f7c2cf4e40d1004ead1cc2014e7d0317b5f4f11ddebab8aa1cda6e3dfd3c592cf3036b8606b6f0fde96c3f5ac368317c94ece7e8556a11d25f49dfc97ee997e0b5ba76d07f0d10b80ccf29c96433dc3aff276486af266849aff731532835f4dc4f21604049fd202b20426a11859356acf6d05b45fd73c24cbff562d86d681f0ddbd1a77227e0129b6f359e973882be08d036a2b00012bb184bb0ea6414a06c1a18881bab2a2a970b7c703fb67c10544117aa246131cecd05e0f902aa8fc0cc457758f63c468053a60eae34e520017e568460865012ba318269751dab05e7605cb2f5950805943e6ec20ce6ed431bbb67edf25864896b75668f52f800516ad2623abf184f8d8c437b68795ff537d88f42d0e787ff51a1c72db8c5ec8add081ad48674a5a8c6a0edca3101a8327221550416c30b0d227e43ab592686ee5d2bc48bd2ea407013f75219e425cb71caa056c31a4937a24f3261208b11928b2b375e057ae9c8840fae93dbbf161d4a724b1693bd8a6e934828d2d51a1effeca2eae64f6d9d69107fbe698b6bc11ffffce3ea8c1dfb5f2cea4bea1e11fcae0d65e6cc017ec4d0cfccafab171260ee7633346e1b617a839cd4455a31564332917d85641fddcfd6d9f86c8291078d416c3f024942760f0259c3e1b45919f2676ebfab5c34f542696d7410b009676158208ec34f0585371d53e969df449deb5812d82f302d84f81f28dc8f8842201699eeeabeda893d72e583b1d41da6e0fc5ced480fb34692b6f32efb227f71cd84755ed29a35143f97c0aa3731d86cc7a0d4ad4b9b9bde00a7b78a4a2586882d96dd08b7ecd680f0db94526bfa0b2a23069fa20312ce266bc3e6683cc627b1b36f011a20b4ecc3ee667e2158df5f7275cdec71807be5a3a03cbfbefb5c8029633396aba419dc7f8ebd0bebfaeeda854dc9c2119eda985809a9084d51948e6d4e686a907127e72a5e296cffe203237514aae394efdd244c6496fa9bdead305914c887e979e2a79baf884ac3f29b81aba9ef91dbde251e9475b2ee613e0080be4ab383672ee4839ac37857ef59a4cc6e0a9abecbd6dedcaf7092294634efcb47d8d19434b927f5aa6e8522faa983bb7332197e46e73e8ebebace6efc77913d85cc8dfbc400f834445492939695f2ad082d86e52c75384fa1fa08fb3fb2c89552f3a1cfc4649b920518a9542bc62dd799f91a50adc71789b8cb7ecf3574bb97390c75121aecab0eaaa5b2985cd9ae3eb8e60443ad8c6f050fb967e94334c7853fd8708f7282425d0f67f7ec5b3d5e94cb1149c294cf75fdaaec1eaab4b76551ba16f760db699bcd687b1ea9bc51fe701f5a08e54afcf45a3de1ddf5a95f1afd925ee6369988096cb4a5a50c65f3bcaae90efecd299fb443bbae5f28182c898394372a1433efba5a923b68464034d900079d703aa109cf7d62368fcc8d7ad044aaab38b3f661c6daf3714f93caf1a980f17f44e464c7c57126bfa4b93fd4deb586fd1443b8e28361e28725cbdf8b277fd7001bbfdbab9847ea258ecb9474e8af8be364af9918a1d239ce55095a9b2d550a47eca80cea5bfcd6326da92d8002d73ae09e132ac8b2439129c7c85260b5cb73410da0fc01349163d547cff6a522fe22540087a652cc45f04003013662c4175d899560ec391bee06e0493fbdf1db8a9ea62256a057a3d295d6b4b8234c39d8073a09f55f7c295b6058efa1427c3e4df8dd7537a3103c4212c11d4093aabc65425d466093253e633a43958a5cc894c4cffcf50a5190324c68447d54ed9d72ed66225225c92f0661e7dfb39eb28683dab5dc29285c674fc4a566169cb526d03af943fafc504df4e982ae480f6e3386d1395b12910dec88283dafc49896479f237446e029085250dc6d13f71dbd8a9f3ddc9ade9cfbf4d173df3862c5166d145cd07998ea6de553f1998d4f59531ebdfaf45d3ece79d0015c958d8ac9418b66bf4f2675d63ac69184ea36ded85d5a87213ab4333529a4a1e132289bded072561d1e459965c0852adf479fb69082492731687eb680d6d28df27d046f3c21c7dc2eedda775394712a91dbee162e24fb46f226f3eea07d8e607c36fb7822737119a4c638a2c764250188925902569abc3076f635a4aa0280b9f08bc7cb5d1cceb782bd25c06af96f7c986e97543d75dc24a241350bc40d034e61d81df414ba4beadf78e3488ea41fca6b8a0be11476f6c15ac8c38af1be04cc5dfa2e237ae993713c16d2f2b181707ad9fdef37ae3a4c70b0c274f050139074ee6fb4346d1984795eceb4d8d72058659096099ddacf4deae8685812afd1d95623d18362615120cb39500cac55b4e6a2b50727a065324baa7dfa8bd51d4eacff0a834a8d7db3ca6ba8989a0f5d2d241b4c28f28adb65c0d584a5599584d234a0229663a17a41d1a766db5e90c2cf96ff7c2186900d2dc5b5202b23f6a3a24c70d518ede1a6326d52fb9e801d37cca7238de7b2a9a58596d42b8afc0464b6156488e34d2c9e93e675a65f9652b3c9c253243b9c174feb649e1eb82c2671c7edf973ce0876cc257a37c4b5160bbdbf53a460d343cc56165b5be5321ceb3c4eb5369c200afd7ab94e17fe2d78589bfdcad7b3c570fd755561ab194b2a59851a37740b666e18df200788a3c40b1fa8dafc6fea9b90f59517dd9c005aa77342ab2b78af3e3a7e6b1cc40656a1c63fe5828ee60b7cbca895b2d893bf398c52168006e68974d6d0034a10ee59168bf48407940e352449139c9754bc060fe43427cbc017fb10defdd7d360ee110efd72c3da15b85c4f2c0f5b4d4b28206e8dfdc39d12e0a8dea53c7639ffc4725dee183a7f81ec6723c8936039736d484b4256a8418c609755c48d7035f2759dd16d74f0c103f25143242fced010dbe1dd72b8777b578fcb8b08a901e020f8cd62d0ca26f7982d06d59a32643ff95146285fe056a464364b68809e6163db3a62e13df4a95b55853562057fd076c74f140122d7303cc2a68370fe692e487aa893586bebcafa165ead1e000966ccc6cf1ebc025845f67fd632829606bae2fd064f80ae35b416a51fe36765afd74a3083180635ae855f3045512b677e6bbc8ad29a08af836834cd2e616beac7615e5b88d5f45a5d46fef2749a44c0219cbff33df7b3ff64c8c8b7521a6e51a531260ccae96e781b4ba53109c26116dc40cf5fc19a150badb76c5531c8d192fc68de23b40f71cb5b60389c9dc51c716e8886225a33a2bdcb84a717a02e78baedf00a85ad2d3a3b2e99d939580cb18d9dcc724af1e337132faeeb483d61b8306dc4428f1d4a842904596cc9721b6ae2b5c6be472b99817dec79bc7a7a08c0bb73488150fd572b579512fd5c0a377ebe8c0d8fd0c1a3f261d50f42931647b41e56e0160716e0f8b5c18b12a564f6c6673a2949a050e22efd58faf5edc7fc2b7da2145530b225ce35232bd884c0afa32e53bd84b93857cdbe745908a9e87afd78557947459f60788059ced6f0c95155de4be7d0bcef3daf472c11096c53446ece8b7ad1dc9d0dda41e836e62736f51b9d28e2a4374997fd9695e4fe494c2498eeb2605b9660c3cc7d02a0ea210fa9a5fbd185b4078efe1f09ad9109b89cfacc43c1d3e9dd1a9be555187df57bd436bb2d6f442d0ed3bcd5fa71e21aaa04b239860144883fb3160f7b37d10f82a8ce369ff9f6ac4547afb65b3303fb9c4dfb22a87266dc53d78357759fb616767c9456de9bb66306aadeb4429855663e0360da1f501f3b4b5478a4361a662776fe1d1dcd0dc690d872d76df4fae41beb526ba7af260cccaedfe7c0b6df54507d30f1b3af4583fd5cd73ce38142d6975d63d3d6288c4b6c5b796d02608fa86f3a5aab586b9c819f23f0607e15fbad036195c5eb5d349c4097a1e3e6c36dcce7b05cac081c2adeebfaf17ec6971429a7800ddd9653fb5fbaeec07b070116dd0bb6d6ef0869c799633db11ccec58b49cc3b1c37b709daa0c2304065da6d57ca26279b2855c46f73782cd44003c73ca0301fbd30fd24d5f5fd8ff33420ae34df17bfc065b14807fc030560f773e58e78992fb4b1006876df4d0e4f31588f10d1c72b9eb4073a737b5f13a6b7bd1d829daae74debeee0a2a37ae10b6e403fd60afe969de9c7dcbb6175be4a59c7dcfa0680569a9a79a5d175562783007571e757dca1a2eb30a82b83a528ae8f9540f88dbc1c1fdd76a61ed0a9f5839a6723c8bbca5c073a98b90ce85e591ddd91fcd7361b869739ee315afa250e4f0456c9da7a4a72ba3fd109f946afb20b6572715dac15e1fdba45faccfacc33bc0dacb7a1e91b7466c211f17b0157106e08542cd07ed593ff035273a6a6bc3700750b0e0e78432d98ac0869cd862ca84be4557c6134557dd6d0e4a5b9663b6f16c1b1bc1c9f6931e2f345d5c702bb1195ab0bb9c78877e92b56eaff30f90fed697f02c1ac70d7b4f99eb4de8a45a6cfaf21c8a78eecb5eac819874d972db1295c6a5f7204a0130cca9a4aca21bee552408308b593b4ea3c9cbb5f070f7e5f467d58ba646e5d3e318db3484a0a26c544b673dca</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>Janor</tag>
      </tags>
  </entry>
  <entry>
    <title>Git 撤销</title>
    <url>/2021/05/08/Git-%E6%92%A4%E9%94%80/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="1f0185481b10ea8060f7165855b81fb42801adf838532b360a4d935402bf85c1">9943c1717e2782a5be9ecb675b444bc9fb48e049bfddc91202fd6d059e1a4d5e973c33d2ffa19a01370f744b7b5845adfbaf7b3dee729ef8adad1bf6ff0db3148090605ccca2accebf2b23386aa7d6bae43623961b61a80aa02144e7c353070b787a8fbaf3d987ebd447bde6cdb936949bed683d7e4867f4d1fe674b9d83f744b5ac49f3c76d0ae93db4b32fabc0fbf741f11ac61b079b7ab3e15ce5f1252f5ed651338bff758cd04db0214375e46f4070bcda6fcbac8f31ec650b8a62c20705089d03190c5244ff132d0eb7d6f81893010e1806533d797077fa88faddb2691aeeef34854c9a562fc3145f3e84d3cabc4b660bf75875a631c6f97541c1fd26ad0b2d3f1c2bc230ce861e8e9a763c0abaa9bc1e2db5ff83230ea2ea352a92ad1dce51f9c4822ed239c83bb41821e78f895aca759c5079b8e9cadbe2eb4a71d8d3f365a600bcde41743ef22442a266763db410d168f180422ea59bdfaf252e25dcd1ad23dfe845fbd1edc8608fef7d4a44885d60fdc37aecf968540a70e3a5bb209b0e7312099e93ab9f5907a7c0f9bcd411c1e33037b74c504e7358c79f202685f9abcf4eb27048f303f9659da1f7e155b4039f79ee661473d1e4f7999497c89cf8fb7667d0f0a81b7812e434d8e28cb0f916682f291562b1c28e31173fd45a7a01db3963b05bba4a77f2b51dcd25a660e4abd6fd09d8c10eac6952607f6bf7216a6783427c83d336416141b7334c474033dfc0e37612c4cbb9b16d2707c88e8d3d61443f0b1931ad2d6661696d9b64452669dbe635e8314aaefacd65c9e95b3dcbad899f7994e39a19d176ebda3027d8094b483fa1f0ba2abf264634be486c097ef4750ecf00f9fe0d3f675acfb1ed01977d804b96f95b38bc4b5f51e7418094859234bb56fa4ad3f3efac47a6008c89fdbe079e25ce229ee3282f70397ef55274e46f46964942ac70af671be349f45972be75f2f9505e9100cd2fe000d6e26e6e409b2d340bf203c1a27938b9685c0694b366b9296b4844f5a5718d4e9119e497efc80e9920cdf95327ff3e774c340c4a809049deab160ab6ce2ebd21084e0080f765eecc5126d9765510196d4809315a6e604ec773e46c33508cce351f8211cf9abec323e757402fc503d6a850752a84e93d3beb1513c55702b37d5dba421acbe1d5ef24fcaa29c86413d939674b335db60b6c741a914355cf38805d9648e681a4fc7398baf38ec6464f948083f89a2d889f0a9c4650901407755f8ab59a2c0eb0d7a7c80333bfae562cc6400a6cd6c518573874e161eea182473ae1a7ecf16a03fa2966c9696e11487e5545fefcdc9a58f2b3c8f248be1cabe57d8ddccc0fd2df71f6f854da5f2a914a818b41ab94b155b4350156ce99da5de98c85b5e805cf6f44be4cb04e0446a4eb9488863d44d611347cc1764f867d95a5b695c4c1d42aa9f9d6fd7eb177e2ba051a15b258194d44f773cc38848d580dbf2ea279259ff1b3d5359fb0720b487ed6a3b98878d47f2c8733a8179feab114103d1d0f531936318d91a15b5c4c2d7a9c8d53cddd7b7c4df2e49c9457feda8470ed5ee0ef4363d5e14e02b92e512ea513f25ed3a5eb516ffa9704fe7b78a69dde69dfcf1550b6a48e44c46aedc2b841a967f04ad79722b27e0ff49092acdb55c6dd0c2d74c4a53af44e08220ea1a320a469dbd3913924e6686950f36cd66dea872f46137857b681655b20e732e8932ffb2da179c3fc21499155d0bbee11de1a80d2ced703f19f18a2725f5ebfd590108ec8a49ade0787240bb2aa335397133a3c4a07d87f88ed9548c64b7357fd0407742ce92c2f8ecf505967c65e244ccf19ba8303c57ff6e2ba5e50b9667a5b26ea5e2ccc3e63fd27bb46374ec85cdce11f5b236debfe29894262d4882834abc252d3e0c383bb307ce5b7a6da86591a532b93f58de86ca5adce9c79d36dd19032aea98d18f384a7363e788b10a5df331b297fd0a74760e1afbf5675f8d9011dfd9a1e776ea969b48bdbe65d00888d55ead3c8e02a344080ba19be30cba44589f8aca2284ee3683f79dacce4113f885f500e4602c98cc3016fb044a0a7359296273b5ed7506a70d951dad608acae81d3a711f5255477b5e47d438312d1ed8ffa3eb00983d507fa360d0cd543949247cfc97a7d1b08dbfbc7059203fc6540d8fe78f07222571b7b9b9d8c9746b8fae1d11da2d405083d55f8a8523615d69ed155de1f3a06fa5660401e4610cd260a102d6b69eb24f894a0615fecfacc86a1289c8a7249ef4e04443bdf1d42f612487f7d54016d254d24a5c64969e81a401d356104450e97bfff3b2915bd35067a8a70b9fc5a0836a367c996b43a484e43d2829ece130c6186b3d34d64db6d4b2c0828bf2fdea5aad6192706eb4fe020b6a6076622cae521f7b8413850e38dfd3ec6a9f6f8738952aa95fbb0c219b31f300f84b579e858d28896ccefd338bba66b1bc38c0406f217783d8a02246c5a497babf503967a31bfb25b5e66af3c822af41e623c25e9f26c6c3c96426193a774f5c6ca8880abe49fb15490d5de3c61e5d584227c2f2a4c68155af0819d440ea8ba53a995a3bc91c1624729e91a672878b5912ffcd6de1309d14c1768a0d11f1710e38e437d30bcbafbd54300ad30f8aa571eb8453e77285ac278f34d3f32f95a265ae071bd8a4d640912d7a5e333e9cb5ff5a515adfeb1c0a19db49cdbc556cce630b84141bd9a9ff14de42eb06c2ec256e3d8644c9322ddf883ebd0dd828dbb566f5ff2baad37728a30f2e850ac576b19ac2dc4e5ba840070e41ae851ebdaa4bf30b7474d01f00027a269573049e9d19fdd9d46a90d35193a9ee201fe7356efe6e8c7fb6488227decbcde57ec94aeff2a155979fc1eb6bf022a3c5c38c01365a2519a82c3133b7b834763aeba833157183b22116948cb1b601fd3de9c3feb03624c7c12b1332e37065a5b11911b15bd5c70780684d69e01a1bdb361dd46c1864baae422787d30d462ba1890fee0e8db34891a5d704de3dde03e59f0a9e6309e39a6f785992eb53036718305314becadd78efb866d6e50f50e7807ccf450f110008b841eecf26329f5f7d354e1da3616371137b5530349a42a0cdbae36d678e63dc573f4d32bd41b1064fe58591efd9883229c42ddf738a4819611d5cf7b9af5cfbe07ce88cbca8f2264785273142a694d593306636267a692771a8a302f0d59b5a31d984d98978166ee4c3b32f4d2be04b0807478f9b35988d545b149906e91635f619abef96efdd67b60dea4d1c19bd264cd15db1e5c987e72ed43cb7a66f904af373b60ae843c219b7f416e7374eef0ebd3469d9f910cd3e683bcb55baf5e3868f60860471dcfdb5a32ad1f5d6e883ace4ea70cf54899e1146a97562aa35eec691d3b15c132c500f965146eba5e48086a1d143a3bc534951c75314bc4a4bfa906c28c21a58a03d2b3e48eb26754e56c3ad76088fb23c8f0067b32e75de83465b11b310086e9bfc8beb44c43c61184ed8a25d87223c30709f14531cfa7256025a3c22cc79f0c6273fe6d6dbd61ae46877b77f88a0d293b914385899dc2076fe2f8975289607b00d44b7ff52168a5f808e7e3e138323897562c8b0a0f31d3918eafb879311237d2bcd8ccc60429218faa42ba9468ff49821947b5f1cc825c5da15b4c606d0d26dbb5b50f394d7fe290fa5f93bf04942d8dd2d28e3b2257188fbbf9816d1a23b050870a2cb40373a57fd563eca8cadc2836fcb44f563262baa5db51a9600b7c4ac1900b7d83a3b2b74190b72c3faab0a8499296f1f52dbc08399068550d761223aae7c68200d82fb3b1f948e448dd2fae9c87f87daee64b17677f07486d8442fe2acdc8653d33eea4ed65b9b23f44e8a07026fc718fd57030df2c293f3d79a972050c3b0006aadf9e68913d792b719d58ac7dfd8966b0a0fd39a03a726e482d16ae9a834cc01801e11b2be09f685cb1923d2134279ceed6744554802224124ce700da6023681b2f26f7d0a2f3a4a80e28bad4e81d25bb60ac064255f3120e8abf93f5db9e31b9817486c0e76a416a607608bf0d1c3a0d987c8db0a95dbe0d2f89c745493b59253c6b2a1ec64b90ec3acae28a9a62e86720e2b5028807f73a92adb75b679db366bbdd76f7d1611e557427f6c2c9f4be6c5e5d7ce4a642b134ea7f12fa0c0d3c755fd53123238c5c566d52fff7e6eb50f96775e22600da5ca8a626c5920628de2ab1045b4d05d3d3ce84095688f425e98a226371339a96333cc33eb372a4fcb7d17b2d7a260e295be2e822ff6b59c1e4d8414e5f4ff56d0b31407ae7ddf180556bea5b0b94fe0a480dd6468e215099e2dbf6a15793179df5041c11fad4e87a118318e287574beef136713b75a3d6fa06294047d823b467cd9e7fb4c98e9cf167f0be0427ccc7ebab53ccd55f3b7b2c91a03c225675941af23f9bcd25966d1bed3f8ee2032b3e2151a1533b618c9f780bf3e581aa40e1f6f606f4df95d1a6ce567291a81757ccd12b74b9bf03bd515d955d9a83745563e7f76ffc25248085fe8db5f7feb1c7347004726c6f912cb30278907b93f6420e5f65c5bd81d13fb2fee45fd08ba5de1a6f899b54a0dca271dc9f8371823cd4fd5afc6d50b03c7ec498f15c29a2581b689159dbe6b33f657b2c4ef95aa61489ad8ee4aebb017c617a8c5db9fbc53d6d278797a7ed21e6b3d2430f141cb169cecaf539032cf2ff3bc58e06165089b979e70b6cb5fbcc7ee11b3b2c06a1d0f7bbd675a9c349e2e55d89443902e4cb68c7a749b49f59ea2daf0886287c882fc3aac59f7b86f9f2f5f1b974a39ce9b40e000b78075a01718e455975ac7f0e7ca3571f72c86712948b13febf594acedae693d07be97794b72936f475c07447340f34fa49e29b7f43f5ae93960bed75708e1e6121477d41d6a347798eca488bb2499d85e611ddfb5e3ba071b340ce482fbc84a83d2bcd43d50dde2fdebda521d1ec47bb9d85ea55c25c94bcd7efb02c3e779dec899ec22704c32744a6660fe345cc02a41510d2cfd8afced2f25f6b644915a36c2c190d95cbd578b25168a546e001d273cc910bbef90c0fe89e9be75842b95446f3f0ba88ca7e3f87e1601577595bff2255a7ba088f83d849335dd71d5dbe53e0b68cc772f1dd026d784ac0cf439bc39f689792a138df5bb7ab9578235ae6d18c06fb70f7f29f217fede26f958c8bddd56c909c5e35e6935e6bdd2c9f0f75688c02af7e8a80e591966ab13e4d3d282d79f13efaab59ca2785dbc5060057b9af112782c183d5e114ab4cfc4011e82a3547a487f4bd8b7127683632202befca85856af49fce683d081218809138f8ae652774492464e432cc4f59a88cab6089db92c6133d9fa877596d3e2be81e43861b7d80dee2f877f9c7be1f6287697efeb2f3b0fc053d4883de8d6ea8ed4929a02f34ed4e9ec0fdc29a43e8db3f5ef7a6ffd2b670b62de19ed0eed38fc17c12714fcfdbb789531a1eb73661013261e3d7087a4fcd4f2bf01e484fc74a804737d93ad2f68ebb099133bf7a0ecea7864f7a7bbf8e64714e54e5dd79a6eb0416074378dc1ad6f618097ffac4e0fe938771802fac49148927769aa7a07452f35b8f39b8e34d917cceb652c4f38f68341c13ed37f4c7f1263614427aad881b03a6a5af4b21cc181acc1bdd49e67c3b8519ffcde0d976d71ff1f9ac78520775276ecaf4dd2a750ccb85f31dfeba8fee1bfb0cd20bd4fda6d095f5d34daa4923cf8657d6e24f8d6a9dfa1124c6f362d36c448474f8f714f139e88e76eb9029c52ab7748776dc9c3e49fda381af378f04612078f099d57b918f73332b2220e567f585509bfa9ebe3382e0ed91ea327eae2cbe4942536758c70ef49a073352c857acc6896755c2d1d7eb157850a77073d0a65b9d9c1a4010dd298d3927cdeee5b6e6491951654530d1df0657b9ffa51bff3107c10e9db56446b0c7dd1e5b934f89d71b39374dec4722fac351e732cdfff03412bd2875a6719c91ad0575b5c9d6a9e068473d1f7900f1bb6fccf4e75aa7beb4cf7690fab53ce2685dbff727cddd9e83096ca8e407f7cdb652ecf32d302b31dab5b6aa105ee18b3eca82c953cd3294e1de9ceb3bb8d818ccbadd531fceeda0a79af40921942b0cecd4bf774ab2f696cbf7af7143750ca831f5a1890a99aa478893fcdb5a02c4e6fe052dc63abfcf303a4a7994532801fadc37f293023cd1f58df58db769b58d972874085ae4bb1c33f99cc55fe8555c842fb36b769830d9e659196ef9a09c67f6539a87d923373795ccd3dc1ea4678218ca03bb77ee1f3d950e79bf5b5a23c8911f42319ce97f05048f4404f583bb54f267f370e11c6d08a372ea7e605e93b69f099c80c5cd0c83030318986e549866bb1c18ed235437f30084be974100f30c889d79c8eb8a83208a48a743257d9daae50a292fabb321ed7e4d6fa5fa83c7c4b450a39a8ade31c173d1fdfd806143a79e23030f18e3520774361250c9d99ed718cc8fc6bb2de7ad13d7b4b9944480eaabadc302a56c6f647609864d9b599ca1bf391dd9670d2f09fc14517670a10666a3988016abd15b8781913b135f1edf7220305a2b10ccde8a56de337125d27ceb6ee947fda5c9bb3a0b67d4da961ae5e63e241c52ca4549ced211943bbbb7ed77b780febbe412b436356d8189fc03c9466df2ecd51771055205105d629b163a21ec1a4200b36158150dd671dc2b6c6a9d0a820ae56d864e5fa52ff119327cffa704919cf23c36b6b6e0f120634bc0e5929e7fefffb36c6e8789b56a15fb636130592bd6afed830d0c4bd49c7b94306db3d388cdb5cd55df9fbaabe3a539e85e09c100b9f0e3ed21efd434e75bbf78f0b683968f98dd4a49fe512ce6c64c097b217db09f1fddceaa0faa4445928fe71f9d7a01719a5bc008855e58f54b5ab8834532e2cbc9271692fd808704de045003c43012b4d6c2b1c8048cbc303d95e6cdf90390721e795deee0620e455be6283520ced67424a46e91e37cc90c3861ec67b856203421ab125b099c9d32636aceb20edd6242164d793bfaeade525196b1f1de90a28412e99188b62bc04fb14987ccf50e8adfedf62fe4c35537e95b37ef949820d3b0353e4ab43b6a97cdcca76bb95145a6dfda12d52bc3cbabfbedd7611136504817e9545397b10dd06e08589433572d10d5420c6f1ef1fa6c12591666c4e2ea8c2601c607253e0472d685ddbfa5f9395722ff722928df5c607dfe6362314494f3cadebaaea25a0b04d1d0a99abb0736cb40719517de04a28184b0d5f72f9918742ca56fd52011cbca97af48d9026f3c25bc3d21e662f2cbf6806f1f8f157fb74e8f77f46e0eba0ff5b1aee20f8826aa3984ffd3d251a36a949a50636ecf5c5d04242af97a3e70d2b6e9f13b2a728201f53911098fd285c80129bd5c7748b0a4323256ab0775f6eaba45f0e12c57f8c7bf4348ecc5b2502b9a6134e69b3f7bfef4567b2ffc1ed7f858f997a6c9334a7805db5f3661ec3df2d6a9c9b2f03985461df0f15528d44db9c0c2ff27a153b8acf5326b48ac244d219c72358a8fa14a3ea504731a92febdf20ef6205ade222133ca3be828785ac10a981e6667de82892bd1a0c8367141664f757f7f850cba2283ff281715aaf33ef59d761a02d297a9e716a1d59caca83cc7d66f59ca23516cc9191bb6a74b2def247121113209d8e8e5f41b2415cbce3396a4d417783d3e046da0ae51801d9179780e9d52bb6f74db7e8fa5ea271c3223858fdd587b4749753ba7321f12272be329ebd584b58381b7ea6bf60650dc928cc81e5141cfa06c8813cf09ef2d1dd9b691df58ab85bec6f7529adec86c2436b207f89810e6d26d61a58d20bcb3dec4eb97daf9354e3b61cf76ee92c39c76e852626e3d1010e656db5da80566ba23297ec6d9e6e29320338fbcac26fcb50720f98a01ebb9cd1c0a5e0e9bf6a13decea1c2ffb0f72c0e604f62d38edf38cfd129187cde419f291e6404654acb9ed31984500b2ee14042ff3292c2202f059376b8fb33f55476142087ceb7f4d8a9161c031b48935600b21b283a840ecfdb883de0ddd0ec800b365b6ce6c9d7cf29a4db729ff187bf0402eca661e9766f3dcb5d889a855ad48a5732e6326581b330086b329c3d72a9ec94722486d6b5a6c0a0bd813c06cf536a1076ab71eec7d4215ac19629f620edfb269e7f288f8682dfe1e93ccc3b7efe401ed5b111182f74b9b3522d9ff20056c2f84ef8ff6d7a89c8c846056d605b9f17888a5d36b5e0c7872ac47eb1949035cb30ee86fc98951508bd19a953f968ca58602dcd6a61f24d77f8a2353efce641e034bca553d243ebfb34a6c892bfd91f0002ba1675c43824367e7f15394b296a7305f81e0b9ed8efada33ddb456a805db16732e3f64ee0c1ccbd8d9100f4fa0493ee8f0a05ec9a3b2cbfc834f9e6834cc1130e5117e0a329f6e7299e97c662b0ad8385b6d5d2f23700fe499a306088c985fd9aaa425bc24fb2a15084a45a103ec3d723563824145e71e8748c38927dd5ddcebda017f998a5065a368cd5deaec68239a7204c48b9e55db8e4955389393e10849d9a7cd379ca6e196bd2219f9fdf45e5f2437bf42aea23c9d61cd406ec56760a94182ef92ad0f47653e7cbe322a38773af8bc8d08da08245ef7ec1d287110f81174e474402a7e4064bbb8ca6f8598d409c2ca60633317538d8f033568811ff8316023262e0ee90966576858c892088d95bc60506580891917b350b0ea3c0b8821154b3ec36e0c2f7ec9a305eb88f213f014b34e352ac9afeb6899390e59f6974dc5af567607bba54cd6ce2b3b24476b93bf32f70455c5ce21ac537a4173236fec086d79cefa03a92e9ff39b595901c98b4f3740d37c413ce99408ca5cf212a1c338375a3081d6dde4770f44f52232bfdeda47b5971045dcf27835aa9ffe4c2adfec3eed5b5ea8935b91847bdae540f9a5b8f42a634bc8ef5c026858ccbc912d33c3e6a82da67693056c90ab9d75bd379567b72beb7432ab58a86e028b0787efafe430973e12ebc9a1dd8b1bcd34f4ac4f91e17ebda416cd68441b0c</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Java8</title>
    <url>/2021/04/14/Java8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>下面举个例子 <code>Java8</code> 新语法实现思路的多种解法</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">/<span class="strong">**</span></span><br><span class="line"><span class="strong"> <span class="emphasis">*</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"> *</span> 1. 计数</span></span><br><span class="line"><span class="strong"> <span class="emphasis">* Collectors.counting</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"> *</span> count</span></span><br><span class="line"><span class="strong"> <span class="emphasis">* 2. 最值</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"> *</span> Collectors.maxBy</span></span><br><span class="line"><span class="strong"> <span class="emphasis">* 3. 求和</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"> *</span> Collectors.summingInt</span></span><br><span class="line"><span class="strong"> <span class="emphasis">* 4. 求平均值</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"> *</span> Collectors.averagingInt</span></span><br><span class="line"><span class="strong"> <span class="emphasis">* 5. 连接字符串</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"> *</span> Collectors.joining</span></span><br><span class="line"><span class="strong"> <span class="emphasis">* 6. 一般归约</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"> *</span> Collectors.reducing</span></span><br><span class="line"><span class="strong"> <span class="emphasis">* 7. 转换</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"> *</span> Collectors.toCollection / Collectors.collectingAndThen</span></span><br><span class="line"><span class="strong"> <span class="emphasis">* 8. 数值流</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"> *</span> IntStream、DoubleStream、LongStream</span></span><br><span class="line"><span class="strong"> <span class="emphasis">* 9. 映射</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"> *</span> Collectors.toMap</span></span><br><span class="line"><span class="strong"> <span class="emphasis">* Function.identity()</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"> *</span> 10. 数据分区</span></span><br><span class="line"><span class="strong"> <span class="emphasis">* Collectors.partitioningBy</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"> *</span> 11. 分组</span></span><br><span class="line"><span class="strong"> <span class="emphasis">* Collectors.groupingBy</span></span></span><br></pre></td></tr></table></figure>
<span id="more"></span>

<figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Java8</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> List&lt;People&gt; <span class="keyword">list</span> = Lists.newArrayList(</span><br><span class="line">            <span class="keyword">new</span> People(<span class="number">1</span>L, <span class="string">&quot;周杰伦&quot;</span>, <span class="string">&quot;男&quot;</span>, <span class="number">30</span>, <span class="number">12</span>),</span><br><span class="line">            <span class="keyword">new</span> People(<span class="number">2</span>L, <span class="string">&quot;汪峰&quot;</span>, <span class="string">&quot;男&quot;</span>, <span class="number">30</span>, <span class="number">10</span>),</span><br><span class="line">            <span class="keyword">new</span> People(<span class="number">3</span>L, <span class="string">&quot;刘亦菲&quot;</span>, <span class="string">&quot;女&quot;</span>, <span class="number">20</span>, <span class="number">15</span>),</span><br><span class="line">            <span class="keyword">new</span> People(<span class="number">4</span>L, <span class="string">&quot;蔡依林&quot;</span>, <span class="string">&quot;女&quot;</span>, <span class="number">18</span>, <span class="number">18</span>),</span><br><span class="line">            <span class="keyword">new</span> People(<span class="number">5</span>L, <span class="string">&quot;张杰&quot;</span>, <span class="string">&quot;男&quot;</span>, <span class="number">30</span>, <span class="number">20</span>),</span><br><span class="line">            <span class="keyword">new</span> People(<span class="number">6</span>L, <span class="string">&quot;薛之谦&quot;</span>, <span class="string">&quot;男&quot;</span>, <span class="number">28</span>, <span class="number">30</span>)</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 求集合薪资总和</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    @Test</span><br><span class="line">    public <span class="literal">void</span> example1() &#123;</span><br><span class="line">        <span class="keyword">list</span>.stream<span class="function"><span class="params">()</span>.<span class="title">map</span><span class="params">(People::getSalary)</span>.<span class="title">reduce</span><span class="params">((s1, s2) -&gt; s1 + s2)</span>.<span class="title">ifPresent</span><span class="params">(System.out::println)</span>;</span></span><br><span class="line"><span class="function">        <span class="title">Optional</span>&lt;<span class="title">Double</span>&gt; <span class="title">opDouble</span> = <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">map</span><span class="params">(People::getSalary)</span>.<span class="title">collect</span><span class="params">(Collectors.reducing((s1, s2) -&gt; s1 + s2))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">opDouble</span>.<span class="title">ifPresent</span><span class="params">(System.out::println)</span>;</span></span><br><span class="line"><span class="function">        <span class="title">Number</span> <span class="title">number</span> = <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.reducing(<span class="number">0</span>,People::getSalary,(s1,s2) -&gt; s1.doubleValue() + s2.doubleValue()))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(number.doubleValue())</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().collect(Collectors.summingDouble(People::getSalary)))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().collect(Collectors.summarizingDouble(People::getSalary)).getSum())</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().mapToDouble(People::getSalary).sum())</span>;</span></span><br><span class="line"><span class="function">    &#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    /**</span></span><br><span class="line"><span class="function">     * 求集合薪资最大 <span class="params">(最小)</span></span></span><br><span class="line"><span class="function">     */</span></span><br><span class="line"><span class="function">    @<span class="title">Test</span></span></span><br><span class="line"><span class="function">    <span class="title">public</span> <span class="title">void</span> <span class="title">example2</span><span class="params">()</span> &#123;</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.maxBy(Comparator.comparing(People::getSalary)))</span>.<span class="title">ifPresent</span><span class="params">(people -&gt; System.out.println(people.getSalary()))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">map</span><span class="params">(People::getSalary)</span>.<span class="title">reduce</span><span class="params">(BinaryOperator.maxBy(Double::compareTo))</span>.<span class="title">ifPresent</span><span class="params">(System.out::println)</span>; // <span class="title">minBy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">map</span><span class="params">(People::getSalary)</span>.<span class="title">reduce</span><span class="params">((s1,s2) -&gt; s1 &gt; s2 ? s1 : s2)</span>.<span class="title">ifPresent</span><span class="params">(System.out::println)</span>; // &lt;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().<span class="keyword">map</span>(People::getSalary).reduce(<span class="number">0d</span>,Double::max))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">Map</span>&lt;<span class="title">String</span>,<span class="title">Optional</span>&lt;<span class="title">People</span>&gt;&gt; <span class="title">mapOp</span> = <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.groupingBy(People::getSex,Collectors.reducing((p1,p2) -&gt; p1.getSalary() &gt; p2.getSalary() ? p1 : p2)))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">mapOp</span>.<span class="title">get</span><span class="params">(<span class="string">&quot;男&quot;</span>)</span>.<span class="title">ifPresent</span><span class="params">(people -&gt; System.out.println(people.getSalary()))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">map</span><span class="params">(People::getSalary)</span>.<span class="title">collect</span><span class="params">(Collectors.reducing((s1,s2) -&gt; s1 &gt; s2 ? s1 : s2))</span>.<span class="title">ifPresent</span><span class="params">(System.out::println)</span>;</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">max</span><span class="params">(Comparator.comparing(People::getSalary,Double::compare))</span>.<span class="title">ifPresent</span><span class="params">(p -&gt; System.out.println(p.getSalary()))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">max</span><span class="params">(Comparator.comparing(People::getSalary))</span>.<span class="title">ifPresent</span><span class="params">(p -&gt; System.out.println(p.getSalary()))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">map</span><span class="params">(People::getSalary)</span>.<span class="title">max</span><span class="params">(Double::compareTo)</span>.<span class="title">ifPresent</span><span class="params">(System.out::println)</span>; // <span class="title">min</span></span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().collect(Collectors.summarizingDouble(People::getSalary)).getMax())</span>; //<span class="title">getMin</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">sorted</span><span class="params">(Comparator.comparing(People::getSalary).reversed())</span>.<span class="title">map</span><span class="params">(People::getSalary)</span>.<span class="title">findFirst</span><span class="params">()</span>.<span class="title">ifPresent</span><span class="params">(System.out::println)</span>; // <span class="title">reversed</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">map</span><span class="params">(People::getSalary)</span>.<span class="title">sorted</span><span class="params">(Comparator.reverseOrder())</span>.<span class="title">findFirst</span><span class="params">()</span>.<span class="title">ifPresent</span><span class="params">(System.out::println)</span>; // <span class="title">Comparator</span>.<span class="title">naturalOrder</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">map</span><span class="params">(People::getSalary)</span>.<span class="title">sorted</span><span class="params">(Comparator.comparingDouble(Double::doubleValue).reversed())</span>.<span class="title">findFirst</span><span class="params">()</span>.<span class="title">ifPresent</span><span class="params">(System.out::println)</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">List</span>&lt;<span class="title">Double</span>&gt; <span class="title">doubles</span> = <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">filter</span><span class="params">(Objects::nonNull)</span>.<span class="title">map</span><span class="params">(People::getSalary)</span>.<span class="title">collect</span><span class="params">(Collectors.toList())</span>;</span></span><br><span class="line"><span class="function">        <span class="title">Collections</span>.<span class="title">sort</span><span class="params">(doubles, Double::compareTo)</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(doubles.get(doubles.size() - <span class="number">1</span>))</span>; // <span class="title">get</span><span class="params">(<span class="number">0</span>)</span></span></span><br><span class="line"><span class="function">        <span class="title">Collections</span>.<span class="title">reverse</span><span class="params">(doubles)</span>;</span></span><br><span class="line"><span class="function">        <span class="title">doubles</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">findFirst</span><span class="params">()</span>.<span class="title">ifPresent</span><span class="params">(System.out::println)</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">Map</span>&lt;<span class="title">String</span>, <span class="title">People</span>&gt; <span class="title">map</span> = <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">sorted</span><span class="params">(Comparator.comparing(People::getSalary, Double::compareTo))</span></span></span><br><span class="line"><span class="function">                .<span class="title">collect</span><span class="params">(Collectors.toMap(People::getSex, <span class="built_in">Function</span>.identity(), (p1, p2) -&gt; p2))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">double</span> <span class="title">d</span> = <span class="title">map</span>.<span class="title">get</span><span class="params">(<span class="string">&quot;男&quot;</span>)</span>.<span class="title">getSalary</span><span class="params">()</span> &gt;  <span class="title">map</span>.<span class="title">get</span><span class="params">(<span class="string">&quot;女&quot;</span>)</span>.<span class="title">getSalary</span><span class="params">()</span> ? <span class="title">map</span>.<span class="title">get</span><span class="params">(<span class="string">&quot;男&quot;</span>)</span>.<span class="title">getSalary</span><span class="params">()</span> : <span class="title">map</span>.<span class="title">get</span><span class="params">(<span class="string">&quot;女&quot;</span>)</span>.<span class="title">getSalary</span><span class="params">()</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(d)</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">mapToDouble</span><span class="params">(People::getSalary)</span>.<span class="title">max</span><span class="params">()</span>.<span class="title">ifPresent</span><span class="params">(System.out::println)</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().mapToDouble(People::getSalary).max().getAsDouble())</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">Map</span>&lt;<span class="title">String</span>, <span class="title">Optional</span>&lt;<span class="title">Integer</span>&gt;&gt; <span class="title">collect</span> = <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.groupingBy(People::getSex,</span></span></span><br><span class="line"><span class="function"><span class="params">                Collectors.mapping(People::getAge, Collectors.maxBy(Comparator.comparing(<span class="built_in">Function</span>.identity())))))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">collect</span>.<span class="title">get</span><span class="params">(<span class="string">&quot;男&quot;</span>)</span>.<span class="title">ifPresent</span><span class="params">(System.out::println)</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    &#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    /**</span></span><br><span class="line"><span class="function">     * 男生数量 女生数量</span></span><br><span class="line"><span class="function">     */</span></span><br><span class="line"><span class="function">    @<span class="title">Test</span></span></span><br><span class="line"><span class="function">    <span class="title">public</span> <span class="title">void</span> <span class="title">example3</span><span class="params">()</span> &#123;</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.groupingBy(People::getSex,Collectors.counting()))</span>.<span class="title">forEach</span><span class="params">((k,v) -&gt; System.out.println(k + <span class="string">&quot;:&quot;</span> + v))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="string">&quot;男:&quot;</span> + <span class="keyword">list</span>.stream().filter(people -&gt; people.getSex().equals(<span class="string">&quot;男&quot;</span>)).count())</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="string">&quot;男:&quot;</span> + <span class="keyword">list</span>.stream().filter(people -&gt; people.getSex().equals(<span class="string">&quot;男&quot;</span>)).collect(Collectors.counting()))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="string">&quot;男:&quot;</span> + <span class="keyword">list</span>.stream().filter(people -&gt; people.getSex().equals(<span class="string">&quot;男&quot;</span>)).collect(Collectors.reducing(<span class="number">0</span>L, e -&gt; <span class="number">1</span>L, Long::sum)))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="string">&quot;男:&quot;</span> + <span class="keyword">list</span>.stream().filter(people -&gt; people.getSex().equals(<span class="string">&quot;男&quot;</span>)).collect(Collectors.toList()).size())</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="string">&quot;男:&quot;</span> + <span class="keyword">list</span>.stream().collect(Collectors.groupingBy(People::getSex)).get(<span class="string">&quot;男&quot;</span>).size())</span>;</span></span><br><span class="line"><span class="function">        <span class="title">long</span> <span class="title">count</span>= <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.collectingAndThen(Collectors.groupingBy(People::getSex),<span class="keyword">map</span> -&gt; <span class="keyword">map</span>.get(<span class="string">&quot;男&quot;</span>).stream().count()))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(count)</span>;</span></span><br><span class="line"><span class="function">    &#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    /**</span></span><br><span class="line"><span class="function">     * 平均</span></span><br><span class="line"><span class="function">     */</span></span><br><span class="line"><span class="function">    @<span class="title">Test</span></span></span><br><span class="line"><span class="function">    <span class="title">public</span> <span class="title">void</span> <span class="title">example4</span><span class="params">()</span> &#123;</span></span><br><span class="line"><span class="function">        <span class="title">double</span> <span class="title">avg</span> = <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.averagingDouble(People::getSalary))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(avg)</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().collect(Collectors.summarizingDouble(People::getSalary)).getAverage())</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().<span class="keyword">map</span>(People::getSalary).reduce((s1,s2) -&gt; s1 + s2).flatMap(sum -&gt; Optional.<span class="keyword">of</span>(sum / <span class="keyword">list</span>.size())).get())</span>;</span></span><br><span class="line"><span class="function">    &#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    /**</span></span><br><span class="line"><span class="function">     * 排序处理<span class="title">null</span></span></span><br><span class="line"><span class="function">     */</span></span><br><span class="line"><span class="function">    @<span class="title">Test</span></span></span><br><span class="line"><span class="function">    <span class="title">public</span> <span class="title">void</span> <span class="title">example5</span><span class="params">()</span> &#123;</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">add</span><span class="params">(<span class="literal">null</span>)</span>;</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">sort</span><span class="params">(Comparator.nullsFirst(Comparator.comparing(People::getSalary)))</span>; // <span class="title">null</span> 数据排前面</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">sort</span><span class="params">(Comparator.nullsLast(Comparator.comparing(People::getSalary)))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">CopyOnWriteArrayList</span> <span class="title">list2</span> = <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">sorted</span><span class="params">(Comparator.nullsLast(Comparator.comparing(People::getSalary)))</span>.<span class="title">collect</span><span class="params">(Collectors.toCollection(CopyOnWriteArrayList::<span class="keyword">new</span>))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">list2</span>.<span class="title">forEach</span><span class="params">(System.out::println)</span>;</span></span><br><span class="line"><span class="function">        <span class="title">Collections</span>.<span class="title">sort</span><span class="params">(<span class="keyword">list</span>,Comparator.nullsFirst(Comparator.comparing(People::getSalary)))</span>;</span></span><br><span class="line"><span class="function">    &#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    /**</span></span><br><span class="line"><span class="function">     * 分组</span></span><br><span class="line"><span class="function">     */</span></span><br><span class="line"><span class="function">    @<span class="title">Test</span></span></span><br><span class="line"><span class="function">    <span class="title">public</span> <span class="title">void</span> <span class="title">example6</span><span class="params">()</span> &#123;</span></span><br><span class="line"><span class="function">        <span class="title">Map</span>&lt;<span class="title">Boolean</span>, <span class="title">Map</span>&lt;<span class="title">Integer</span>, <span class="title">List</span>&lt;<span class="title">People</span>&gt;&gt;&gt; <span class="title">map</span> = <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">                Collectors.partitioningBy(p -&gt; p.getSex().equals(<span class="string">&quot;男&quot;</span>), Collectors.groupingBy(People::getAge)))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">map</span>.<span class="title">get</span><span class="params">(<span class="literal">true</span>)</span>.<span class="title">get</span><span class="params">(<span class="number">30</span>)</span>.<span class="title">forEach</span><span class="params">(System.out::println)</span>; // 30岁男生集合</span></span><br><span class="line"><span class="function">        <span class="title">map</span>.<span class="title">get</span><span class="params">(<span class="literal">false</span>)</span>.<span class="title">get</span><span class="params">(<span class="number">20</span>)</span>.<span class="title">forEach</span><span class="params">(System.out::println)</span>; // 20岁女生集合</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">Map</span>&lt;<span class="title">String</span>, <span class="title">Map</span>&lt;<span class="title">Integer</span>, <span class="title">List</span>&lt;<span class="title">People</span>&gt;&gt;&gt; <span class="title">map1</span> = <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">                Collectors.groupingBy(People::getSex, Collectors.groupingBy(People::getAge)))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">map1</span>.<span class="title">get</span><span class="params">(<span class="string">&quot;男&quot;</span>)</span>.<span class="title">get</span><span class="params">(<span class="number">30</span>)</span>.<span class="title">forEach</span><span class="params">(System.out::println)</span>; // 30岁男生集合</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">Map</span>&lt;<span class="title">String</span>,<span class="title">People</span>&gt; <span class="title">map2</span> =</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.groupingBy(People::getSex,Collectors.collectingAndThen(Collectors.maxBy(Comparator.comparing(People::getSalary)),Optional::get)))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(map2.get(<span class="string">&quot;男&quot;</span>))</span>; // 按照性别筛选工资最高的男生</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        // 按照性别筛选工资最高的男生</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().sorted(Comparator.comparing(People::getSalary)).collect(Collectors.toMap(People::getSex,<span class="built_in">Function</span>.identity(),(p1,p2) -&gt; p2)).get(<span class="string">&quot;男&quot;</span>))</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">Map</span>&lt;<span class="title">String</span>,<span class="title">Set</span>&lt;<span class="title">Integer</span>&gt;&gt; <span class="title">map3</span> =</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.groupingBy(People::getSex,Collectors.mapping(People::getAge,Collectors.toSet())))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">map3</span>.<span class="title">get</span><span class="params">(<span class="string">&quot;男&quot;</span>)</span>.<span class="title">forEach</span><span class="params">(System.out::println)</span>; // 按照性别筛选有哪些年龄</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">filter</span><span class="params">(people -&gt; people.getSex().equals(<span class="string">&quot;男&quot;</span>))</span>.<span class="title">map</span><span class="params">(People::getAge)</span>.<span class="title">collect</span><span class="params">(Collectors.toSet())</span>.<span class="title">forEach</span><span class="params">(System.out::println)</span>; // 按照性别筛选有哪些年龄</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        // 按照年龄筛选分别对应有哪些人</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.toMap(People::getAge,People::getName,<span class="built_in">String</span>::concat))</span>.<span class="title">forEach</span><span class="params">((k,v) -&gt; System.out.println(k + <span class="string">&quot;:&quot;</span> + v))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.toMap(People::getAge,People::getName,(name1,name2) -&gt; name1 + <span class="string">&quot;,&quot;</span> + name2))</span>.<span class="title">forEach</span><span class="params">((k,v) -&gt; System.out.println(k + <span class="string">&quot;:&quot;</span> + v))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">Map</span>&lt;<span class="title">Integer</span>,<span class="title">String</span>&gt; <span class="title">map4</span> = <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.groupingBy(People::getAge,</span></span></span><br><span class="line"><span class="function"><span class="params">                Collectors.reducing(<span class="string">&quot;&quot;</span>,People::getName,(name1, name2) -&gt; name1.length() == <span class="number">0</span> ? name2 : name1 + <span class="string">&quot;,&quot;</span> + name2)))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(map4.get(<span class="number">30</span>))</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        // 集合名字最长</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().<span class="keyword">map</span>(p -&gt; p.getName().length()).reduce(<span class="number">0</span>,Integer::max))</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">map</span><span class="params">(People::getName)</span>.<span class="title">collect</span><span class="params">(Collectors.groupingBy(<span class="built_in">String</span>::length,Collectors.counting()))</span>.<span class="title">forEach</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">                (k,v) -&gt; System.out.println(k + <span class="string">&quot;:&quot;</span> + v)</span></span></span><br><span class="line"><span class="function"><span class="params">        )</span>; // 根据名字长度分组</span></span><br><span class="line"><span class="function">    &#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    /**</span></span><br><span class="line"><span class="function">     * <span class="title">flatMap</span><span class="params">(Optional/Stream)</span></span></span><br><span class="line"><span class="function">     */</span></span><br><span class="line"><span class="function">    @<span class="title">Test</span></span></span><br><span class="line"><span class="function">    <span class="title">public</span> <span class="title">void</span> <span class="title">example7</span><span class="params">()</span> &#123;</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">map</span><span class="params">(People::getName)</span>.<span class="title">flatMap</span><span class="params">(str -&gt; &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">            List&lt;<span class="built_in">String</span>&gt; stringList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; str.length(); i++) &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">                <span class="built_in">String</span> temp = <span class="built_in">String</span>.valueOf(str.charAt(i));</span></span></span><br><span class="line"><span class="function"><span class="params">                stringList.add(temp);</span></span></span><br><span class="line"><span class="function"><span class="params">            &#125;</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">return</span> stringList.stream();</span></span></span><br><span class="line"><span class="function"><span class="params">        &#125;)</span>.<span class="title">distinct</span><span class="params">()</span>.<span class="title">collect</span><span class="params">(Collectors.toList())</span>.<span class="title">forEach</span><span class="params">(System.out::println)</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">double</span> <span class="title">d</span> = <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">filter</span><span class="params">(people -&gt; people.getName().equals(<span class="string">&quot;张杰&quot;</span>))</span>.<span class="title">mapToDouble</span><span class="params">(People::getSalary)</span>.<span class="title">sum</span><span class="params">()</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(Optional.ofNullable(d).flatMap(e -&gt; Optional.<span class="keyword">of</span>(e + <span class="number">5</span>)).flatMap(e -&gt; Optional.<span class="keyword">of</span>(e - <span class="number">2</span>)).get())</span>; // 张杰的薪资涨5后又减2</span></span><br><span class="line"><span class="function">    &#125;</span></span><br><span class="line"><span class="function">    /**</span></span><br><span class="line"><span class="function">     * 字符串处理</span></span><br><span class="line"><span class="function">     */</span></span><br><span class="line"><span class="function">    @<span class="title">Test</span></span></span><br><span class="line"><span class="function">    <span class="title">public</span> <span class="title">void</span> <span class="title">example8</span><span class="params">()</span> &#123;</span></span><br><span class="line"><span class="function">       // <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">sorted</span><span class="params">(Comparator.comparing(People::getAge).reversed().thenComparing(People::getSalary))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().<span class="keyword">map</span>(People::getName).collect(Collectors.joining(<span class="string">&quot;,&quot;</span>,<span class="string">&quot;(&quot;</span>,<span class="string">&quot;)&quot;</span>)))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">Collector</span>&lt;<span class="title">People</span>,<span class="title">StringJoiner</span>,<span class="title">String</span>&gt; <span class="title">collector</span> = <span class="title">Collector</span>.<span class="title">of</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">                () -&gt; <span class="keyword">new</span> StringJoiner(<span class="string">&quot;,&quot;</span>),</span></span></span><br><span class="line"><span class="function"><span class="params">                (stringJoiner,people) -&gt; stringJoiner.add(people.getName()),</span></span></span><br><span class="line"><span class="function"><span class="params">                StringJoiner::merge,</span></span></span><br><span class="line"><span class="function"><span class="params">                StringJoiner::toString</span></span></span><br><span class="line"><span class="function"><span class="params">        )</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().collect(collector))</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">StringJoiner</span> <span class="title">field</span> = <span class="title">new</span> <span class="title">StringJoiner</span><span class="params">(<span class="string">&quot;,&quot;</span>)</span>;</span></span><br><span class="line"><span class="function">        <span class="title">list</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">map</span><span class="params">(People::getName)</span>.<span class="title">forEach</span><span class="params">(field::add)</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(field.toString())</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(<span class="keyword">list</span>.stream().<span class="keyword">map</span>(People::getName).reduce((name1,name2) -&gt; name1.concat(<span class="string">&quot;,&quot;</span>).concat(name2)).orElse(<span class="string">&quot;&quot;</span>))</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    &#125;</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>List-String-Map</title>
    <url>/2021/04/24/List-String-Map/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>日常工作中经常和 集合、数组、Map、字符串互相转换 打交道，这里记录一些  <a href="https://github.com/google/guava/wiki">Guava</a> 的用法。</p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1331819951&auto=1&height=66"></iframe>

<span id="more"></span>
<p>使用 <code>StringBuilder</code> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * listToStringByStringBuilder</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> list 分隔的集合</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> delimiter 分隔符</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> String 结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">listToStringByStringBuilder</span><span class="params">(List&lt;String&gt; list, String delimiter)</span> </span>&#123;</span><br><span class="line">    StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    list.forEach(element -&gt; stringBuilder.append(element).append(delimiter));</span><br><span class="line">    stringBuilder.delete(stringBuilder.length()- delimiter.length(),stringBuilder.length()); <span class="comment">// delete(start, end);</span></span><br><span class="line">    <span class="keyword">return</span>  stringBuilder.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用 <code>Collectors.joining</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * listToStringByCollectorsJoining</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> list 分隔的集合</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> delimiter 分隔符号</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> prefix 前缀符号</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> suffix 后缀符号</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> String 结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">listToStringByCollectorsJoining</span><span class="params">(List&lt;String&gt; list, String delimiter, String prefix, String suffix)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> list.stream().collect(Collectors.joining(delimiter, prefix, suffix ));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用 <code>StringJoiner</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * listToStringByStringJoiner</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> list 分隔的集合</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> separator 分隔符</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> prefix 前缀符号</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> suffix 后缀符号</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> String 结果</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">listToStringByStringJoiner</span><span class="params">(List&lt;String&gt; list, String separator, String prefix, String suffix)</span> </span>&#123;</span><br><span class="line">     StringJoiner stringJoiner = <span class="keyword">new</span> StringJoiner(separator,prefix,suffix);</span><br><span class="line">     list.forEach(element -&gt; stringJoiner.add(element));</span><br><span class="line">     <span class="keyword">return</span>  stringJoiner.toString();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>使用 <code>Joiner</code> ， <code>String.join()</code> 方法 也可以对集合或者数组进行分隔</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * arrayToString</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> parts 分隔的数组</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> separator 分隔符</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> skipNull 是否跳过NULL</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> useForNull 是否替换NULL</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nullText 替换NULL的值</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> String 结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">arrayToString</span><span class="params">(Object[] parts,String separator,<span class="keyword">boolean</span> skipNull,<span class="keyword">boolean</span> useForNull,String nullText)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (skipNull) &#123;</span><br><span class="line">        <span class="keyword">return</span> Joiner.on(separator).skipNulls().join(parts);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (useForNull) &#123;</span><br><span class="line">        <span class="keyword">return</span> Joiner.on(separator).useForNull(nullText).join(parts);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Joiner.on(separator).join(parts); <span class="comment">//   String.join() 也可以</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>keyValueSeparator</code> 为 <code>map</code> 中 <code>key</code> 和 <code>value</code> 的分隔符</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * mapToString</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> map 分隔的map</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> separator 分隔符</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> keyValueSeparator 键值对分隔符</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> String 结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">mapToString</span><span class="params">(Map map, String separator, String keyValueSeparator)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Joiner.on(separator).withKeyValueSeparator(keyValueSeparator).join(map);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>字符串 <code>aabbcc</code> ，按照长度为2，会分隔元素为 <code>[aa] [bb] [cc]</code> 的集合 </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * stringToFixedLengthList</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sequence 分隔的字符串 String 实现 CharSequence 接口</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> length 分隔的长度</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> List&lt;String&gt; 结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">stringToFixedLengthList</span><span class="params">(CharSequence sequence, <span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">    Iterable&lt;String&gt; iterable =  Splitter.fixedLength(length).split(sequence);</span><br><span class="line">    List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Iterator&lt;String&gt; iterator = iterable.iterator(); iterator.hasNext();) &#123;</span><br><span class="line">        list.add(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>字符串转集合，方法有很多种。这里举两个，说明： <code>trimResults()</code> 去掉元素左右空字符串，<code>omitEmptyStrings</code> 去掉分隔符号之间的空元素。举个例子：<br><code>&quot; k ;;p&quot;</code> ，<code>trimResults</code>之后得到 <code>[k] [空] [p]</code> 三个元素，加上 <code>omitEmptyStrings </code> 会去除空元素。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * stringSplitToList</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> separator 分隔符</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sequence 分隔的字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> List&lt;String&gt; 结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">stringSplitToList</span><span class="params">(String separator,CharSequence sequence)</span> </span>&#123;</span><br><span class="line">    Iterable&lt;String&gt; iterable = Splitter.on(separator).trimResults().omitEmptyStrings().split(sequence);</span><br><span class="line">    List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Iterator&lt;String&gt; iterator = iterable.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">        list.add(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Splitter.on(separator).trimResults().omitEmptyStrings().splitToList(sequence);</span><br><span class="line">    <span class="comment">// return list;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用 <code>java8</code> 新特性</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * StringToList</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> separator 分隔符</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> str 分隔的字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> List 结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title">StringToList</span><span class="params">(String separator, String str)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Arrays.stream(str.split(separator)).filter(e -&gt; !e.isEmpty()).collect(Collectors.toList());</span><br><span class="line">    <span class="comment">// return Splitter.on(separator).trimResults().splitToList(str);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>字符串 <code>a,b,c,d,e,f,g</code> 限制长度为3，得到集合元素为 <code>[a] [b] [c,d,e,f,g]</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * limitSplitToList</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> separator 分割符</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> length 限制长度</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sequence 分隔的字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> List&lt;String&gt; 结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">limitSplitToList</span><span class="params">(String separator, <span class="keyword">int</span> length, CharSequence sequence)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Splitter.on(separator).limit(length).splitToList(sequence);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>字符串 <code>a,b:c,d;e</code> 有不同分隔符， 逗号、 冒号、 分号等，利用正则表达式 <code>[,|:|;]</code> 分隔</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * multiLimitSplitToList</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> separatorPattern 多个分隔符</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sequence 分隔的字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> List&lt;String&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">multiLimitSplitToList</span><span class="params">(String separatorPattern, CharSequence sequence)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Splitter.onPattern(separatorPattern).splitToList(sequence);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>字符串 <code>name=kangPan;age=10;six=boy</code> 最后不能带分隔符，否则报错。分隔符是分号，键值对分隔符是等号，会拆分<br><code>key是name,value是kangPan</code>等键值对的<code>map</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * StringToMap</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> separator 分隔符</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> withKeyValueSeparator 键值对分割符</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sequence 分隔的字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> Map 结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Map <span class="title">StringToMap</span><span class="params">(String separator,String withKeyValueSeparator, CharSequence sequence)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Splitter.on(separator).withKeyValueSeparator(withKeyValueSeparator).split(sequence);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Lombok</title>
    <url>/2021/04/14/Lombok/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><table>
<thead>
<tr>
<th align="left">注解</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">@Data</td>
<td align="left">用在类上，提供<code>Getter、Setter、equals、hasCode、toString</code> 、构造方法（参数：<code>@NonNull和final字段</code>）</td>
</tr>
<tr>
<td align="left">@AllArgsConstructor</td>
<td align="left">用在类上，提供全参数构造方法</td>
</tr>
<tr>
<td align="left">@NoArgsConstructor</td>
<td align="left">用在类上，提供无参构造方法</td>
</tr>
<tr>
<td align="left">@RequiredArgsConstructor</td>
<td align="left">用在类上，提供构造方法（参数：<code>@NonNull和final字段</code>）</td>
</tr>
<tr>
<td align="left">@Value</td>
<td align="left">用在类上，提供 <code>get、equals、hashCode、toString</code>、全参数构造方法</td>
</tr>
<tr>
<td align="left">@EqualsAndHashCode</td>
<td align="left">用在类上，提供<code>equals、hasCode</code>方法，继承父类使用 <code>@EqualsAndHashCode(callSuper = true)</code></td>
</tr>
<tr>
<td align="left">@NonNull</td>
<td align="left">用在字段上，提供无参构造方法，为空则抛出<code>NullPointerException</code></td>
</tr>
<tr>
<td align="left">@Cleanup</td>
<td align="left">用在字段上，释放资源，<code>try&#123;&#125;finally&#123;&#125;</code></td>
</tr>
<tr>
<td align="left">@SneakyThrows</td>
<td align="left">用在类上，捕获异常，指定异常<code>@SneakyThrows(Exception.class)</code></td>
</tr>
</tbody></table>
<span id="more"></span>

<blockquote>
<p>注解 <code>@Getter @Setter</code>，<code>@Getter</code> 支持懒加载 </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.FIELD, ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Getter &#123;</span><br><span class="line">	lombok.<span class="function">AccessLevel <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> lombok.AccessLevel.PUBLIC</span>;</span><br><span class="line">	AnyAnnotation[] onMethod() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">lazy</span><span class="params">()</span> <span class="keyword">default</span> <span class="keyword">false</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.FIELD, ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Setter &#123;</span><br><span class="line">	lombok.<span class="function">AccessLevel <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> lombok.AccessLevel.PUBLIC</span>;</span><br><span class="line">	AnyAnnotation[] onMethod() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line">	AnyAnnotation[] onParam() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th align="left">AccessLevel</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">PUBLIC</td>
<td align="left">生成 <code>public</code> 修饰的 <code>getter    setter</code> 方法</td>
</tr>
<tr>
<td align="left">MODULE</td>
<td align="left">生成没有修饰符修饰的 <code>getter  setter</code> 方法</td>
</tr>
<tr>
<td align="left">PROTECTED</td>
<td align="left">生成 <code>protected</code> 修饰的 <code>getter  setter</code> 方法</td>
</tr>
<tr>
<td align="left">PACKAGE</td>
<td align="left">生成没有修饰符修饰的 <code>getter  setter</code> 方法</td>
</tr>
<tr>
<td align="left">PRIVATE</td>
<td align="left">生成 <code>private</code> 修饰的 <code>getter  setter</code> 方法</td>
</tr>
<tr>
<td align="left">NONE</td>
<td align="left">不生成 <code>getter  setter</code> 方法</td>
</tr>
</tbody></table>
<blockquote>
<p>注解  <code>@EqualsAndHashCode</code></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> EqualsAndHashCode &#123;</span><br><span class="line">	String[] exclude() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line">	String[] of() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">callSuper</span><span class="params">()</span> <span class="keyword">default</span> <span class="keyword">false</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">doNotUseGetters</span><span class="params">()</span> <span class="keyword">default</span> <span class="keyword">false</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">exclude</td>
<td align="left">在生成的 <code>equals</code> 和 <code>hashCode</code> 方法中排除的字段</td>
</tr>
<tr>
<td align="left">of</td>
<td align="left">在生成的 <code>equals</code> 和 <code>hashCode</code> 方法中列出的字段</td>
</tr>
<tr>
<td align="left">callSuper</td>
<td align="left">属性设置为 <code>true</code>，表示父类的 <code>equals</code> 和 <code>hashCode</code> 参与计算，默认为 <code>false</code></td>
</tr>
<tr>
<td align="left">doNotUseGetters</td>
<td align="left">通常都是通过字段的 <code>getter</code> 方法获取字段值，设置为 <code>true</code>，表示不通过 <code>getter</code> 方法获取，而是直接访问字段值，默认为 <code>false</code></td>
</tr>
</tbody></table>
<blockquote>
<p>注解 <code>@Accessors</code> ，配合 <code>@Setter、@Getter 、@Data </code>注解，用在类上和字段上</p>
</blockquote>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">fluent</td>
<td align="left">默认为 <code>false</code>，如果为 <code>true</code> 则生成的 <code>getter/setter</code> 方法没有 <code>set/get</code> 前缀，如果为 <code>true</code>, <code>chain</code> 未设置，则 <code>chain</code> 会被设置为 <code>true</code></td>
</tr>
<tr>
<td align="left">chain</td>
<td align="left">默认为 <code>false</code>， <code>setter</code> 方法返回是 <code>void</code>，如果为 <code>true</code> 则返回<code> this</code>，当 <code>fluent</code> 为 <code>true</code> 时，<code>chain</code> 会设置为 <code>true</code></td>
</tr>
<tr>
<td align="left">prefix</td>
<td align="left"><code>getter    setter </code>方法时会去掉指定的前缀</td>
</tr>
</tbody></table>
<blockquote>
<p>注解 <code>Log</code></p>
</blockquote>
<table>
<thead>
<tr>
<th align="left">注解</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">@CommonsLog</td>
<td align="left"><code>org.apache.commons.logging.Log log = org.apache.commons.logging.LogFactory.getLog(LogExample.class)</code></td>
</tr>
<tr>
<td align="left">@JBossLog</td>
<td align="left"><code>org.jboss.logging.Logger log = org.jboss.logging.Logger.getLogger(LogExample.class)</code></td>
</tr>
<tr>
<td align="left">@Log</td>
<td align="left"><code>java.util.logging.Logger log = java.util.logging.Logger.getLogger(LogExample.class.getName())</code></td>
</tr>
<tr>
<td align="left">@Log4j</td>
<td align="left"><code>org.apache.log4j.Logger log = org.apache.log4j.Logger.getLogger(LogExample.class)</code></td>
</tr>
<tr>
<td align="left">@Log4j2</td>
<td align="left"><code>org.apache.logging.log4j.Logger log = org.apache.logging.log4j.LogManager.getLogger(LogExample.class)</code></td>
</tr>
<tr>
<td align="left">@Slf4j</td>
<td align="left"><code>org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(LogExample.class)</code></td>
</tr>
<tr>
<td align="left">@XSlf4j</td>
<td align="left"><code>org.slf4j.ext.XLogger log = org.slf4j.ext.XLoggerFactory.getXLogger(LogExample.class)</code></td>
</tr>
</tbody></table>
<p>详情见 <a href="https://blog.csdn.net/wb1046329430/article/details/106105767/">使用 Lombok 进行 Java 开发</a><br>使用 <code>@Data</code> 会遇到什么坑，看下 <code>Mybatis</code> 的 <code>PropertyNamer</code> 类 ，<code>methodToProperty</code> 方法转属性</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">methodToProperty</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">   <span class="comment">// is开头的一般是bool类型，直接从第二个(索引)开始截取</span></span><br><span class="line">  <span class="keyword">if</span> (name.startsWith(<span class="string">&quot;is&quot;</span>)) &#123;</span><br><span class="line">    name = name.substring(<span class="number">2</span>);</span><br><span class="line">  <span class="comment">// set get的就从第三个(索引)开始截取</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (name.startsWith(<span class="string">&quot;get&quot;</span>) || name.startsWith(<span class="string">&quot;set&quot;</span>)) &#123;</span><br><span class="line">    name = name.substring(<span class="number">3</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isTrue;</span><br><span class="line">    <span class="keyword">private</span> String mName;</span><br><span class="line">    <span class="keyword">private</span> Boolean isFalse;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Test test = <span class="keyword">new</span> Test();</span><br><span class="line">        test.getMName(); <span class="comment">// mName 属性的 get 方法</span></span><br><span class="line">        test.isTrue(); <span class="comment">// isTrue 属性的  get 方法</span></span><br><span class="line"></span><br><span class="line">        System.out.println(PropertyNamer.methodToProperty(<span class="string">&quot;getMName&quot;</span>)); <span class="comment">// 打印 MName 属性 (错误)</span></span><br><span class="line">        System.out.println(PropertyNamer.methodToProperty(<span class="string">&quot;isTrue&quot;</span>)); <span class="comment">// 打印 true 属性 (错误)</span></span><br><span class="line"></span><br><span class="line">        test.getIsFalse();</span><br><span class="line">        System.out.println(PropertyNamer.methodToProperty(<span class="string">&quot;getIsFalse&quot;</span>)); <span class="comment">// 打印 isFalse 属性  (正确)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以看出 <code>Mybatis</code> 把 <code>@Data</code> 生成的方法转属性之后，跟原属性对不上，所以使用的时候， <code>boolean</code> 类型 不要 <code>is加大写字母</code>命名，其它基本类型属性不要 <code>第一个字母小写 第二个字母大写</code> 命名<br>如果类实现 <code>Serializable</code>接口，  <code>boolean</code> 类型的字段命令为  <code>isTrue</code> 的会有问题 ，字段序列号后是 <code>true</code></p>
<p>如果要 <code>Builder</code> 链式调用父类的字段 ，父类和子类都要加 <code>@SuperBuilder</code><br> <code>Coffee.builder().name(&quot;name&quot;).id(100L).build();</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SuperBuilder</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode(callSuper = true)</span></span><br><span class="line"><span class="meta">@ToString(callSuper = true)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Coffee</span> <span class="keyword">extends</span> <span class="title">BaseEntity</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NotBlank(message = &quot;name can not be null&quot;)</span> <span class="comment">//只能作用在 String 上,不能为null, 而且调用trim()后, 长度必须大于0</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SuperBuilder</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BaseEntity</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Lua limit</title>
    <url>/2021/04/14/Lua-limit/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Lua 是一种轻量小巧的脚本语言，定义注解</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Limit &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 方法名为key</span></span><br><span class="line">    <span class="function">String <span class="title">key</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 时间，单位秒</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">period</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 限制访问次数</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">count</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>限流切面</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LimitAspect</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> RedisTemplate&lt;Object, Object&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LimitAspect</span><span class="params">(RedisTemplate&lt;Object, Object&gt; redisTemplate)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//设置String key 和value序列化模式</span></span><br><span class="line">        redisTemplate.setKeySerializer(<span class="keyword">new</span> StringRedisSerializer());</span><br><span class="line">        redisTemplate.setValueSerializer(<span class="keyword">new</span> GenericJackson2JsonRedisSerializer());</span><br><span class="line">        <span class="keyword">this</span>.redisTemplate = redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut(&quot;@annotation(com.kangpan.annotation.Limit)&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pointcut</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around(&quot;pointcut()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">around</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();</span><br><span class="line">        Method method = methodSignature.getMethod();</span><br><span class="line">        Limit limit = method.getAnnotation(Limit.class);</span><br><span class="line">        String key = limit.key();</span><br><span class="line">        ImmutableList&lt;Object&gt; keys = ImmutableList.of(key);</span><br><span class="line">        String lua = <span class="string">&quot;local num&quot;</span></span><br><span class="line">                + <span class="string">&quot;\n local key_local = redis.call(&#x27;setnx&#x27;,KEYS[1],0)&quot;</span> <span class="comment">// KEY存在不做任何事情 不存在赋值为0</span></span><br><span class="line">                + <span class="string">&quot;\n if (tonumber(key_local) == 1)&quot;</span> <span class="comment">// ==0 表示KEY存在 没有赋值  ==1 表示KEY不存在 赋值0了</span></span><br><span class="line">                + <span class="string">&quot;\n then&quot;</span></span><br><span class="line">                    + <span class="string">&quot;\n redis.call(&#x27;incr&#x27;,KEYS[1])&quot;</span> <span class="comment">// 存储在key中的数字值加1 如果key不存在 key的值先被设置为0 然后再执行加1操作</span></span><br><span class="line">                    + <span class="string">&quot;\n num = redis.call(&#x27;get&#x27;,KEYS[1])&quot;</span> <span class="comment">// 得到Key的值</span></span><br><span class="line">                        + <span class="string">&quot;\n if (tonumber(num) == 1)&quot;</span> <span class="comment">// 第一次赋值</span></span><br><span class="line">                        + <span class="string">&quot;\n then&quot;</span></span><br><span class="line">                            + <span class="string">&quot;\n redis.call(&#x27;expire&#x27;,KEYS[1],ARGV[2])&quot;</span> <span class="comment">// 设置有效时间</span></span><br><span class="line">                        + <span class="string">&quot;\n end&quot;</span></span><br><span class="line">                    + <span class="string">&quot;\n return tonumber(num);&quot;</span></span><br><span class="line">                + <span class="string">&quot;\n else&quot;</span></span><br><span class="line">                    + <span class="string">&quot;\n redis.call(&#x27;incr&#x27;,KEYS[1])&quot;</span></span><br><span class="line">                    + <span class="string">&quot;\n num = redis.call(&#x27;get&#x27;,KEYS[1])&quot;</span></span><br><span class="line">                    + <span class="string">&quot;\n return tonumber(num);&quot;</span></span><br><span class="line">                + <span class="string">&quot;\n end&quot;</span>;</span><br><span class="line"></span><br><span class="line">        RedisScript&lt;Number&gt; redisScript = <span class="keyword">new</span> DefaultRedisScript&lt;&gt;(lua, Number.class);</span><br><span class="line">        Number number = redisTemplate.execute(redisScript, keys, limit.count(), limit.period());</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != number &amp;&amp; number.intValue() &lt;= limit.count()) &#123;</span><br><span class="line">            log.info(<span class="string">&quot;方法&#123;&#125;: 第&#123;&#125;次访问 有效时间为 &#123;&#125;&quot;</span>, limit.key(), number, redisTemplate.getExpire(limit.key()));</span><br><span class="line">            <span class="keyword">return</span> proceedingJoinPoint.proceed();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> BadRequestException(<span class="string">&quot;访问次数受限制&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>BadRequestException</code> 类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BadRequestException</span> <span class="keyword">extends</span> <span class="title">RuntimeException</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BadRequestException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>( message );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BadRequestException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BadRequestException</span><span class="params">(String message, Throwable cause)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>( message, cause );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BadRequestException</span><span class="params">(Throwable cause)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>( cause );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>捕获 <code>BadRequestException</code> 处理类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestControllerAdvice(basePackages = &quot;com.kangpan.controller&quot;)</span></span><br><span class="line"><span class="meta">@Order(Ordered.HIGHEST_PRECEDENCE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalExceptionHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(&#123;ValidationException.class, BadRequestException.class&#125;)</span></span><br><span class="line">    <span class="meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity <span class="title">handleException</span><span class="params">(Exception e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.builder().time(LocalDateTime.now()).message(e.getMessage()).status(HttpStatus.BAD_REQUEST.value()).build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>自定义 <code>ResponseEntity</code> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResponseEntity</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 返回信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 返回码</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 返回数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 时间</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@JsonFormat(pattern=&quot;yyyy:MM:dd HH:mm:ss&quot;,timezone = &quot;GMT+8&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime time;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>应用 <code>controller</code> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/limitBuy&quot;)</span></span><br><span class="line"><span class="meta">@Limit(key = &quot;limitBuy&quot;, count = 10, period = 60)</span></span><br><span class="line"><span class="meta">@ApiOperation(&quot;限次数购买&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ResponseEntity <span class="title">limitBuy</span><span class="params">(Order order)</span> </span>&#123;</span><br><span class="line">    orderService.save(order);</span><br><span class="line">    <span class="keyword">return</span> ResponseEntity.builder().message(<span class="string">&quot;buy success&quot;</span>).build();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>MultiValueMap</title>
    <url>/2021/04/14/MultiValueMap/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><code>org.springframework.util</code> 包下的 <code>MultiValueMap</code> 接口</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(K key, <span class="meta">@Nullable</span> V value)</span></span>;</span><br></pre></td></tr></table></figure>

<p>看下 <code>LinkedMultiValueMap</code> 实现</p>
<span id="more"></span>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(K key, <span class="meta">@Nullable</span> V value)</span> </span>&#123;</span><br><span class="line">	List&lt;V&gt; values = <span class="keyword">this</span>.targetMap.computeIfAbsent(key, k -&gt; <span class="keyword">new</span> LinkedList&lt;&gt;());</span><br><span class="line">	values.add(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>targetMap</code> 在 <code>LinkedMultiValueMap</code> 构造方法的时候初始化了</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Map&lt;K, List&lt;V&gt;&gt; targetMap;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">LinkedMultiValueMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.targetMap = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>介绍下 <code>computeIfAbsent</code>  当<code>get(key)</code> 是 <code>null</code> 的时候 我们 <code>put</code> 新的 <code>value</code>  如果不是 那么直接返回 <code>get(key)</code> 也就是 <code>LinkedList</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">default</span> V <span class="title">computeIfAbsent</span><span class="params">(K key,</span></span></span><br><span class="line"><span class="function"><span class="params">         Function&lt;? <span class="keyword">super</span> K, ? extends V&gt; mappingFunction)</span> </span>&#123;</span><br><span class="line">     Objects.requireNonNull(mappingFunction);</span><br><span class="line">     V v;</span><br><span class="line">     <span class="keyword">if</span> ((v = get(key)) == <span class="keyword">null</span>) &#123;</span><br><span class="line">         V newValue;</span><br><span class="line">         <span class="keyword">if</span> ((newValue = mappingFunction.apply(key)) != <span class="keyword">null</span>) &#123;</span><br><span class="line">             put(key, newValue);</span><br><span class="line">             <span class="keyword">return</span> newValue;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">return</span> v;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>举个例子</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">MultiValueMap&lt;String,String&gt; map = <span class="keyword">new</span> LinkedMultiValueMap&lt;&gt;();</span><br><span class="line">map.add(<span class="string">&quot;k&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">map.add(<span class="string">&quot;k&quot;</span>,<span class="string">&quot;2&quot;</span>);</span><br></pre></td></tr></table></figure>
<p><code>map</code> 对应的 <code>key</code> 是 <code>k</code>，  对应的 <code>value</code> 是一个 <code>LinkedList</code> ，里面元素有 <code>1</code> 和 <code>2</code></p>
<p><code>MultiValueMap</code> 应用在 <code>SpringFactoriesLoader</code> 这个类检索 <code>META-INF/spring.factories</code> 文件</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, List&lt;String&gt;&gt; loadSpringFactories(<span class="meta">@Nullable</span> ClassLoader classLoader) &#123;</span><br><span class="line">	MultiValueMap&lt;String, String&gt; result = cache.get(classLoader);</span><br><span class="line">	<span class="keyword">if</span> (result != <span class="keyword">null</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		Enumeration&lt;URL&gt; urls = (classLoader != <span class="keyword">null</span> ?</span><br><span class="line">				classLoader.getResources(FACTORIES_RESOURCE_LOCATION) :</span><br><span class="line">				ClassLoader.getSystemResources(FACTORIES_RESOURCE_LOCATION));</span><br><span class="line">		result = <span class="keyword">new</span> LinkedMultiValueMap&lt;&gt;();</span><br><span class="line">		<span class="keyword">while</span> (urls.hasMoreElements()) &#123;</span><br><span class="line">			URL url = urls.nextElement();</span><br><span class="line">			UrlResource resource = <span class="keyword">new</span> UrlResource(url);</span><br><span class="line">			Properties properties = PropertiesLoaderUtils.loadProperties(resource);</span><br><span class="line">			<span class="keyword">for</span> (Map.Entry&lt;?, ?&gt; entry : properties.entrySet()) &#123;</span><br><span class="line">				String factoryTypeName = ((String) entry.getKey()).trim();</span><br><span class="line">				<span class="keyword">for</span> (String factoryImplementationName : StringUtils.commaDelimitedListToStringArray((String) entry.getValue())) &#123;</span><br><span class="line">					result.add(factoryTypeName, factoryImplementationName.trim());</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		cache.put(classLoader, result);</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Unable to load factories from location [&quot;</span> +</span><br><span class="line">				FACTORIES_RESOURCE_LOCATION + <span class="string">&quot;]&quot;</span>, ex);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Qualifier之Bean的名称首字母大写还是小写？</title>
    <url>/2021/05/06/Qualifier/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h3><p>Thus “FooBah” becomes “fooBah” and “X” becomes “x”, but “URL” stays  as “URL”.<br>如果一个类名是以两个大写字母开头的，则首字母不变，其它情况下默认首字母变成小写。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Utility method to take a string and convert it to normal Java variable</span></span><br><span class="line"><span class="comment"> * name capitalization.  This normally means converting the first</span></span><br><span class="line"><span class="comment"> * character from upper case to lower case, but in the (unusual) special</span></span><br><span class="line"><span class="comment"> * case when there is more than one character and both the first and</span></span><br><span class="line"><span class="comment"> * second characters are upper case, we leave it alone.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * Thus &quot;FooBah&quot; becomes &quot;fooBah&quot; and &quot;X&quot; becomes &quot;x&quot;, but &quot;URL&quot; stays</span></span><br><span class="line"><span class="comment"> * as &quot;URL&quot;.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  name The string to be decapitalized.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  The decapitalized version of the string.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">decapitalize</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (name == <span class="keyword">null</span> || name.length() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (name.length() &gt; <span class="number">1</span> &amp;&amp; Character.isUpperCase(name.charAt(<span class="number">1</span>)) &amp;&amp;</span><br><span class="line">                    Character.isUpperCase(name.charAt(<span class="number">0</span>)))&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> chars[] = name.toCharArray();</span><br><span class="line">    chars[<span class="number">0</span>] = Character.toLowerCase(chars[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> String(chars);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis + Lua</title>
    <url>/2021/04/14/Redis-+-Lua/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>搭建一个 <code>springboot</code> 的项目，引入  <code>spring-boot-starter-parent</code>父组件，<code> spring-boot-starter-web</code>组件， <code>lombok</code>组件，<code>jedis</code>客户端组件   ，谷歌的<code>guava</code> 组件</p>
<span id="more"></span>
<p>创建 <code>Runners</code> 类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Runners</span> <span class="keyword">implements</span> <span class="title">ApplicationRunner</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(ApplicationArguments args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">&quot;127.0.0.1&quot;</span>);</span><br><span class="line">        String lua = <span class="string">&quot;return ARGV[1]&quot;</span>; <span class="comment">// lua 脚本</span></span><br><span class="line">        String result = (String)jedis.eval(lua,<span class="number">0</span>,<span class="string">&quot;100&quot;</span>); <span class="comment">// 0个key 值100</span></span><br><span class="line">        log.info(<span class="string">&quot;result:&#123;&#125;&quot;</span>,result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>启动项目 <code>result</code> 打印 <code>100</code><br>命令格式</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">EVAL lua脚本 numkeys key <span class="selector-attr">[key ...]</span> arg <span class="selector-attr">[arg ...]</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>numkeys</code> 指 key 的数量</li>
<li><code>key [key ...]</code>，键，多个，在<code>lua</code>脚本中通过<code>KEYS[1], KEYS[2]</code>获取</li>
<li><code>arg [arg ...]</code>，值，多个，在<code>lua</code>脚本中通过<code>ARGV[1], ARGV[2]</code>获取</li>
</ul>
<p><code>ScriptingCommands</code> 类 <code>jedis</code> 对 <code>lua</code> 命令的支持</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ScriptingCommands</span> </span>&#123;</span><br><span class="line">  <span class="function">Object <span class="title">eval</span><span class="params">(String script, <span class="keyword">int</span> keyCount, String... params)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function">Object <span class="title">eval</span><span class="params">(String script, List&lt;String&gt; keys, List&lt;String&gt; args)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function">Object <span class="title">eval</span><span class="params">(String script)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function">Object <span class="title">evalsha</span><span class="params">(String sha1)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function">Object <span class="title">evalsha</span><span class="params">(String sha1, List&lt;String&gt; keys, List&lt;String&gt; args)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function">Object <span class="title">evalsha</span><span class="params">(String sha1, <span class="keyword">int</span> keyCount, String... params)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function">Boolean <span class="title">scriptExists</span><span class="params">(String sha1)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function">List&lt;Boolean&gt; <span class="title">scriptExists</span><span class="params">(String... sha1)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function">String <span class="title">scriptLoad</span><span class="params">(String script)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Runners</code> 类改造</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">&quot;127.0.0.1&quot;</span>);</span><br><span class="line">String lua = <span class="string">&quot;redis.call(&#x27;set&#x27;, KEYS[1], ARGV[1])&quot;</span>;</span><br><span class="line">List&lt;String&gt; keys = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">List&lt;String&gt; values = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">keys.add(<span class="string">&quot;key&quot;</span>);</span><br><span class="line">values.add(<span class="string">&quot;100&quot;</span>);</span><br><span class="line">jedis.eval(lua,keys,values);</span><br></pre></td></tr></table></figure>
<p>打开 <code>redis</code> 客户端 </p>
<figure class="highlight accesslog"><table><tr><td class="code"><pre><span class="line"><span class="number">127.0.0.1:6379</span>&gt; get key</span><br><span class="line"><span class="string">&quot;100&quot;</span></span><br></pre></td></tr></table></figure>
<p>或者 修改</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line"><span class="built_in">String</span> lua = <span class="string">&quot;local str = redis.call(&#x27;get&#x27;, KEYS[1]);return str&quot;</span><span class="comment">;</span></span><br><span class="line"><span class="built_in">String</span> result = (<span class="built_in">String</span>) jedis.<span class="built_in">eval</span>(lua,keys,values)<span class="comment">;</span></span><br><span class="line"><span class="built_in">log</span>.info(result)<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>控制台打印 <code>100</code><br>使用 <code>Spring Data Redis</code> 组件，支持的客户端 <code>Jedis / Lettuce</code>，配置 <code>RedisTemplate</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@AutoConfigureAfter(RedisAutoConfiguration.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 默认情况下的模板只能支持RedisTemplate&lt;String, String&gt;，也就是只能存入字符串，因此支持序列化</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RedisTemplate&lt;String, Serializable&gt; <span class="title">redisTemplate</span><span class="params">(LettuceConnectionFactory redisConnectionFactory)</span> </span>&#123;</span><br><span class="line">        RedisTemplate&lt;String, Serializable&gt; template = <span class="keyword">new</span> RedisTemplate&lt;&gt;();</span><br><span class="line">        template.setKeySerializer(<span class="keyword">new</span> StringRedisSerializer());</span><br><span class="line">        template.setValueSerializer(<span class="keyword">new</span> GenericJackson2JsonRedisSerializer());</span><br><span class="line">        template.setConnectionFactory(redisConnectionFactory);</span><br><span class="line">        <span class="keyword">return</span> template;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Runners</span> <span class="keyword">implements</span> <span class="title">ApplicationRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(ApplicationArguments args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String lua = <span class="string">&quot;redis.call(&#x27;EXPIRE&#x27;, KEYS[1], ARGV[2]);&quot;</span>; <span class="comment">// 这里使用的是第二个参数30， 101未用到</span></span><br><span class="line">        ImmutableList&lt;Object&gt; keys = ImmutableList.of(<span class="string">&quot;key&quot;</span>);</span><br><span class="line">        RedisScript&lt;Number&gt; redisScript = <span class="keyword">new</span> DefaultRedisScript&lt;&gt;(lua, Number.class);</span><br><span class="line">        redisTemplate.execute(redisScript,keys,<span class="string">&quot;101&quot;</span>,<span class="number">30</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>key</code> 有效时间为 <code>30</code> 秒，<code>30</code> 秒之后查询 <code>nil</code></p>
<figure class="highlight accesslog"><table><tr><td class="code"><pre><span class="line"><span class="number">127.0.0.1:6379</span>&gt; get key</span><br><span class="line"><span class="string">&quot;100&quot;</span></span><br><span class="line"><span class="number">127.0.0.1:6379</span>&gt; get key</span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure>
<p>redis 可视化客户端 <code>https://github.com/qishibo/AnotherRedisDesktopManager</code>，查看有效时间<code>30</code>秒递减<br>更改 <code>Runners</code> 类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String lua = <span class="string">&quot; redis.call(&#x27;INCR&#x27;,KEYS[1]);&quot;</span>;</span><br><span class="line">ImmutableList&lt;Object&gt; keys = ImmutableList.of(<span class="string">&quot;key&quot;</span>);</span><br><span class="line">RedisScript&lt;Number&gt; redisScript = <span class="keyword">new</span> DefaultRedisScript&lt;&gt;(lua, Number.class);</span><br><span class="line">redisTemplate.execute(redisScript,keys,<span class="string">&quot;100&quot;</span>,<span class="number">120</span>);</span><br></pre></td></tr></table></figure>
<p>执行命令，值增加 <code>1</code></p>
<figure class="highlight accesslog"><table><tr><td class="code"><pre><span class="line"><span class="number">127.0.0.1:6379</span>&gt; get key</span><br><span class="line"><span class="string">&quot;100&quot;</span></span><br><span class="line"><span class="number">127.0.0.1:6379</span>&gt; get key</span><br><span class="line"><span class="string">&quot;101&quot;</span></span><br><span class="line"><span class="number">127.0.0.1:6379</span>&gt;</span><br></pre></td></tr></table></figure>
<p>以上例子涉及 <code>redis</code> 四个命令 <code>SET</code>，<code>GET</code>， <code>EXPIRE</code>， <code>INCR</code></p>
<blockquote>
<p><code>INCR</code>    对存储在指定 <code>key</code>的数值执行原子的加<code>1</code>操作<br>如果指定的<code>key</code>不存在，那么在执行<code>incr</code>操作之前，会先将它的值设定为<code>0</code></p>
</blockquote>
<blockquote>
<p><code>EXPIRE</code> 设置<code>key</code>的过期时间，超过时间后，将会自动删除该<code>key</code></p>
</blockquote>
<p>查看其它命令 <code>http://www.redis.cn/commands.html</code><br>详细<code>lua</code>学习 <code>https://github.com/52fhy/lua-book</code></p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Nexus</title>
    <url>/2021/04/14/Nexus/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><code>nexus repository manager</code> ，<code>nexus </code>的 仓库管理<br><a href="https://repo.eclipse.org/#welcome">图片链接</a></p>
<p>使用 <code>nexus </code> 构建 <code>Maven</code> 私服，可以代理远程仓库和部署自己或第三方构件<br>gitHub 地址 <a href="https://github.com/sonatype/nexus/releases">https://github.com/sonatype/nexus/releases</a><br>官方地址 <a href="https://www.sonatype.com/">https://www.sonatype.com/</a></p>
<p>选择 <code>nexus repository</code> 查看 <code>repository</code> 构建架构<br>填写基本信息，邮件会收到验证信息，点击邮件内容的链接验证</p>
<span id="more"></span>
<p>点击 <code>Download: Nexus Repository</code> 下载，下载之后解压，有两个文件夹，<code>nexus-3.30.0-01</code>文件夹 是 <code>web</code> 服务器 ，<code> sonatype-work</code> 文件夹是私有仓库的目录，新建一个文件夹 <code>nexus </code> ，把这两个文件夹移动里面，进入  <code>\nexus\nexus-3.30.0-01\bin</code> 打开 <code>CMD</code> 窗口，运行 <code>nexus /run</code></p>
<p>运行完后 打开 <code>http://localhost:8081/</code></p>
<p><code>Browse</code> 默认生成的仓库，</p>
<table>
<thead>
<tr>
<th>type</th>
<th>介绍</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>proxy</td>
<td>代理仓库</td>
<td>中央仓库的私有仓库</td>
</tr>
<tr>
<td>hosted</td>
<td>本地开发的项目</td>
<td>releases 稳定版本仓库，snapshots 快照版本仓库</td>
</tr>
</tbody></table>
<p>点击右上角登录，复制 <code>admin.password</code> 的默认密码，默认账号是 <code>admin</code>，登录之后创建代理仓库<br>选择 <code>maven2 （proxy）</code></p>
<p><code>Version policy</code> 有三个选项 </p>
<table>
<thead>
<tr>
<th>type</th>
<th>介绍</th>
</tr>
</thead>
<tbody><tr>
<td>Mixed</td>
<td>混合</td>
</tr>
<tr>
<td>Release</td>
<td>发布</td>
</tr>
<tr>
<td>Snapshot</td>
<td>快照</td>
</tr>
</tbody></table>
<p><code>Layout policy</code> 有二个选项 </p>
<table>
<thead>
<tr>
<th>type</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Strict</td>
<td>严格模式</td>
</tr>
<tr>
<td>Permissive</td>
<td>授权模式</td>
</tr>
</tbody></table>
<p><code>Remote storage</code> 填写 远程镜像仓库，<code>https://maven.aliyun.com/nexus/content/groups/public/</code>，<a href="https://maven.aliyun.com/mvn/guide">阿里云Maven</a><br>创建成功看到状态为在线等待连接<br>接下来创建发布仓库和快照仓库<br><code>Deployment policy</code> 有三个选项 </p>
<table>
<thead>
<tr>
<th>type</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Allow redeploy</td>
<td>允许重复发布</td>
</tr>
<tr>
<td>Disabled redeploy</td>
<td>禁止发布</td>
</tr>
<tr>
<td>Read-only</td>
<td>只读</td>
</tr>
</tbody></table>
<p>配置代理仓库、快照仓库、发布仓库后，打开<code>maven</code>配置文件 <code>settings.xml</code>文件配置连接仓库的账号和密码，发布稳定版本和快照版本是需要连接<code>Nexus</code>，配置的是授权模式</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>MyReleaseRepositories<span class="tag">&lt;/<span class="name">id</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">username</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">username</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">password</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">password</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>MySnapshotsRepositories<span class="tag">&lt;/<span class="name">id</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">username</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">username</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">password</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">password</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>新建一个 <code>maven</code>工程，配置 <code>pom.xml</code>，<code>url</code> <code>copy</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>MyNexus<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.1.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    设置代理仓库   --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>MyProxyRepositories<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>MyProxyRepositories<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://localhost:8081/repository/MyProxyRepositories/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">releases</span>&gt;</span><span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span><span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span><span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span><span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--   设置稳定版本发布仓库    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>MyReleaseRepositories<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>MyReleaseRepositories<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://localhost:8081/repository/MyReleaseRepositories/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--   设置快照版本发布仓库    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>MySnapshotsRepositories<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>MySnapshotsRepositories<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://localhost:8081/repository/MySnapshotsRepositories/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>修改 <code>pom </code>文件 的<code>&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</code> 改成<br>  <code>&lt;version&gt;1.0-RELEASE&lt;/version&gt;</code>，执行命令 <code>mvn deploy</code><br>查看<code>Browse</code>，稳定版本已经发布上去了<br><code>Maven &amp; Nexus</code> 使用参考 <a href="https://www.sonatype.com/resources/ebooks">https://www.sonatype.com/resources/ebooks</a><br>参考 <a href="https://galaxyyao.github.io/2019/09/18/Maven-%E7%BB%84%E7%BB%87%E5%86%85%E9%83%A8%E9%A1%B9%E7%9B%AE%E7%BB%9F%E4%B8%80%E9%85%8D%E7%BD%AEDistributionManagement/">Maven-组织内部项目统一配置DistributionManagement</a><br><a href="https://cloud.tencent.com/developer/article/1799571">聊聊项目打包发布到maven私仓常见的几种方式</a><br><a href="https://juejin.cn/post/6844904104032993293#heading-3">nexus私服 和 settings.xml</a></p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Nexus</tag>
      </tags>
  </entry>
  <entry>
    <title>RestTemplate</title>
    <url>/2021/04/14/RestTemplate/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><code>Spring Cloud</code> 提供了一个接口 <code>DiscoveryClient</code> ， 为 <code>Eureka</code> 或者 <code>consul</code> 等注册中心去实现，  <code>getInstances</code> 方法获取注册的实例，一个实例对应一个工程</p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="function">List&lt;ServiceInstance&gt; <span class="title">getInstances</span><span class="params">(<span class="keyword">String</span> serviceId)</span></span>;</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>看下接口 <code>ServiceInstance</code> 下面两个方法 获取 主机名（IP）/  端口</p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">String</span> <span class="title">getHost</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getPort</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<p>注册了实例之后，使用  阻塞式同步<code>RestTemplate</code> 调用 或者 异步非阻塞 <code>WebClient</code> 调用，<code>RestTemplate</code> 为每个HTTP请求创建一个线程，在响应之前一直是阻塞状态，占用系统内存资源。</p>
<p>多个实例  <code>@LoadBalaced</code> 为 <code>RestTemplate</code>  或者 <code>WebClient</code> 做负载均衡的支持，<code>LoadBalancerInterceptor</code> 实现 <code>ClientHttpRequestInterceptor</code> 接口 (<code>intercept</code> 方法)</p>
<figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line">ClientHttpResponse intercept(HttpRequest request, <span class="keyword">byte</span>[] body, ClientHttpRequestExecution <span class="keyword">execution</span>)</span><br><span class="line">		<span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure>
<p>通过请求 <code>URL</code> 获取 <code>host</code>  然后使用 <code>LoadBalancerClient</code> 进行调用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoadBalancerInterceptor</span> <span class="keyword">implements</span> <span class="title">ClientHttpRequestInterceptor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> LoadBalancerClient loadBalancer; </span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> ClientHttpResponse <span class="title">intercept</span><span class="params">(<span class="keyword">final</span> HttpRequest request, <span class="keyword">final</span> <span class="keyword">byte</span>[] body,</span></span></span><br><span class="line"><span class="function"><span class="params">			<span class="keyword">final</span> ClientHttpRequestExecution execution)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="keyword">final</span> URI originalUri = request.getURI();</span><br><span class="line">		String serviceName = originalUri.getHost();</span><br><span class="line">		Assert.state(serviceName != <span class="keyword">null</span>,</span><br><span class="line">				<span class="string">&quot;Request URI does not contain a valid hostname: &quot;</span> + originalUri);</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.loadBalancer.execute(serviceName,</span><br><span class="line">				<span class="keyword">this</span>.requestFactory.createRequest(request, body, execution));</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>看下 <code>execute</code> 方法 默认引用的是 <code>RibbonLoadBalancerClient</code>  通过 <code>serviceId</code>  和 调用的实例 <code>ribbonServer</code>  及 请求<code>request</code> 做服务调用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">execute</span><span class="params">(String serviceId, LoadBalancerRequest&lt;T&gt; request, Object hint)</span></span></span><br><span class="line"><span class="function">		<span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	ILoadBalancer loadBalancer = getLoadBalancer(serviceId);</span><br><span class="line">	Server server = getServer(loadBalancer, hint);</span><br><span class="line">	<span class="keyword">if</span> (server == <span class="keyword">null</span>) &#123;</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">&quot;No instances available for &quot;</span> + serviceId);</span><br><span class="line">	&#125;</span><br><span class="line">	RibbonServer ribbonServer = <span class="keyword">new</span> RibbonServer(serviceId, server,</span><br><span class="line">			isSecure(server, serviceId),</span><br><span class="line">			serverIntrospector(serviceId).getMetadata(server));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> execute(serviceId, ribbonServer, request);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>配置 <code>RestTemplate </code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RestTemplateConfiguration</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@LoadBalanced</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">restTemplate</span><span class="params">(RestTemplateBuilder builder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> builder</span><br><span class="line">                .setConnectTimeout(Duration.ofMillis(<span class="number">100</span>))</span><br><span class="line">                .setReadTimeout(Duration.ofMillis(<span class="number">500</span>))</span><br><span class="line">                .requestFactory(<span class="keyword">this</span>::requestFactory)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Some Problem About Spring</title>
    <url>/2021/04/26/Some-Problem-About-Spring/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>看下 <code>org.springframework.util</code> 包下的 <code>ClassUtils</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassUtils</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">char</span> PACKAGE_SEPARATOR = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getPackageName</span><span class="params">(String fqClassName)</span> </span>&#123;</span><br><span class="line">    Assert.notNull(fqClassName, <span class="string">&quot;Class name must not be null&quot;</span>);</span><br><span class="line">    <span class="keyword">int</span> lastDotIndex = fqClassName.lastIndexOf(PACKAGE_SEPARATOR);</span><br><span class="line">    <span class="keyword">return</span> (lastDotIndex != -<span class="number">1</span> ? fqClassName.substring(<span class="number">0</span>, lastDotIndex) : <span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>如果 <code>fqClassName</code> 参数是 <code>com.java</code> 那么返回结果为 <code>com</code> ，这里解答了我一个疑问，比如 <code>Spring</code> 启动类所在的包 和 <code>Controller</code>包 不在同一个包下，导致找不到 <code>Controller</code> 类。这里写下正常的包结构</p>
<ul>
<li>com<ul>
<li>controller</li>
<li>model</li>
<li>service</li>
<li>mapper</li>
<li>Application 启动类</li>
</ul>
</li>
</ul>
<p>如果 <code>Application</code> 启动类 在其它包下，例如放在 <code>app</code> 包下，那么启动会报错，找不到对应的 <code>Bean</code></p>
<ul>
<li>com<ul>
<li>controller</li>
<li>model</li>
<li>service</li>
<li>mapper</li>
</ul>
</li>
<li>app<ul>
<li>Application 启动类</li>
</ul>
</li>
</ul>
<p>那为啥在同一个包下就可以找到呢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(Application.class);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>来看下 <code>@SpringBootApplication</code> 注解，这里省略了其它代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ComponentScan(excludeFilters = &#123; @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),</span></span><br><span class="line"><span class="meta">public @interface SpringBootApplication &#123;&#125;</span></span><br></pre></td></tr></table></figure>
<p><code>@SpringBootApplication</code> 开启了很多功能，其中一个关键功能就是 <code>@ComponentScan</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> ComponentScan &#123;</span><br><span class="line">	<span class="meta">@AliasFor(&quot;basePackages&quot;)</span></span><br><span class="line">	String[] value() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里 <code>basePackages</code> 默认是 <code>&#123;&#125;</code>，那么默认是什么包呢，先看下 <code>ConfigurationClassParser</code> 类的其中一段代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> ComponentScanAnnotationParser componentScanParser;</span><br><span class="line"><span class="comment">// 拿到该类上面所有的@ComponentScan注解</span></span><br><span class="line">Set&lt;AnnotationAttributes&gt; componentScans = AnnotationConfigUtils.attributesForRepeatable(</span><br><span class="line">				sourceClass.getMetadata(), ComponentScans.class, ComponentScan.class);</span><br><span class="line">                </span><br><span class="line"><span class="keyword">for</span> (AnnotationAttributes componentScan : componentScans) &#123;</span><br><span class="line"></span><br><span class="line">    Set&lt;BeanDefinitionHolder&gt; scannedBeanDefinitions =</span><br><span class="line">            <span class="keyword">this</span>.componentScanParser.parse(componentScan, sourceClass.getMetadata().getClassName());</span><br><span class="line"></span><br><span class="line">&#125;              </span><br></pre></td></tr></table></figure>
<p>看下  <code>this.componentScanParser.parse()</code>, 这里涉及 <code>ComponentScanAnnotationParser</code> 类，以下省略了其它代码，看下它的 <code>parse</code> 方法，<code>declaringClass</code> 默认传的 <code>sourceClass.getMetadata().getClassName()</code> 也就是所在的包名</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ComponentScanAnnotationParser</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> Set&lt;BeanDefinitionHolder&gt; <span class="title">parse</span><span class="params">(AnnotationAttributes componentScan, <span class="keyword">final</span> String declaringClass)</span> </span>&#123;</span><br><span class="line">        Set&lt;String&gt; basePackages = <span class="keyword">new</span> LinkedHashSet&lt;&gt;();</span><br><span class="line">		String[] basePackagesArray = componentScan.getStringArray(<span class="string">&quot;basePackages&quot;</span>);</span><br><span class="line">        	<span class="keyword">if</span> (basePackages.isEmpty()) &#123;</span><br><span class="line">			basePackages.add(ClassUtils.getPackageName(declaringClass));</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>看到这应该明白了。</p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>json 处理</title>
    <url>/2021/05/10/json-%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="cb08544bb19904a01ec34cabc5d9e85f58e108628640f0b82dabb47f3961ecdd">9943c1717e2782a5be9ecb675b444bc9fb48e049bfddc91202fd6d059e1a4d5e973c33d2ffa19a01370f744b7b5845adfbaf7b3dee729ef8adad1bf6ff0db3148090605ccca2accebf2b23386aa7d6bae43623961b61a80aa02144e7c353070b787a8fbaf3d987ebd447bde6cdb936949bed683d7e4867f4d1fe674b9d83f744b5ac49f3c76d0ae93db4b32fabc0fbf741f11ac61b079b7ab3e15ce5f1252f5ed651338bff758cd04db0214375e46f4070bcda6fcbac8f31ec650b8a62c20705089d03190c5244ff132d0eb7d6f8189368dfd5b8738064a57ee11e1c1fd372104f0236310c70a94aa28f8752c7f98fd824a5de537bba5a5be4eb805f509a4b59a5a949defb0da991fd4c17d2ca81b2261bf6fbc3d58607cce9254ddc207d371a2596d443504971ecab5d1a30d4e427d96ae638d8bd036dd5570b5ab93bfebc625320b2615fd0e27a395320472bbc02b66061a3d25f24bf17daf0240f63f771aa8f8d89cdd89817ac507377e09677f08803598c8e4e57ae48e86593495dd7908f18fa4f7d0323f865f272e7ea609daba67452564daa28d2fd569bac6d9faa9a1b98d89488badfa2075fc2844d7e341977aa19f38308c842e4eeb0aab751a62e2c5a9c81f45cf203adeceef7cc4b77e35666abda6d6be2eeb37ee0e491d162c2a6e51dd9fc8250013ea9b31865bdfaea12ae788e0f41c7534110c2992de2e1fec9c02131bcc116fdf51ec173a73729c0f7c10bc76ad75b3aaed96f44db86c05cbc9811ab9adeb840a1709b11dff1c57ac89021b91a1a91526fbcb8eabfbf8f5826efac20a5f773faa110682fe1136d459ab6dc7ee7e0df3474cbc1d06699081429b4f4e9731f0136f3e8021ace0d883b01a260878a3cac1dbba9bfa0cb3b95d2a315c1fd20d3c9f55b3c75947644b5aef45e349b6d63ebecdf14f37ba1bafeab81a06f30894785e835fe042d22ba060b4df90f1ad364e6a34ade703629da2da013ad605548301af1d1bbe9b58ca8e072762984a12137211b0fa7f085b7bbcc7c10070ed67dbde33adde8d45ebd2a219bc35c9ba8eaa2487a2480fb64bd1329041291d20637a2584e65e3654965edbdf263d2091bcff20f79f12165cad7c7d5f2e7bd3df61cfb0af35467e05f7274431428676db2e0ea21f3a81b695a62dceafe4edb8dc063ff5c9b99fdbeab7e5f7d950079eed96ab63945d40d2ba19c714e3a18d13e0dc421d35c6ae263a954e7145e37dfe851b4cc802cccb4dd2a7c472bbbcc23efbc2754d21fef82607b8e58cff2f19dd075714cebcc18b069302fbb9269528b02647500c617e708ff20ed00d6d10f0c3d85428072fac24b3f5c9ef906464b6e5a9f91f4a13764fb221acaaa4b9fe7c4e2938a76a94ea34aff519912274133385b6c64d4cd0caca267548d2fd344c76b791773e20976af3b7c2eed5ff7650cf031d219501f2ce4079876b47d437350ae03975731e41416f7be3cc5450c47fbb9f6cffad1de7bec463aab8789b18acca451e229bc5208920ed1d7bb34ef667de60bbe48d2d57bdf2c0ed10de8134449e1d8445cf0abf3f5d989a8f1ef1eab2c4c23a0c7b5d1fb78c2a4079a66eb2f24017515ec96511f774c924d825dcacf2a9290aebaa7bc5afbdf5d4038f1c429b8d54c49e38b34d1c56c71909fa8fd978a6a549282eeb87b2a1ebb3088c757668c76013c5bfc8e777afe031ff1a835d94d31251a1c39340c80dc47e7d5fd1408e6a0bbd6710b54841973e0f0c2ae1b109902a5d6fa086b68683835bc3633ea2e8a33e41a09f151a701e8a03cbc1fe978990df22c911635185bec717534b81fa9e91d5fafeb1f7ef66a48718a5b5f13f539a1a2e3877ad73a14402abdde2ee2ba16a326d0fce30765fd42ca8d6fd5fdb305a48c5ef14d78ee38ae7941268552900aa9c7c30ea0d18e890961e92a54321f94ad94792d66feb640a383e8d92f6f7ec398ec445faa95f767c160110923a79722ada8c83881ce9d3ddb520a1c4f8e5068300fbe641f9b9675fbf294a7f2a162515bcd32cf11e97b567189ac4b7981e4eb100f9032d27f04c230a13fb4a069513bb98e254346a99459c78c42ee3cce298092946515db1d31a3d45b9a15c7a03eedecd3bf688e18c2a6ca3bd5ea3a210179bcdc3fd7177f81bf8f60bfea20e7bb1e038ba5f227d9f80525c324433b2ec3fe578a660182ed13acc49d6ce00a44ed9c939c234dc4e4dcb9e08f9c52c54c59ce6d810a488214f38df54fe688107289e0cb2c826e017357f9d4d44c2e0dd1cec439a569c7a64c763b6d124879e4894a62034c6ecec81befbdbb3b274d4ad3c103a696fd83ac5a33d5a2a3a62090cbc5a45f342f7e89b36b9791e0a91f22dd095aa591460c78275393544551f801c8d4d18831181a1bf901f0bc3cd64fb918a1d8b81e4b8400b6c9800c253302b599d6a11a245c01acbe017dc095b1ff9145d67157d34156982f8a69e7dca6151e8b544eb70a4ebee74addf7f98bf6b689c32748ea24ab158aef6dfa200d1eaf0890f694129bf19cb3a37d2be47fa49c843f82ff2027a820f9f1d98bcbd2ab1f989a7e3d6a8ab2603e7344995c43ef3d542d38a251e71c544e0582f6189ade5fc2bc1640e17c4b8a229d972ce39a1e8dbe0f4dd58b8f0a3789aac0c03d1227a1eeb3dc8149a0c2919cd1d99095d26d867978947fbcbce3630395d3aad804bfe0c38dbe7445a2f85d790846e18ef0d705e5dbce516378e35bdff70c013db7ffd5c7bd9e02eb397a45a64892e3aea8e159d05d25bf4ceb698e211679995ce09448ef2ec831f09e30a75a512bb07e55ce3b5c136968dd9d7b0b411e62ef90f7325b10fc2c86e43da7b5555023bca026e5d8b3294479187cae3d4f73be51a405df255271e70a338dee18efbc1ae2b8adefd20f7ea0490960f534d7378d25cb5c5c30957615ca398baff865a24569155a458de4915263e133ae73f3b0fea08cdbca280f6c803ebc85bdf7118c93c260187d70b294bd75bc523ff78c9dcd823eb341ea45947f50430c1cef6fc5eb8e090568233e7b6311d290bcb5e7c621777962b900e295186602b169abe6f049428091b2d7a749fa8f73a7b40dabe9d1e3e107bebc514e978d88b4e6dba70383995ea7a8613f7766928773200f660509214c06a43e482513064af653851dc432fc30d78e16df02be385de1bc1369c94d24700177d2a1a1048d2bbf297032698442cd4c9bb32cdeba9a5ba3febf682e2777e03afad3b9fb72b5d9030ee217dbf1f8367d4c24c987730c4df576e49a2da0032906d04195063c1851abc03d02540bacfa2c548dc9a7e49f5728b6af3471e15fc862c61944fd81bfa643a556f8a33f2a1d1a5b97c703724a60fa31e33895774b799337b6bdefd912fdd14ff7bf6c6a45bef3f8d0cb077cbb12080acf85fe705974a271fc565069422956c794d45f9e17198ef6285b2d9dc0f13e2234fa853f407509de6c55ac8dfbb1bb17ec71f21900c805a9e2b84864292e099abb41263345587dff9fcfc2197bdc847c3d6605105a0bd1f042e3b8f96dd7765007f6616c4f498a5214a813c8b0e4791a306a9aad91ced355a3cb6d6df69389d8fbd7b56e8106d08e24c7ca95acb5ac66ea3d837630b8ac0459dfe01751a730d68fa88d9302691c00ea9e0afe6a0380d2eb80e2b75a61f7d7fbfc447d9d5aa640219b66e4ebd112ddbede00fba08a378afa20974fad5cdba3dc3c0810f28a7223aaa09d182322510de49ec953ae42933ca242ccf9485b963721ad53d8333040a3631085f5638d4362fa1c95fd21fc7da9554d1966f6a19591957aa34f84840d2d3162074a7578e789dbcb02c22938b42b13c1801d5df14d198febaf512839779e71b711610a8f7ebb8e2463aa7db15c3f68caf8108b7d9260ca97e19147cf0ffe0bdaa44f50091217ec3a6ff0d6ce9bb17d785f933018b885126a4f3fa57640554fc04421ea3c5fac9a47a7f6b5bd5c594cd73e537afd1265bf8e5400f0b9d91875d77f52abdc781c151a580a294ab0c0cb9f0c2283f8f92ad15b9d2f1366c03419962dd5389a288448f156891fbcb6883cf430818e4684d896a66b4d87cdb805b382d23b57358ca814f4ab12545a6b6e706a27ff2ac42953ec9e1a29a87a5ca66d3c2166ffefa0c57248eb68e10e812220f0d774ab145c398a64ef932094e4a3397af9f37f1f788b0b2440417abe99e3d34b5b040b90492c2a21e570e93e7272516ab00cc8c74986d45a8f0979ed39e356fa8f046d001b565e57db539f2380544960f5f6146734880716e3a18488a33c730c4bec0c91f18f469cde27b4b3bc2a3f3f14e63e7dde2590eba6a7af92d37e20e0af1698eb56feb4950740d57dce689163e6fa184bfa12b77f97e232478f245c6a8ef89dcb37362d96e249d666d1bda3ce1c36e1f2448b84f321bd7d05176a1b0a687da9e671fcdebbf707990ae1b5ccf23d454b557a7ed12664aadda9661e02cba601331d38e1c26f16b46006b7f811acabb76657f0038cb61d0fc25bba9a4e656744913eecb50bfdd92c269d8f1b4c34d1594b34191316b82fa38ccd71056900923dd9560fd379e3ad6424a6c191c64a04c816eb98304d2e8a06e1632375b13014aaddcdb7c21aa9770f0ec6be68428449385e6e40a1ab1f3cb77149679ccda66a452cbe48a9d06b6a3938ad37bc30127254eb0cd964ecc329a8be98dd97a1b78648574b689c4c25b4380e6886f3d8052b40e92dec565738ba6c6dc3d822e0cf133f9ad313b4d89fa3db80bc615b9b720ac03d95159b9e8a9621885c39e8fa0b75d9eec3798138b98d7750b773d95630e76a0bbcd352afcc5707f545b0dc4b79210c788d67753eb6d294b81ce9224529aa322877ebbd74b35daba2cceb2876849a2daeb5f3a4b74e418bf261e74110869a04dab09164a638091299d1bc1d5e94adb98ad3a51b44aa6b7104200bb4b09e911fa7a1742b58a833e2a7ff7856da2dd7d9282547357b0a2a65b75f091185eb1746ddc6a685d368fdaad6b631d2ad4658876a0523d39eec0bbe151a0d5ae42f5352e7bb7f3547ca5bc66006a1b8f5254b28660f38a92d0a3e11928a345b5de8bacb91ed8b89e4e2a601aaa509e8e867185fef29ac6e76d23e8cd84d430fb89ea5c368ca50884694e6c6c2f043e279df93cec813cd14dfe1f9e7e035160e6c91a095174977f817ca0630a0edc7c5d6ab3f831cd265d3a058f59ef9fc3ff697b64ae16df3e10543521db096fc1b8d58a3712cbb05735eedd596d145ed4cdab616751fdde60a00da27cb10cc4e1c0ebac526d399c3c80af8131dff86159e36a902a8ac3a7b5b52f3c661f7946710390a39bca192d5ae0a96bc4edf70304abb0f9e4baca4c436b25734263a952e990f784cd706bbcd98cbc807098ad30f84b47d646ad91a249753a4d3e741fb26f8449147b5fcd67286316bea373caf6a6d3450553375444a711faaccc4406d0cd8aee65803e243869aacf71afc01dd7440ff897883ce4289e3c7252c4e6f3ab583211126f0c6c90359af902eba4599b7b541f261df708044f08ad8f08e50b1d45556a8539c1d32d4aff0e4a8b151f76fe327792c647e32a47b72925a5d35bc4a79a2a5e05644866aca23990dd3858e777db4539d95e87aa503fd4e59a2b1d933810a14a703b563a6a197fcb78da4f1990d61eea2d9c457f238a029b39d7d9dbbb46e6ba2cf5521202ce5f3a394d56d0b0d4c28c14e4c3923e40e9acf79ea4f2cc0443183ffdd31661ca781bc9234ce473569737450b5114c505620195e46174d6ea01f03f6ddc45db80a8341c5abc890c1008dac1dfbb1f349c11bd8a897fb71aca20fe12e49d930aa617455916201db1659679396c370d6d6921482e7a55b10fc8a2f291a0425a0ab995b20b5e44c2c36f85d3352574100677d6d2f1607bffae8855ae72d475d5a0be9c9ec135af16bddd0bdfc4331b45cfbc886092a43ac5591fbe9cf212fbebcbc342f77c2a7bb0ad4dc327f12fc0cbeab18bf6fa9efde4db365e7eff12e1aa82ca3d9d44a6002c33a7c816e04b8d4323ef72e181c968a52a55e97e9fd02cea8138700f363c8233b8f0947c779d037f61ce9beb66922ea66baa555f414d0bd3e8dbdc27499e11f2ea3d71690e0ea17671c1023f049ccfad41877de5b799a3d8ce493440913516cd1813c4c2b106fc8ccd81c335eab83d9d35a0ebd9eee32b6c17bdc9c086054903f480b644e75e7d61b5bd29abdf71d039899cb1399fbd0c6d45ff119316a9880ff6179aba6a6cbccf5a0a0891bad3e1d69e65b5afce841a0f921b16ba651a0782ea006e7a9b762ab0e89c6f79bb007734a2b0c51fb1bc78cdb76dd08ab26aa9f30ad26388aa7a88c69ac57a8d65bb5046ee2a4b98abcae5954cd62965c1e3d403b4a4e4c7dc01d44d2aa7fdc0ee798e89562b327489af06b5db882eed4bdb7c90f07d8697bb04e674ae9f50a1e36e75521981f60acc9a3aeef5c4c5cdfe8726784f1f354a2bca196c9ef9821733e61cdb0902b73612a08461e958af9b866efd55a600c659e87cb41600989c35815485586154312a0cfc2c172df1fdfbee4c134cbde3c22cef846e97c2c5f50407554d62db88d70466763f68ca8e5d656b1782a0ba3ce60518f6d6529a979fd422ecf334a1f2d6bb98f22dcdc18829f5f4a423bfb71db0b6b2cfd3facb548d85f5b81985f9acc7dd06fe184425594dd371292a08a425a08df60611a2f899b6a9a3fd69083745475487699b97681bbc83cd19c88357033ef61c3b3f5f60d1449da09b2f8582ae3083dbaca435d56c1c357b7bb68bf378f97823f6892c01cae04c1b0354ab30b89b61e37b71cec76eaa58fcf296680cb97fd972003b692faf8285e2eea70a415b51e390df9dba87e2d3539b5f7a9e70d50ea367229918f32f5b2bc518070325dab7931b5fed1265998ad30d82ae892a855676471ba31274792a0dc055a7bec5f5db028f3e0a872d204a08ade9a61aa199d00ec7b4d978368321c861e5d6b74215e10943e753876b9e96d4685de507b165cc56780c9dc378f66863a518d918729104974f45c536a8d82d131327409cae59bd771dfd93f8b6e483ebe94cb40ed9f30a340689d25c3a5b900f06605df834c39c6ac85e3a9ef1e688f14df519d8a17a7e7f13e1fd94a1ea43aaaacc4aec80bde79345902093a4d0bd7c9677fa3d01f7e3beae4422af3248b30fca46543db956e0c105e0074979b83ee45999d1852cf0859ba86ae77d83689a9397700197758d14e1dacdd1ba8b07adf55d56b901d5851b77410480fb0cf2b1104d30b00c2db33e15954d28c703caffc485c4f50466b38af2dc623d7a8a8ebd13a76b866e9085eaec3c01a4ee0bd0ab3f2fd4e8ecc838a02b2f11db5abd0a4c1505f41107716b7fedfb9c05301a49b07356150e906f76e8567ed2c55421fede0c5f43b0571d02efab6c3e77126d5ccee9e18b0f4379fc665bf01c9c9f36c014ff3deb5c263e9eb0f284055efd027802e2474cabc340e4725c638db96b7a210189e8505bf2cc5dfdb569b62d4ffbb8a1068009958001951b08c0fe1e8f6e9c8dd999e5c53a66d2a0be925af9f6e35ed4a54cfda855f8cb35d91d595006c5952ea4f07902b9c13eeff9ec23c0d412d1fa36de43cedcf070aae7fb3a9542daf3faf0c1037d56eb6126909713474cd6df0939b6d51ac4596faef98fbd5d71d7727f4c51f9dc61a4a27bcfe6a98ab617395aed40afc176c8cbd3e7322deb2b462d782bcde154a77071ad9c852c28f6fc308b386478e97ddfacdb1b8eaf9b50c6d774b6c5c428f8d9d363553359cc1ff1b8dddd2d93d453f0e1048a3c97280053e914ffcd93d4b89680b780cd6141328afa3596d7392aa6b227615373eefa99f81fc94ece0a676250aa2e5c572da12a190f817a29c00028a0a1a1b83d0f26d0552b89f30a31738eecceb1bbc115dd7d1ca117320a087d02083e34d3a59f3167b373c53e5a28dd6d9878d3f0cb7d11c0e0c44c623b82f982bde957f3060897c8b9ae426f4dcfded0acc7784f0fad8a46680d9a90ea12e7001a1627956398cbb27a322c5eaffa2abeaef4b73fec94f90aa6dfb3ea0a26adbbed948c1db9d00d1910e79a0cfe9b364bd2900dad418224f452afdf68b0ee88c9cdfd91e2478de8fcaffa9fe9a35d4ac77f8ace6d6d389a6f52ee1ab0cc77c8474c8f5f44ccca9b3f6df56e0c342ee9555c34bce6f78f197a6e415f736c8191ddf1b6c2bc215bf3d977ce8e7dd5b1a548972aef26561f1f68ea1874281a011e80d826cc1317837e658ceec4ad628dccf6e9160340c485417bcc49373ff41f279858ae44ca3f370ece841467347945ffe4bd0e4539245e5ad5b48c29a349de13c9755257f4eff220e74941835558d713796a2bac8d04077d0e85c34b50e2a2ca3f7b7f93ca0bf2855cae7301165f409972c2e6fbce742707415c4db80908b3d1524be85c549e26897de4d23454c251a152b67a76efab11934ce3c31cc977e1a77a45061012cff476929a8f39558688a95609185f2c396cea1401dc545a7c12c37edf6220728f48c150e9325db8360f58499fac6b71cf93ec7cb28bf9a9aa830bf6907e42577a95fb27af64bbf13b829f8e658a5b718f8985125859598fafab8dda92426ce3973baf913cf3e7027f3dd37ef9995923d8611402af673cd6afb932f377bc839e7a55b39d94072a0b58e64ae5ced5861252ef140ba0934cd35cc9e01687355b7acf281781c4705c4a0a6457cfece69f9d3d01859c7eb0bd5d839c00217923bdf2ee6be5fdcb98b64d9ae62b078fd1bb4f8406b70e3e97cf6283a4d82da2058b5e638953ccd26f285abc28c1fde6806efaa20be1d4d10d060f13a2a4aaf77773cb602f9d739e149fd0ef2c1103ef4f78437c7770c1a3625fcd036ed3e161a2f1d080b4157a366c0f222d971a0ef2648d69c250c4bc4a3b882c8663385c82bf986c72589d46d12a32f4105a5a3d0cf9c27390c0c3f9b797ec1ee10ba566160b764923584fac458bc11a4902dd7b41d61c484ee2dee3daf55df84125aa776dbe253858cdc6a680609b0aca4fde5091101da0c9d6282488c2e6700150e13ec69f5e6169b9292fabe4b14e13f3bdc61bdbcf78ca2e909813198073823fd0f90ead3a1148b7e21c35755a46c12b9160c7f2c95ee2f4df6cd441730280f8c3290098a4a7f6723301c044e16096e30649187417177a646f0421d8dc7bd20158d6ef959148dcf4f79956074a93fcbe2855a836c5edb9a26d033b4369e70b7eca22808c6d7cfa77f8ee033d47c34e163da82f828e3010a4ff38205e865c3ddb23581b6e5bbc7745415b6472ea02ef5979d1ecb73eff9dd9aba08809b7a356c2227f670e870bcfbd1c3d6d6afd9d4ff1b46fc9c184a524f92bc1f10fe9ccb949bec2b5d4fe2cafe09d8d14e01701d046a245c584557ed5a94510e81668a88495ff5eaf7ce3150ce8fcafe6d5e033c1cb1fe42ba9cbe6e726ef8eab21681c47f8b133e154e1a156a9d5acc31ee5056f47553ffdad5261341542bd718172950a1e085d27154d8009990ea6a8decaef50e617a4a5510fbb4f7a1d6f8f9a90e38e12ea06fad1cb3e8223345f5b3d35180997bd07ad6879f484a964c6bbe42b56abaeff5cbea0e0cfe8c65f1c1d8372c670bb1c9bf9bc58ddaaf5204e58ff8e105dd07df7f7b4c848471d5524671991cb75c9b98ffc88c9159adfc3e28e5711272735b9db3032bbc5f55d3dd403b34d9de3af83cd31014042d6c54f3b94b2529c2e98d83243781a2152cbc22e8c209f27af9b5962acbff359f5b360e6038d5e2f7352e8cbc9a5ae2ebdfc38e0db2cd28502305870ec296a0c45324a0384c1328bf474f0184ae62d1e39df91b220d23e783ae03d528d52678c6bd912686a72881ac654791011b13edda0c6b06d8ce939e90fea8c7f8f87c623730d74f7bcbe24f566376ebc3d5e10013093f192bd0bf382c19e7457fa5c45a5ad7cd98dbaec543bd13267f6772661f6e6f194a28250363bb79d1f948e78d179dc49d6b1ec7fe1eef73c53e366ac0c9b2d724e86a5135cb2a892af8e0610f826b0b6e432635ce0ec4403dcc3df9a96cd33150ac477da74146056a1d6a0631a0a0026e0458dcd3f964b21870f027a1b536391652809538fb864cd088ae858451cc9e5fa9bd74cf502671ac8ee08bb7a11b0997274eaa1bbca2f4366bb5095986689960f2bcfbde2c15d65b8c3c4bc35d2070dba7a79bf9f23e64e9f2017d795c4f8138b03dce837c0d6f64e43a1b26d0e1ac09c350b0cad8148451e99af7f32ccd56e3266ff1dc4a884ce09e797fa951380c8d5e4def4d26c83ab8c02c9d7c376cfa9215ce1f3ae80b7a1fb9408cf19138470ab78aaae9b189341a645ba088f2eae0b9c5ac664f36a48e2fc0159b4a45deb4cf46df9d4614b877599d47c47049bc7a9ab418843456685f58e396cbde92110d6853467fa333e7609633f02c5c47f4eeaa6260218e21596579eda7cf2db4db360529da442e53631604e78bbe78eda628181008aba9ea2f5b33c2c4762a687fa75ecff8eba32caf611c54b91ef7fb5343e9481464f4a9ee6de7ba12e4d98f693fa7780c3217a4e70816543fdfa3be30f637a5576a650caf8ee8a05c6fd80d92856bbb928a23e0b45cd04164aa6e087e52aeadad7018b5d73b07bb02dbdbf456f64cbff9e4b95bbdf8899fad1a840459e1e96b7c9e0c73e81513b60a1739c2b35cf88dd686becdc6eb4d283ff6bfce9f426aa281e0b7161c3e2b398537c3aa7f43830dce7a31ac12d045f24a7fd370acf5c341e3921570447ce468f2daf06746d29f14b3e062ae27bdf6d0534cffd01a54ea687e18b20abc7853b0629a73b12c58e36e0357223ea85ea6b01d78ad441859b7f1fe5baa50a06e5e12c7dcac8cae969af5a8644591caa26e2bcdd55272b4e9a79cbc69f85d79d85066a337251d25106052c0a7b67d8de28567e40e9f094cba56fb1e8347d84a073d23dd5a8c4db7dd9e7657a460e42e2d6dd82227da2922d6381e62c84dd6e166e1c15faf80222c7d7ae56f7a0e8d508d3b2d69dcf9c79ad3f260e405339e77e45ef66992f640804b73331676e34db31f4433c8a2092c93d871bb8c895c1eeb644e41f7cec441c147f80a4fc7c6ffc750faa8e36f43396efabd3b6c997abe995e0440eb21d86402747e48e14580930ae6e834976c85be9212615f3d1d959f83d537db62c9b9ac5819f92526d0b4fcd6f0278404ded423d42db809a4de32018cb6bdc43f0cdb9c54c3789ed067a4a483599b0e83892f97bea58c64d39303483d2ab7ccaef3cc7612ad8131309ce8071ada44114703dca8a626f8af35397e559e6f02a499b9135526574e6448d8ab8ed1fa9715f1d10d6c3c5fb7774002dfb55b3d5514cd845f0590007d68e551e77eef6b45214f9e126adcda2309448315b218af3a6606f713c8a834ecb3e25e76c75343c5af1095a2d994bb3df157b79816a8e8c346d2b6c1f2856a8517bb1d5b8769fd66cf32f0b59bb4e2070f8bd21cceb601938a5f301e57bfc65623a5df769c48a48634b0a2011137091f77b80c3c8ad5e84bcf66e25801fdba227c55000d736b55f88e39bd31e366e37d4718ad7f3b63e0783a6d7362cb2f2952bb0b906cddd20396e6b3370ceedec9e1a43ce282457a9aff2ea534cd2dacd52614b6b24dc4932d5ada93fa31c3e815c636ddbbfe3cf9e06c0ca34c155cdc0944bb059e41fd748d69d30cacfc880862e49bb188ca2f1c18f0c925a6d35fbb77aef95f9da0faae7a1a283e415097a014fea9afed822d95a4f2766a5627c9f7eeb52045133d0db287cbc5c07c19507288ff6607deb749f49c63646553ec6443e94c1c93d7f4dce3b9a666d825b7ffe6e583a8f9709c7b5fcb6ed8d8408188d985354e830a171f3a00563acdf469f6ebd6d6cf7f9773437ca8ef1b1959cbacafd49b4f45576ea1b03ed28ab58c7aad860e725fccbce23a0cbbbc5be5a0a4431f8a91ab21a3305f6057da8f9f31a6e5fd6d958305eb397d0bae48212787911722b049dc623bc61c321b92b7d49419ca60beb0aeccd130a5a446c88fd539c8a038de4ac463642fa34e4b5ff6f468bbb3395b7be903f2f6b91f94154ffd6ba1b4afe0a930047ddf3f5f847aafc78eb3d3bb463797d7f3212268a0047f5d3f461c71b7aa2e5070de4ce3c2edadb07e9bc50eba0aae3c27d6cd6000d40bf095490eec8f106ed519802c7cf5940eff63dd49272177f502168efef9f33d209815c8668606f7dfe1779cbc5c0bf8f798866fa5b3be46ec2ff50b4b3f25f498b19ce907f382daf7f678ec9d3d3c97394814cde607136d95736a88a0ed75bccbd64b58bc2534cb6106e81b0b733954ab20f2f09f46703d8bf8e3dcd181b3f01ae9ad803dba1098fd17ac06e82809724db267709766304bc68065c6e2e0378c89d7b7f26f84ab179ba2e99022a0ac0b0b300aa8bd81f009fb3aa30931e6f6573932a1d209ee1499bb8e34adf42b870a26602be5ce637dbe3a197396cf9e88105bca0e71cb1e596ca69330dc94c13a2a5c148aafe710c0d4e23b58b409565528b686acb354739b5efa6c8391bfc0ef2cc165fb9a6d70c755cbaab4439c5acfe3e52971ba6f5887a00167a61ad68cd2176c8adee531ee7f0eb964a545baf4e9cb2b2de77e1c164cd71d048bd340be0f62bc68b379e999f8c313ec0ed53b9d831ff9f650ed39438779e3b97e87ded1089db0df9fc41ee7dd47551cc8a16aa79735a0325814cac8dc1dd4021c8122509c1d3738780a2aa49bf5db3a46da43658ee0dde3781975c8e121374349661cfedeee754b166c5de1b2ac82c0fd57c3c10229a63d0b6e7d650fd89483fbea8c735712e0d8f32bfec6c3357dc0a603c1a0799481e92bf7679f42e8ced72cbaa12356d4db0a7fae3a62190564addd23ec47495b204429594dd4f1a43eb32ede9ac1755736b2b1cc7493614ed11629cc76ca33538cfcdfe93eeb075583ce1753f27f86d56b16e75c70274d8106713190615a934b71d86696de269f489b7b56de1d61eda2c1b56a88ca9d40e8ea2126d73f66ac224f56c9ebae1dcba309d3d4a9a2edafc7d2db9f3f82e7c26b3a96397a1a9d9d81f0b376cd8cbb4226b85a216a8d56b28d9de9de143d20215562a5102daacdddd8532850afc611d64dfdd1ac42724e07d050700d356aa442e8c741d72dcd2637eadd8ae71bc6be3f29c895b1b2b4cb495d8274d89bc7783d07a22ab146aff626db8eb21154761ca11257dac0ee719ee513b984527ef82ee18e311f43c2d62766890adfba1672189507e2db4baef6ff3c2582e2ad79db46ce64033075d95052f73417aa16eb4b9accb954df734d97d819bcbda07814a5497f36140c5b694c1242b250e244196093bc3732d2508439265229862c750d8463295e152b50217fe74a581bfc97507ef505fada69ef6d66a26366f85b86daf3179a6c026696fabf75451290e4e8e3f6b9b9a5d4a6c267e996b2d895d492e256cd6ccee17f51a3912a9b201cbb5ecd9dfb7435fcf57c7e38e540664e20b61538b97389a6bdd8d6967f59232d2744f6751bdd2fe1fe8f32762d0bad730ae59a52efa10b7ae1c175d350a30115dd492337a52f702a24a6bdac38e4f219fd18811a41001bdc83874c6bbb9e7e344d2f5a0570e2c6d2dda17feddc4773d9176f593f3133ba897e71a369750209f8abf705439c6ff6fee48634d3b1fdc5a2937b41fa425922bc4883c336b3f33417ea704747ab92bc95deb541825d5d002944f311c9d8536c35bf844048da04a818628e4f5297bd7641745018ea655ba37e28a76274ef5d22ea93c70f38ce74dc87744e60ffd9db817ff26fc95bbf53deaa06460c0b2ee84987d6db521ae7e60e64a08c19ae377a7f9ba5943ecda082f534a7a273e20babc256f348409ed7afacc8e7089432d7f034500e65cfdf01ab3ea2998a015e190d84d5db7ea7eb45b87267e036eda82c42e6b2d9f51f19c892873de6ccb2ef68db14149f80f09aed34b6be2940962532c5cd45f6c4bc6fc43e6d5e9d4f43ab1985863ecd8d768fb8385dbf3c9fe0409375fc33de1c4e81a87cfb418b4e5a30ca99b88dce107c306bf60dcc2c3ad0586d1bbff2c120c1fff7a3747b7511cb22561efae3131b6a79948dca276237a5b9e988815aa65dcc196fdfe73e3a7ea20ce0b36ed91d18509b4f36703420877ec0f0047ea236aeb4bd4570a5a12de7d2bb3c85ed6c143911abf9f2ba82dcbd040705da89d5895e41409497b557b99804ce1bc0a3a47a10dcb18031f49e27131efbe9f45fabd99293b67a11d562b33631aa40cb4a303549940560714e95f403f475069ce2e08b7361a4e93db381a471a9bd7c1472410c85a57fef192c832c95f93cfff46201b61f1947e8d573bf80333fd89025f7dafc4b1293e7483a1b74bf11aac2aa11031eaa9f39002d8a84c1ff9c59f96d634e1206b75fd96ef3bf3d9952ea59d35d28c984b8875c2b01fdff2603f87d54bdfc8459a438fcadb6b41248e127a921457588e8ad4993973b4c06188d24333b3927756a702faad07b40f5b84e893ed2ed6eccad90bb8909b7c6ffe236e1e37fbb9b36912db3f4617a86165df41a390d5c06d9ea3ad17347bec8e40090acbfa8ae71d5dbe694f57bd6a99ef79ccd36191b464b2d33248a7b3cf149d7485b6ed8e43d1f86a53b4be02b871137076604f886e7b5cf7ac8a2859c646f2a55ecb2e01cfab44fff3ce883bc236f96378bce4f288dfff6f1eace666631aa506f770899d915dee868e7ce92ae84e7f74d83148fe62276f87cbf4fa671066b2caed40c32190aa85f91fac8a2f3a985e8444476a8fa8eeecfa062c8dcb2aadbc87a1fbb9fbd9d54f5473e24c9da59629c8fa544a84962a467a54416b57cfaa04c39d12cb9ad0e84f7fd3b77cef366838acf6350946a2c8d8d09c2c72a1526c0eb2f1c35837ad4bb8a230b6eb47de12bd8dd169511a292eb94f0604e59b9ed0c23878263eb551803f22fc119062d49ce1634ff587689bf5411beea2f057d98f3b1e733afbfe86b25237a615d599f47f7bbfa46681147720bfed0f677ecc3bee7d38919427b445f05d2262e1641611b67b06d08e5b2b1c426fa38ee30619145e832eb7aabe543cbb35661c671492bf94bdea8df7fc0d2214c13cc38f9f74ab5194ba8e95934e36b40d70391e88433a7508d6497b1adb85b2b0228d13a2815a7c730a99e846a3ca1cecd37e9ab8565197f94eab01f8d2e86b7f70fa5299b52f2911427c3fbfcccb17e61986bee7c8425abc7d514e9eb357e04df9240b1be9fdac9c7ca6a69f81a4808e2c8343aef50e315ecf14c8869ae9421b1ebe39e583adf75ff9981c152c1b22528db4d7ceb7581aaeffb47907a55221a16c83b098802215bf9ecb1a82ef949871ae859e8779d71a41f16844b36982e79f1474edc2303f1556c869540324c5ad1d5b64be472e8bc52f3ca3a32f5765712e7129416cfe73bc6bd69ea1a48faf1c7fefe0478d1b79417336590f49598106f09d6ee8cafc0941cd7025a1d8248f15efd1c053acc68c6f775e781faeb7fedaf558e63e277efe2226a70e072f62917093da3fb0e50ae9b9524c6b3511d84f1b8bd4c3c66915ebb554f1f514729643bd2bba755f3f41e2591427834c2b36fb3dbcda80fd5f43066113ef165b631344ff04891e2f39006ab598c21e027e34820d95b85db9678e90e5b0bda2083f07599a974375cd7c8f6dddc195c00445bc8b4e29961bb0bdb2589606c9d04b23d1f3b6727930357013df05cb4419e0be88875ee95594df2a41ff13379fbee8241a7febc2fe6efa64d2f430ff95062271c2e259b8dda66f19ea218322465eb64ff9e6059a0f12afd9b53cd5b531d834ad1f36bc72f15f832253c4bec94403c5096a2e7bf486e1d65309d59ef181881d215a349c7ec1eadf5f7195f9311c2c2ad98a9bc93a571a82f59edbcafca721de72ddca5362dc06c8a0e88492e047cf27aceeca26cd55c59b2cd15ab3749d2c75de68e8d5031d69ff9d778e02743560ec02333e9e36a1bf08172740b795a349f769c33aebc5f0efb8218e0491b69fd316d97099354fb627b793ab25780d985518fe6aadddae36c9150077d584b4937af713c747f3d470bbdaf8f92f7ddc0eae23f1016d413ba4e3b07670f7eaf63098689d2fe8a355add02c72f1bbb0f0de39dc1fb93c08e25b72491d528a63f1b4dcf3dbdbfe64492910ea54d926cfbade1de7e051f3433d9ab39ed3d67cd9e206aeb68dc3e221e4542a2e308242bce051357f375469de35bc1e3b49ac8b91ccb639b67126822f8e1752ef48f151d21fe7b638bec3e579f2c0d8cfa2eb5de3f615bb41ee2288fcd3e3158b3be03fb415c3bb26a1afb64205ea52938fa53d651704274dd34fbd5a7d4a3576b4b3fe777974dfab171e403ff063f117736818a5e843b04fb9f9ca47633715bf99b4b5e20c5dab094ea823b4654ab606abc9c7cd3120e7605e3e734a2d4e17a35ce260c77b8dabd891d0b1d084326fedcabb07fdb5027d953b0a87959603ecc37f1b8bc24212fb1ab020465f16f3ae9224967ac58482facddf4ada43a2326b3d9d1fc0803fa64c4a3f3a02acbe6d12b8cf4d62fb6b48a3af5b64235a7be5e93e17c3d85fcf46f8cdeb82ab49ff26d60ef2f6f0895bd50abd1e92d15cc924a6007f2fd09bee678bf349eb0ede5c41db906c520d2b80faad58f81cba15b235221e606d2b4fca150d26d2e59507e62c1fbde2f8d4a4c26736caf1ea4684e6a58a359b80d6a945bc9c59d369fda160b8a4a3691bd28f22913f1cbb33df0131d5e84c4263c978ebb515edb6006072d04c1f6ced45d4d2a2e6a1f9fdc5d3bc7ac3f0ee49a18d5c2cde422b2895f084167c2c63de3f1cc64df383b0a77b71a9b5ed59669cd73462ef0cfbea48bcdbf1b5795e060febde6534306f5aaac489533afa77a35214d07c1a1848a44c1e73a9210a67113a7d85dac58a9b56ac6da40ea77fa7256d98a6217128933934ac5b656b6b04212b9bd24e14002ee39f6a50a649abae5b7b18ad150e4405c659d594d5a227c596f4d5ead1fb32b5e7580284107ab9b9ffa6d0439d032681d9401d7876c0af78536e10a94d9011ecbcd0ba3af53c25caa8896542794b1ecea76b42d6de5bc488f2b44ea25d9b680e283ae212b8083b7fefc1914b8546c6082d1f9df793929b9978a43f755f9d4ce5b282f5c0117a10030054ac91f3989b31830f1635487f6e4c8fd116374fe15b227aec94bfabea708efef775ddb7dc5cff382e8230eb11cfdc4668d0d217e71a374542260da238da100c10fecc380abed9c4184039d476cd1f657def1e9ea820fba59759c9863f54c50eb593eee3285f6e4cbe94fd9d5dd1f9b4e19ecc9aae47d327c1946505912cef118a461a575299d56074e6425c321d723d933ff4ee1fef5eb3d7ae93d57b5eafc820989516284526178df19aa9f2bd13a4c86a55ccade8d86192e7fb714b306febfb34d22adf313618db1e582535651bd2c9f960d179aeb6c14d1f0c0064ac9235b14cf5631eb87e21d68212443983ec463025675225a863f8af465eda6c818a3030218131faa5d2b17659aec68554bc3e78392502f9430dc3a98bf2e27e013a16c5dd43a9f035520fb76d49460feb72bf27fffd2571eddf4cc2ebe13e3a6efab85082d5b6ac99381ccbf24e214b7eb2d4c8f99f67aaf7ae373909a19e017e8f317c6f643789100f9ca1070d8fbc99593218e3b331c422ee02588febee88382610b05b89adaa49e4ccf9bd9e03360e9352a6c92553104069932e7a4f3b57acd84a6fc16a27535eaa9dd30ac6bcd2cab04d0f6790294e2ba6a5cc0c7a5df2202726a477d6dfc842daa3de4d887d93550ccf2c8512490504c1f5b0916b5f746c075bd07857e114cc8e39a5a850ae79c749335e479a237c616e50c14f986657d9f200b91c467141c1b5d3668c6b9cbdd7ac1c9b95c1a4d3ba803f3180993b5d82f81d89779b09b677b15f89666673a5b11889b6e7a7e225ea662b9cde576e4b5f7b526d034a05673d9b24128723c38ca7a3ad6d68710f54148072c50fdb8961801398db4459c0b4a63bdb512de26b8d88f540e9398220b0e399eebc5b084f859b990239458a2f9eaa6add90a3dcfc3f1c861152f789de6ac06d606f18f2c73ddd24670719c5b0680a44f59c933e1b4162b4fe83a735af0cccd09acdf7a2992f0d8b09ff0335dc51b2386ecd6cfba53cd2dcdd5ce5cc983ccff33a1f790061ff26488c5d5f207c478d22df517d417c7cbd2cd549f3e682b09c6fdd5a75abbcd3232b5ae131d4d204dd6ffd2d280c238bc4c61821e77a2bfd9fdfe271110156414fb72c96d4b5e7a3e533749eb703dfc824fa74fef8e7da12988fb2658e5e8ca6ee5025bbc4eca2707fe4ea2363ea2615daf3db04b7943d83859f43e64b0fe1d85a60b7ae98909da3121a55186dd02b40704aa302b716e5299307435e27aeac28e07510336da70f419bd7ac16cfcdacc36b4f68b1b4fa3612bd493da5608e341e2c1ea40729070bf920b25251e991e99b29f50c6001d5aa978cdfa95d1f8c1f82593512cb9ab4f1a50c38205831726f3a0fe78cd4269c4fbcc37f517d3afa6c4d0f4ab85af0fcdbc341fe1a2841dd42bd3bb7704efd4aca3c25748f3e3fcb0a96cfed71aafef1cd07c07928588ff7c8a2796e3b2bc1f3f396022143514d1dd03506df7b72601dc6091f4a8ff0e4ae9e44dd681c5fc9db297d1a4049289a0adf2205fa17f6359a83c0700bea71588d017fb9a632ab4a4401f899ebaef77d4126fb6a6afd8f91c87a92e60b0998c43fe95b2b283814773dd6138fac236875b35f3884217ecfdb39ec11ac822968d4ed98412bde015ad1cac5ca384677d799e5468e048048466d5c7a5395578044c565927a8487ec1007f06e5c92cb31f4dc99339b2fee70300786bf46b4c7387b7e6b18fca796285a6aa361e39a36d3d5f77f56270f6574fe3c3f4d8acdc656ecc4605ebf26e5404b233e59c50e6d70ad1ddf16cce6ead9e838b5df81634808c72ef0c8fee52c53029e8c1eeb818b645aa7c71784bff8e97b74afd35a00af5326f8960db9bcd34126f568a6d5dd3bba07f0fd70c5776814ce3e1cb49c71ec0468bbf1f51d0bd58f0e31dde454e2a696a9d7b0c335afbf8522801da106670da7563ca35ce292c52ea8ea1867378515ad003d6f8ab3238ac2b08bb211367a03a0a895678280cf156c86e855665f567025d3a677803ff9cfdf889e18bcdf7e66385baed03bc7e5adaa8737cefa24b0d5c4f309decd636854237de9fcbfa4397349da2119f77bcfff5f2957efd22e6ac62229b026e0734c4b9ea747ac498ef93398d6f0d68aaee290b847c7258606e8404fa39cf207c86097911f194faa6f65f5f9dd2d8f454687b8badfbc6b635b83b99c8ba357fcfa5a1297571e13e69b149c87971d9ea9b93298eb66dc0afc07d7c26937fbe3f42cf1ae4c87afe29544e46ac173aae06f034dd92ed2f012529c5c9d2bb53c283faf13b7c8675b2dc2cb4e47af9e30c1f2a37fff59bc1ff7ea2cdb1af1f830a8fe0fd59ee21ae0b98fe568954837eec992046ddf8283a835868b2e02f39da741b1ec15c46d5c9b270a832c3ba2a893c110c017d9cc55415d0bbb414ae1ac69622b1d842a034772df5725ecfd22904235a55172b047d8b573537e6db5a3c49594cd8107aab2225750a7c972354652603c561e34f8b63416557cd7e0a7b6b551bce7bb72f2e5cc8673d54cd44c00da2dade299a95120eac7fdee574d93ae625a421dbb35d83542477574c1f6cc5c23db97d65e32b1b3d046a7013d97ce97635cae1f108587bcdedea7eec126664e497c236a2b4f2c0081510a61ff24181a3baff4caa56a18bacbb2da33e513743c5b303370ebc51d7330b1d6c99770ab482a5e48d04f74f66e46a93cfad028c5ec36fa0eea34ef0fb2e8dd8c55b67544a69f4d078e790e75aeacbd28347fb4c345720ab546406d78f7c346abe61a63344f560efe47fd86634b38bda320fb6786ce2886ec0d99dc94bfabf138d0ef02a443ebf5f8722be43c13dbda2c9ce9591252b964461c822487d2dd635c4dd7e350f3b2266acf29caf1465707ba5501f3a07994ea1a7764925c5f4d8c2b05e941ae5a978d871dab31e471b5852d6744129c0f67d6cfb90b273fa21639c194d03d5c743e16c9d86463e415a8e7f48fcf3595e51f1bcbde2eafe3ccbfce4b7402d34404b25b822d7ef23036f98f017e4021e68a3daf75a13ebdb4e98838a90fff4b1f41d2c83fb1d917bb0db266ce243951029d25b5394ea154fb58a8fae97ed43d3a1325d51382bacfc6685bf992e4136a288450e48b4c30daa803be1bf370e1c27a15d5784b5a6d35776510dd3013b50bb1690313ec8cc1ceb36b08d1025d49acb67065270079d7f8d40f7fe1923da97cfd4a52ef71898219105f0e6a043b1db7ec4dde9b2cb958a48aafad5502a2f5fd1bf4d67058e621f0e9a3f35d2f81b80fe2b0e567f541d29be7ac6729bce4b92b111f7111fb8bdbbf78ddc6fa09dc0890ca616351c440fd3fdd8f0d3b4ef41fe6ee8ccc9d95522fa341627a44951347d4d68176bc19c8abd2e1fe90c16655acf629d39894b4dfc479d8ed36bbf58a5f23215734403b7263bfa54510142aec07ce3552787ad1daef88d61d39c4542e9a11721e3841d66732c68808def786c72a93a914e1a36427f71a045d1f5a5402448ce69077954bb9ddd2e72afed9f4a071110f6809eb4b50bf6319ae88c107f0d0e712b812449523ba120448e3a3f069d839bb10d022a4df74bb4b4d1e5f18b71130f214e026fddf5ae71b8ccc8780f6252cc288fbf7d2b634a383cddc3920e44d94ef5e8fdc71d2ae762657d6f0be087858c66844c2059a2604c24626629e4dc8190c453c1a3ff478021122e7dc34f3f28e7a016359f675b210fa01e7f2baaf55dc9fc71d594118cf70cc1fb5dd75e59e435192a0d45c16d5af3a71998a518424d2a6bffbcbf3d8be6be92a81ab65ac24134fa634bd606c192d1a96fd2dc8f78342420429e46e22c72197ee1c5e7b9206c7330a8cd2c30ac9ffae85937d93f15d2d0fcfbdcba25e15ba8e7ed4922c40f010d376cc0cf211f2014cfe0273833205daa8793e53c3ef678589bdb5400a1b8e6b4813d56c5476a338e362fd6063ea74dccf5cb42ac4b07498cf0d9a71130630395faefbb3b45687e7f3a09624ed7a888268c6a4ef32a241ecbfcc1066776c0432b3cdc088b21f338af26203a96e17033af01c651759196187d481edf7e0051f3f731158d4ab70293c0a6f9523412c0e6c708c98fb918da97d21d3c34df0ab6cc92fed69f3769c5fc4da62099f7292e6709f3032cc64a21b3477ea8ec4ec00834a156711321efc06e2a2d72ab5012bb99bd2ad9f259928bb26dfb98b3a3eabd0af2e9e28e6be8a254169edd737f04258707743e8472dce8713c708c0782ecdb28bc330d9ada65a28732695db0921499d806d57ca96c6daad966b88a56bc7e635dcb65588ac9f7529267e2165340788da7fd9b02eac1edd1ae156a3c02abeaccd90a19157af154ea77756a2b95829b32b4490a429ea1065d583ebe22e0acec6fa43c6d44c4be75a5ecfa56a027c491fd0a5155bf21cce825739d871ae3daf57e2f53b4aea689e1be5b0a87edb1c9bc9fb6cac79672a12fee6b4e57a8068ff04199289ea648446e43bc47d0efd692012d7c34e98f5ce042cebecc227ab80dbd1f5149017b309ca85bb9291cf98e66ed38db696f58b6a89b99bd5dfdba5a8060e8b652be6ecb6de4fda899dac7e5cb656bd0c445ff2c581984a2e44272b10b56afd542cd27c0c88df82c6335e410223c5c8b75b6e449150b9d1d37dce88edd101bb08d4e350810649db1880bafc38c12060efa8df59ef016a3def22297b29de053e42286eae499c9238d7f339c92666cba2ac0da3d8583005227ffc0cfe43cecd554fda04f42f2fb6570f7837a9695b896c791029f7a2200c835c861e0874b0d3caa660810fece856bc484c711bebe5bc287b8dfd76fb73e4b04a54618b2f33315d10af3dfb9477f15a3c292cec0e482df1b79b65bb71644ef7701ea2116cd30c64d7f7c1f09712a75d9bc1e2cfa7f2bae376cc566514ae32c110fc1319ff21b1120ee0ed6f3d55a7797ea70475eafc489296b84db6cc46ee3593065fa44827bd915c4bdd5d5b602daf914b7bea4f78e6518818e0fbc0375e508aaefaeefd9a115f3b149f394bea55e14dcb13b0d920ba5d9731ca7a830f23fd7900fdd9e9154236c28bad9e40db716490948fc26a7a6b2651450efabf5347349191b2a2f63aa10f24d5c556df974a26db79bf63b49fe437c8497d4d3171d7a025c46c383c48311a4b5cd587720e46eca02ed73d8348c8a16caf1db1b0d2e3e7eb38b415e9570729aac75cad64a6b06bb098f62a03ecd450f698678fb1b3bd2cfea065897db94436caebf3d305575abc68d10ee9b2beba1826621659fd30e88ed6de6c40d79aa077e7f25a985e7d7240f24d17fdd927a6b255cbd055e0df38bc2952ebb5781caea1eda3dd0db045c26df7e7cf53046ce141ae7184968b0229d4ced7225906190112de9d13aa077e9361266da2e4f64b4005ab86d5f9ef15c85d2afd63473afa371b3da1429de7033ce73b69e24c1edd1209ae6c5ac938db66e125df18902dc519c8d04a8cd6ae91e5dce713abe3412e1d15de8939ad09b027dc37129ecb3a240e6ebad60547d378953b0b9dcb0a074212ee8c353dbc2408588be93b90eb7821c689e28150f2e32f0031e1fd4e3ed3b74f20928fb1ec285345ae39e055d03414ca4d0e51144b26e858de389e8123d76ae101b1c04197871ce759705a4b78064cdb5c8aba4e9394a53717d8c9fca7af57bb2055e8d921fd8e6c5e5ee3e556f6b93e470c30baf7f8841b8f421b9dad4245bec0f19b3a4fac3159b05fe64c7154617dd74f5c2e937e887a5e098879159d01a51693da873655c46bd9b29c98855a00e07971ee1526a00794695a0ea7680bf5a8bce13447c876c686009c863e2c249a4173ba72e5ecebe9b5c7eac1eee1ff7536d4d83a716e4e3a689a44558f17729646f63fbaa1cd4565bdf742cad3b29e0c96178d09ca56e7b38c930cc3b858601e98bded4db30ec64cf69a923532da21e7feef9264730d3f4a0a94864b500b363b3629e7038a46146cb11956c362556d2c2139c339b08cb54e989eac543c0c43d8f4d42cb465c19734a6702d377fdf0311ad814d1551d4710a049b8108245e41e6ca2d6bac6992390ca966eac4387fc1f4e75898599d08759e6193c861cb7b0d256ce504dd35375d3a9325f243d2cae6d24bc9a49e0829f1f923245b79563ccb636092906ca4ce907b87776a02e9cbf2b1944d2693dda82ce60265dd41216999e9ce24fd4d44f3791ea505c32d2aefcf4131f0f86a399135ed81a660739d18aa667ed91fb32adb0494afaf7f5669fd46fd4de5b8fbe8f43af251c11539215adb84ac57f5844aeeef76ddcac64cfa9bb3544feee02924b5bc33ec2621a8ddd8450df1970fc8430dc72c0cce102e48277499b6b2ff1701a9a44cd19b677fc023fdcda47c9c2e99942a7af4234765dc1453637ec002671045486d71cfda7a99a7e530071c0ecec5c10bacc2f66fb483cf502a5718d8efa41962c2849e01d23a66f981c55d3ba73d4c94bc10f36eeb89129fe3d5caf258043e10b54c232e8fdb921abe309a187113bfd6b4241664e24004d47355fb3033d58b79b605e07d5390e7f716a8f38c4a9762654a04afb6025070a491e8d9aeda7094a56ed90e255be2dc387d684836bf2a78f05ed2771d63fc5937b57156863370c98f8e1b8260f8e30d9ce9b69bc384ba3c6d9f688d98e1c0baa51c36689cfbf067d702f6bb334773d1e9379c0de44437b9abb787ace84fcba02aacd0a6cdccc2ab6722352917d6722bd80a91c00ee5e97b7c952a182e24a618f0fc33f8824e5118b3ab008d668107d83ed9c606b7ec3f379bbecbed020b513d781edbbce0e3daf5935807fc501d810c9ddb9493d05bfe0cdaf185b2e2f18b63abb368c11c042e914554723e2504849a3806fb60c77b14947fcad7eeeed3e2d26c2ef2fd8de66ff87cf2475e6919d61e6d6330359789af349b0352b421e9170a02b7051f668e4ddc58ceb912d1b6c5aebde2fac9f15cc2c4f45ca01061688cd7266b9adb3c0aad8e472bdbaeee152c2f0fe2b0a75af628e22664a8eace1965049c297921a46e4200ee72e9e6c0178fdda1d330fc4f41cbe168ee14032baa33bea88137c40561ef838f023d4cd5382aff71d1a00e2f710cb5fbb9b2ffdf79de052826684cc034490778e4cc055a331dd727831e4867da0ae7e74ab333963b5a3a14afd8aeeee48e941c6aef64770295115c160681b4c0afbe5967f828b0a7c6e73901c32b59816d4150a8deac1c88acd7ecd222f9124aadd95e9960da556282b06faac1a76d76e584daae47f1586397263c65dbb7408eacbd9f7544401604436cbe225561c15035086d13a55ec58d362143532f1ddfa7e4a3d7a782f29f4209753224e152664c5d20d17fd48e3195b0cd0bbc3eefe891c4acfedfb0d36ef79700019751f9181bc6a22335b6699856cb87a459b6ca12ce0b5b12f6cfe86a9071ad37a396604ed196be36ff7ea1f6d0ffafc8cc531a857d3a808386cea59819b2c0bcbef2e954da7283747c02e0f63d46e06a4da346aa6e4f2fe115c66854e96e14616716b609f22721d09bcde19d5926b1b6bebcdaeab6b59f10423094ccecba3d36c7f2b54daaa020aab94f64f70e6f084a5fe6abedf86a98e82bf8f4aaacaaa62e1adb6a050eb08f1c65e10e3a6ec3414925cb16b7cf9e326fa80bf18b0e391032de3</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>docsify</title>
    <url>/2021/05/02/docsify/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://up.enterdesk.com/edpic/7c/b7/25/7cb7255d3a70c8b54723edb3263f8458.jpg"></p>
<h3 id="Docsify"><a href="#Docsify" class="headerlink" title="Docsify"></a>Docsify</h3><p>一个神奇的文档网站生成器。</p>
<h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p><code>docsify</code> 可以快速帮你生成文档网站。不同于 <code>GitBook</code>、<code>Hexo</code> 的地方是它不会生成静态的 <code>.html</code> 文件，所有转换工作都是在运行时。如果你想要开始使用它，只需要创建一个 <code>index.html</code> 就可以开始编写文档并直接部署在 <code>GitHub Pages</code>。</p>
<p>查看快速开始了解详情:<a href="https://docsify.js.org/#/zh-cn/">https://docsify.js.org/#/zh-cn/</a></p>
<span id="more"></span>
<h3 id="安装-docsify-cli"><a href="#安装-docsify-cli" class="headerlink" title="安装 docsify-cli"></a>安装 docsify-cli</h3><p>建一个文件夹 <code>cloud-doc</code></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">C:\Users\cloud-doc (master)</span><br><span class="line">输入命令：npm i docsify-cli -g</span><br><span class="line">&gt; Thank you <span class="keyword">for</span> using docsify!</span><br><span class="line">If you rely on <span class="keyword">this</span> <span class="keyword">package</span>, please consider supporting our <span class="keyword">open</span> collective:</span><br><span class="line">&gt; https:<span class="comment">//opencollective.com/docsify/donate</span></span><br><span class="line"></span><br><span class="line">npm WARN <span class="symbol">ws@</span><span class="number">7.4</span><span class="number">.5</span> requires a peer of <span class="symbol">bufferutil@</span>^<span class="number">4.0</span><span class="number">.1</span> but none <span class="keyword">is</span> installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN <span class="symbol">ws@</span><span class="number">7.4</span><span class="number">.5</span> requires a peer of utf-<span class="number">8</span>-<span class="symbol">validate@</span>^<span class="number">5.0</span><span class="number">.2</span> but none <span class="keyword">is</span> installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: <span class="symbol">fsevents@</span><span class="number">2.3</span><span class="number">.2</span> (node_modules\docsify-cli\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> <span class="symbol">fsevents@</span><span class="number">2.3</span><span class="number">.2</span>: wanted &#123;<span class="string">&quot;os&quot;</span>:<span class="string">&quot;darwin&quot;</span>,<span class="string">&quot;arch&quot;</span>:<span class="string">&quot;any&quot;</span>&#125; (current: &#123;<span class="string">&quot;os&quot;</span>:<span class="string">&quot;win32&quot;</span>,<span class="string">&quot;arch&quot;</span>:<span class="string">&quot;x64&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">+ docsify-<span class="symbol">cli@</span><span class="number">4.4</span><span class="number">.3</span></span><br><span class="line">added <span class="number">208</span> packages from <span class="number">91</span> contributors <span class="keyword">in</span> <span class="number">13.</span>718s</span><br></pre></td></tr></table></figure>
<h3 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h3><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">docsify <span class="keyword">init</span> ./docs</span><br></pre></td></tr></table></figure>
<h3 id="开始写文档"><a href="#开始写文档" class="headerlink" title="开始写文档"></a>开始写文档</h3><p>初始化成功后，可以看到 <code>./docs</code> 目录下创建的几个文件</p>
<ul>
<li>index.html 入口文件</li>
<li>README.md 会做为主页内容渲染</li>
<li>nojekyll 用于阻止 GitHub Pages 忽略掉下划线开头的文件<br>直接编辑 <code>docs/README.md</code> 就能更新文档内容，当然也可以添加更多页面。</li>
</ul>
<h3 id="本地预览"><a href="#本地预览" class="headerlink" title="本地预览"></a>本地预览</h3><p>通过运行 <code>docsify serve</code> 启动一个本地服务器，可以方便地实时预览效果。默认访问地址 <code>http://localhost:3000</code> 。</p>
<h3 id="配置主题"><a href="#配置主题" class="headerlink" title="配置主题"></a>配置主题</h3><p>参考 <a href="https://docsify.js.org/#/zh-cn/themes">https://docsify.js.org/#/zh-cn/themes</a></p>
<p><a href="https://jhildenbiddle.github.io/docsify-themeable/#/">docsify-themeable</a> 一个用于docsify的，简单到令人愉悦的主题系统，参考<a href="https://codesandbox.io/s/xv36w4695o?file=/sidebar.md:0-167">https://codesandbox.io/s/xv36w4695o?file=/sidebar.md:0-167</a><br>直接粘贴复制它的文件，然后用 <code>vscode</code> 打开，浏览器可以实时查看到效果</p>
<h3 id="部署-Github"><a href="#部署-Github" class="headerlink" title="部署 Github"></a>部署 Github</h3><p>接下来自己修修改改改，然后上传到 <code>github</code>，访问 <a href="https://javakangpan.github.io/Blog/#/">https://javakangpan.github.io/Blog/#/</a><br>这里简单的介绍了如何使用，了解更多需要自己去探索。</p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Docsify</tag>
      </tags>
  </entry>
  <entry>
    <title>SourceTree</title>
    <url>/2021/04/14/SourceTree/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://www.sourcetreeapp.com/">SourceTree</a>SourceTree集成了Git Flow功能，能简单方便的操作和实现常规的工作流程。支持OSX和Windows平台。<a href="https://support.atlassian.com/sourcetree/">操作文档</a><br>在 <code>gitHub</code> 创建一个仓库 <code>javaBook</code><br>克隆到本地</p>
<span id="more"></span>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line"> &gt; git clone git@github.com:javakangpan/javaBook.git</span><br><span class="line">Cloning <span class="keyword">into</span> <span class="string">&#x27;javaBook&#x27;</span>...</span><br><span class="line">warning: You appear <span class="built_in">to</span> have cloned <span class="keyword">an</span> <span class="literal">empty</span> repository.</span><br></pre></td></tr></table></figure>
<p>添加文件</p>
<figure class="highlight taggerscript"><table><tr><td class="code"><pre><span class="line">&gt; git status</span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br><span class="line"></span><br><span class="line">        Bean.md</span><br><span class="line">        CacheLine.md</span><br><span class="line">        Docker.md</span><br><span class="line">        Java8.md</span><br><span class="line"></span><br><span class="line">        &quot;<span class="symbol">\3</span>45<span class="symbol">\2</span>34<span class="symbol">\2</span>50<span class="symbol">\3</span>45<span class="symbol">\2</span>56<span class="symbol">\2</span>71<span class="symbol">\3</span>45<span class="symbol">\2</span>31<span class="symbol">\2</span>50<span class="symbol">\3</span>44<span class="symbol">\2</span>70<span class="symbol">\2</span>55<span class="symbol">\3</span>50<span class="symbol">\2</span>77<span class="symbol">\2</span>20<span class="symbol">\3</span>50<span class="symbol">\2</span>41<span class="symbol">\2</span>14Apache<span class="symbol">\3</span>46<span class="symbol">\2</span>34<span class="symbol">\2</span>15<span class="symbol">\3</span>45<span class="symbol">\2</span>12<span class="symbol">\2</span>41<span class="symbol">\3</span>45<span class="symbol">\2</span>31<span class="symbol">\2</span>50.md&quot;</span><br></pre></td></tr></table></figure>
<p>添加到暂存区</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">&gt; git <span class="built_in">add</span> .</span><br><span class="line">warning: LF will be replaced <span class="keyword">by</span> <span class="literal">CRLF</span> <span class="keyword">in</span> Docker.md.</span><br><span class="line">The <span class="built_in">file</span> will have its original <span class="built_in">line</span> endings <span class="keyword">in</span> your working <span class="built_in">directory</span></span><br></pre></td></tr></table></figure>
<p>提交</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">&gt; git commit -m <span class="string">&quot;add&quot;</span></span><br><span class="line">[<span class="keyword">master</span> <span class="title">(root-commit</span>) d46fbcc] add</span><br><span class="line"> <span class="number">47</span> files changed, <span class="number">3182</span> insertions(+)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>推送到远程分支</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">&gt; git push</span><br><span class="line">Enumerating object<span class="variable">s:</span> <span class="number">50</span>, done.</span><br><span class="line">Counting object<span class="variable">s:</span> <span class="number">100</span>% (<span class="number">50</span>/<span class="number">50</span>), done.</span><br><span class="line">Delta compression using <span class="keyword">up</span> <span class="keyword">to</span> <span class="number">8</span> threads</span><br><span class="line">Compressing object<span class="variable">s:</span> <span class="number">100</span>% (<span class="number">50</span>/<span class="number">50</span>), done.</span><br><span class="line">Writing object<span class="variable">s:</span> <span class="number">100</span>% (<span class="number">50</span>/<span class="number">50</span>), <span class="number">1.92</span> MiB | <span class="number">431.00</span> KiB/s, done.</span><br><span class="line">Total <span class="number">50</span> (delta <span class="number">2</span>), reused <span class="number">0</span> (delta <span class="number">0</span>)</span><br><span class="line">remote: Resolving delta<span class="variable">s:</span> <span class="number">100</span>% (<span class="number">2</span>/<span class="number">2</span>), done.</span><br><span class="line">To github.<span class="keyword">com</span>:javakangpan/javaBook.git</span><br><span class="line"> * [<span class="keyword">new</span> branch]      master -&gt; master</span><br></pre></td></tr></table></figure><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>SourceTree</tag>
      </tags>
  </entry>
  <entry>
    <title>Spring Boot Application is finished, How to open the browser?</title>
    <url>/2021/04/15/When-the-Spring-Boot-Application-is-finished,-then-How-to-open-the-browser-/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>实现代码：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AfterRun</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    Environment environment;</span><br><span class="line">    <span class="meta">@EventListener(&#123;ApplicationReadyEvent.class&#125;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String port = environment.getProperty(<span class="string">&quot;local.server.port&quot;</span>);</span><br><span class="line">        String url = <span class="string">&quot;http://localhost:&quot;</span> + port;</span><br><span class="line">        Runtime.getRuntime().exec(<span class="string">&quot;rundll32 url.dll,FileProtocolHandler &quot;</span> + url);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<h3 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h3><p><code>Environment</code>即环境，也可以叫做上下文。<code>Environment</code>在容器中是一个抽象的集合，是指应用环境的2个方面：<code>profiles</code>和<code>properties</code>。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Environment</span> <span class="keyword">extends</span> <span class="title">PropertyResolver</span> </span>&#123;</span><br><span class="line">    String[] getActiveProfiles();</span><br><span class="line"></span><br><span class="line">    String[] getDefaultProfiles();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** <span class="doctag">@deprecated</span> */</span></span><br><span class="line">    <span class="meta">@Deprecated</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">acceptsProfiles</span><span class="params">(String... var1)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">acceptsProfiles</span><span class="params">(Profiles var1)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过 <code>environment</code> 获取当前端口拼接 <code>URL</code></p>
<h3 id="EventListener"><a href="#EventListener" class="headerlink" title="@EventListener"></a>@EventListener</h3><p><code>Spring</code>提供的一个事件监听、订阅的实现，内部实现原理是观察者设计模式；为的就是业务系统逻辑的解耦,提高可扩展性以及可维护性。事件发布者并不需要考虑谁去监听，监听具体的实现内容是什么，发布者的工作只是为了发布事件而已。<br>如下例子，控制台打印 <code>发布的消息:hello</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">implements</span> <span class="title">CommandLineRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        SpringApplication.run(App.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ApplicationContext applicationContext;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String... args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        applicationContext.publishEvent(<span class="keyword">new</span> MyEvent(<span class="keyword">this</span>,<span class="string">&quot;hello&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyEvent</span> <span class="keyword">extends</span> <span class="title">ApplicationEvent</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Setter</span></span><br><span class="line">    <span class="meta">@Getter</span></span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.getSource();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyEvent</span><span class="params">(Object source,String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(source);</span><br><span class="line">        <span class="keyword">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyListener</span> </span>&#123;</span><br><span class="line">    <span class="meta">@EventListener</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleDemoEvent</span><span class="params">(MyEvent event)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;发布的消息:&#123;&#125;&quot;</span>, event.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ApplicationReadyEvent"><a href="#ApplicationReadyEvent" class="headerlink" title="ApplicationReadyEvent"></a>ApplicationReadyEvent</h3><p><code>spring boot</code>中支持的事件类型如下</p>
<ul>
<li><p>ApplicationFailedEvent：该事件为spring boot启动失败时的操作</p>
</li>
<li><p>ApplicationPreparedEvent：上下文context准备时触发</p>
</li>
<li><p>ApplicationReadyEvent：上下文已经准备完毕的时候触发</p>
</li>
<li><p>ApplicationStartedEvent：spring boot 启动监听类</p>
</li>
<li><p>SpringApplicationEvent：获取SpringApplication</p>
</li>
<li><p>ApplicationEnvironmentPreparedEvent：环境事先准备</p>
</li>
</ul>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>curl 和 httpie</title>
    <url>/2021/05/01/curl-+-pip/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="https://th.bing.com/th/id/Rff497327687b3beefc1a899f5977af36?rik=fR6l3SLlCPEIpQ&riu=http://img02.tooopen.com/images/20160404/tooopen_sy_158232324333.jpg&ehk=AepGEizBMnTz/LkAqnXuFe8qpxMqUvKCTQe8IG0OQSg=&risl=&pid=ImgRaw"></p>
<h3 id="CURL"><a href="#CURL" class="headerlink" title="CURL"></a><code>CURL</code></h3><p>详情参考 <a href="https://catonmat.net/cookbooks/curl">curl</a><br><code>get</code>请求</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">curl https:<span class="regexp">//</span>catonmat.net</span><br></pre></td></tr></table></figure>
<p>请求之后保存响应信息到文件</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">curl -o response.txt https:<span class="regexp">//</span>catonmat.net</span><br></pre></td></tr></table></figure>
<p>发送一个空参数的 <code>post</code> 请求</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">curl -X POST https:<span class="regexp">//</span>catonmat.net</span><br></pre></td></tr></table></figure>
<p> <code>Form</code> 表单数据的 <code>POST</code> 请求</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">curl -d <span class="string">&#x27;login=emma&amp;password=123&#x27;</span> -X POST https:<span class="regexp">//g</span>oogle.com/login</span><br></pre></td></tr></table></figure>
<p><code>JSON</code> 数据的 <code>POST</code> 请求</p>
<figure class="highlight scilab"><table><tr><td class="code"><pre><span class="line">curl -d <span class="string">&#x27;&#123;&quot;</span>login<span class="string">&quot;: &quot;</span>emma<span class="string">&quot;, &quot;</span>pass<span class="string">&quot;: &quot;</span><span class="number">123</span><span class="string">&quot;&#125;&#x27;</span> -H <span class="string">&#x27;Content-Type:application/json&#x27;</span> https:<span class="comment">//google.com/login</span></span><br></pre></td></tr></table></figure>
<p>自己搭建了一个 <code>SpringBoot</code> 项目，尝试用 curl 发送 POST 请求，但是调不通，报 <code>SEC_E_INVALID_TOKEN</code> 。</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"> <span class="attribute">url</span> -H &#x27;Content-type:application/json&#x27; -d &#x27;&#123;<span class="string">&quot;id&quot;</span>:<span class="number">1</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;kangpan&quot;</span>&#125;&#x27; https://localhost:<span class="number">8080</span>/</span><br><span class="line"><span class="attribute">curl</span>: (<span class="number">35</span>) schannel: next InitializeSecurityContext failed: SEC_E_INVALID_TOKEN (<span class="number">0</span>x<span class="number">80090308</span>) - 给函数提供的标志无效</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>查看本机 <code>curl</code>,猜想是不是使用了某种协议，需要权限才能访问</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">curl</span> -V</span><br><span class="line"><span class="attribute">curl</span> <span class="number">7</span>.<span class="number">55</span>.<span class="number">1</span> (Windows) libcurl/<span class="number">7</span>.<span class="number">55</span>.<span class="number">1</span> WinSSL</span><br><span class="line"><span class="attribute">Release</span>-Date:<span class="meta"> [unreleased]</span></span><br><span class="line"><span class="attribute">Protocols</span>: dict file ftp ftps http https imap imaps pop<span class="number">3</span> pop<span class="number">3</span>s smtp smtps telnet tftp</span><br><span class="line"><span class="attribute">Features</span>: AsynchDNS IPv<span class="number">6</span> Largefile SSPI Kerberos SPNEGO NTLM SSL</span><br></pre></td></tr></table></figure>
<h3 id="HTTPie-安装步骤"><a href="#HTTPie-安装步骤" class="headerlink" title="HTTPie 安装步骤"></a><code>HTTPie</code> 安装步骤</h3><p>没有找到解决办法，那么就换一个工具吧 <code>httpie</code> <a href="https://github.com/jkbr/httpie">https://github.com/jkbr/httpie</a><br>查看文档 <a href="https://httpie.io/docs#installation">https://httpie.io/docs#installation</a></p>
<figure class="highlight oxygene"><table><tr><td class="code"><pre><span class="line">Windows, etc.</span><br><span class="line">A universal installation <span class="function"><span class="keyword">method</span> <span class="params">(that works <span class="keyword">on</span> Windows, Mac OS X, Linux, …, <span class="keyword">and</span> always provides the latest version)</span> <span class="title">is</span> <span class="title">to</span> <span class="title">use</span> <span class="title">pip</span>:</span></span><br><span class="line"></span><br><span class="line"># Make sure we have an up-<span class="keyword">to</span>-date version <span class="keyword">of</span> pip <span class="keyword">and</span> setuptools:</span><br><span class="line">python -m pip install --upgrade pip setuptools</span><br><span class="line"></span><br><span class="line">python -m pip install --upgrade httpie</span><br><span class="line">(<span class="keyword">If</span> pip installation fails <span class="keyword">for</span> some reason, you can <span class="keyword">try</span> easy_install httpie <span class="keyword">as</span> a fallback.)</span><br><span class="line"></span><br><span class="line">Python version</span><br><span class="line">Python version <span class="number">3.6</span> <span class="keyword">or</span> greater <span class="keyword">is</span> required.</span><br></pre></td></tr></table></figure>
<p>大致是说，需要安装 <code>Python</code>，配置<code>Python</code>环境变量，再使用 <code>Python</code> 安装 <code>pip</code>，设置 <code>pip</code>环境变量，再使用 <code>pip</code> 安装 <code>httpie</code><br>进入 <code>Python</code> 官方下载地址 <a href="https://www.python.org/downloads/windows/">https://www.python.org/downloads/windows/</a><br>选择安装的文件 <code>Windows installer (64-bit)</code></p>
<h3 id="Python-安装"><a href="#Python-安装" class="headerlink" title="Python 安装"></a><code>Python</code> 安装</h3><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Files</span></span><br><span class="line"><span class="attribute">Version</span>	Operating System	Description	MD<span class="number">5</span> Sum	File Size	GPG</span><br><span class="line"><span class="attribute">Gzipped</span> source tarball	Source release		cc<span class="number">8507</span>b<span class="number">3799</span>ed<span class="number">4</span>d<span class="number">8</span>baa<span class="number">7534</span>cd<span class="number">8</span>d<span class="number">5</span>b<span class="number">35</span>f	<span class="number">25411523</span>	SIG</span><br><span class="line"><span class="attribute">XZ</span> compressed source tarball	Source release		<span class="number">2</span>a<span class="number">3</span>dba<span class="number">5</span>fc<span class="number">75</span>b<span class="number">695</span>c<span class="number">45</span>cf<span class="number">1806156</span>e<span class="number">1</span>a<span class="number">97</span>	<span class="number">18900304</span>	SIG</span><br><span class="line"><span class="attribute">macOS</span> <span class="number">64</span>-bit Intel installer	Mac OS X	for macOS <span class="number">10</span>.<span class="number">9</span> and later	<span class="number">2</span>b<span class="number">974</span>bfd<span class="number">787</span>f<span class="number">941</span>fb<span class="number">8</span>f<span class="number">80</span>b<span class="number">5</span>b<span class="number">8084</span>e<span class="number">569</span>	<span class="number">29866341</span>	SIG</span><br><span class="line"><span class="attribute">macOS</span> <span class="number">64</span>-bit universal<span class="number">2</span> installer	Mac OS X	for macOS <span class="number">10</span>.<span class="number">9</span> and later, including macOS <span class="number">11</span> Big Sur <span class="literal">on</span> Apple Silicon (experimental)	<span class="number">9</span>aa<span class="number">68872</span>b<span class="number">9582</span>c<span class="number">6</span>c<span class="number">71151</span>d<span class="number">5</span>dd<span class="number">4</span>f<span class="number">5</span>ebca	<span class="number">37648771</span>	SIG</span><br><span class="line"><span class="attribute">Windows</span> embeddable package (<span class="number">32</span>-bit)	Windows		b<span class="number">4</span>bd<span class="number">8</span>ec<span class="number">0891891158000</span>c<span class="number">6844222014</span>d	<span class="number">7580762</span>	SIG</span><br><span class="line"><span class="attribute">Windows</span> embeddable package (<span class="number">64</span>-bit)	Windows		<span class="number">5</span>c<span class="number">34</span>eb<span class="number">7</span>e<span class="number">79</span>cfe<span class="number">8</span>a<span class="number">92</span>bf<span class="number">56</span>b<span class="number">5168</span>a<span class="number">459</span>f<span class="number">4</span>	<span class="number">8419530</span>	SIG</span><br><span class="line"><span class="attribute">Windows</span> help file	Windows		aaacfe<span class="number">224768</span>b<span class="number">5</span>e<span class="number">4</span>aa<span class="number">7583</span>c<span class="number">12</span>af<span class="number">68</span>fb<span class="number">0</span>	<span class="number">8859759</span>	SIG</span><br><span class="line"><span class="attribute">Windows</span> installer (<span class="number">32</span>-bit)	Windows		b<span class="number">790</span>fdaff<span class="number">648</span>f<span class="number">757</span>bf<span class="number">0</span>f<span class="number">233</span>e<span class="number">4</span>d<span class="number">05</span>c<span class="number">053</span>	<span class="number">27222976</span>	SIG</span><br><span class="line"><span class="attribute">Windows</span> installer (<span class="number">64</span>-bit)	Windows	Recommended	ebc<span class="number">65</span>aaa<span class="number">142</span>b<span class="number">1</span>d<span class="number">6</span>de<span class="number">450</span>ce<span class="number">241</span>c<span class="number">50</span>e<span class="number">61</span>c	<span class="number">28323440</span>	SIG</span><br></pre></td></tr></table></figure>
<p>安装之后设置环境变量 打开<code>CMD</code>窗口，输入命令，<code>C:\Python\Python39</code> 安装的路径</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">path</span>=%path%<span class="comment">;C:\Python\Python39</span></span><br></pre></td></tr></table></figure>
<p>查看环境变量是否设置成功，<code>CMD</code> 输入 <code>python</code></p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Python</span> <span class="number">3</span>.<span class="number">9</span>.<span class="number">4</span> (tags/v<span class="number">3</span>.<span class="number">9</span>.<span class="number">4</span>:<span class="number">1</span>f<span class="number">2</span>e<span class="number">308</span>, Apr  <span class="number">6</span> <span class="number">2021</span>, <span class="number">13</span>:<span class="number">40</span>:<span class="number">21</span>)<span class="meta"> [MSC v.1928 64 bit (AMD64)] on win32</span></span><br><span class="line"><span class="meta">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="pip-安装"><a href="#pip-安装" class="headerlink" title="pip 安装"></a><code>pip</code> 安装</h3><p>接下来使用 <code>python</code> 安装 <code>pip</code>，安装详情参考 <a href="https://pip.pypa.io/en/stable/installing/">https://pip.pypa.io/en/stable/installing/</a></p>
<figure class="highlight smali"><table><tr><td class="code"><pre><span class="line">Do I need to install pip?</span><br><span class="line">pip is already installed<span class="built_in"> if </span>you are using Python 2 &gt;=2.7.9<span class="built_in"> or </span>Python 3 &gt;=3.4 downloaded from python.org<span class="built_in"> or </span>if you are working in a Virtual Environment created by virtualenv<span class="built_in"> or </span>venv. Just make sure to upgrade pip.</span><br><span class="line"></span><br><span class="line">Use the following command to<span class="built_in"> check </span>whether pip is installed:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Unix/macOS</span><br><span class="line"></span><br><span class="line">Windows</span><br><span class="line">C:\&gt; py -m pip --version</span><br><span class="line">pip X.Y.Z from ...\site-packages\pip (python X.Y)</span><br></pre></td></tr></table></figure>
<p>找到 <code>C:\Python39\Scripts</code> 路径，设置 <code>pip</code> 环境变量</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">py</span> -m pip --version</span><br><span class="line"><span class="attribute">pip</span> <span class="number">20</span>.<span class="number">2</span>.<span class="number">3</span> from C:\Python\Python<span class="number">39</span>\lib\site-packages\pip (python <span class="number">3</span>.<span class="number">9</span>)</span><br></pre></td></tr></table></figure>
<p>查看版本</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">pip</span> -V</span><br><span class="line"><span class="attribute">pip</span> <span class="number">20</span>.<span class="number">2</span>.<span class="number">3</span> from c:\python\python<span class="number">39</span>\lib\site-packages\pip (python <span class="number">3</span>.<span class="number">9</span>)</span><br></pre></td></tr></table></figure>
<p><code>pip</code> 使用详解</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">pip安装包 <span class="symbol">:pip</span> install 所需安装包名字</span><br><span class="line">pip查看已安装的包: pip show --files 安装包名字</span><br><span class="line">pip检查哪些包需要更新<span class="symbol">:pip</span> list --outdate</span><br><span class="line">pip升级包<span class="symbol">:pip</span> install --upgrade 安装包名字</span><br><span class="line">pip卸载安装包<span class="symbol">:pip</span> uninstall  安装包名字</span><br></pre></td></tr></table></figure>
<h3 id="httpie-安装"><a href="#httpie-安装" class="headerlink" title="httpie 安装"></a><code>httpie</code> 安装</h3><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">pip install <span class="comment">--upgrade httpie</span></span><br><span class="line">Collecting httpie</span><br><span class="line">  Downloading httpie<span class="number">-2.4</span><span class="number">.0</span>-py3-<span class="keyword">none</span>-<span class="keyword">any</span>.whl (<span class="number">74</span> kB)</span><br><span class="line">     |████████████████████████████████| <span class="number">74</span> kB <span class="number">297</span> kB/s</span><br><span class="line">     </span><br><span class="line">     <span class="built_in">WARNING</span>: You are <span class="keyword">using</span> pip <span class="keyword">version</span> <span class="number">20.2</span><span class="number">.3</span>; however, <span class="keyword">version</span> <span class="number">21.1</span><span class="number">.1</span> <span class="keyword">is</span> available.</span><br><span class="line">You should consider upgrading via the <span class="string">&#x27;c:\python\python39\python.exe -m pip install --upgrade p</span></span><br><span class="line"><span class="string">ip&#x27;</span> command.</span><br></pre></td></tr></table></figure>
<p>这里警告，用 <code>python -m pip install --upgrade httpie</code>，不过这样也安装成功了<br>使用 <code>httpie</code></p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">http</span> http://localhost:<span class="number">8080</span>/test/</span><br><span class="line"><span class="attribute">HTTP</span>/<span class="number">1</span>.<span class="number">1</span> <span class="number">200</span></span><br><span class="line"><span class="attribute">Content</span>-Length: <span class="number">44</span></span><br><span class="line"><span class="attribute">Content</span>-Type: text/plain;charset=UTF-<span class="number">8</span></span><br><span class="line"><span class="attribute">Date</span>: Sat, <span class="number">01</span> May <span class="number">2021</span> <span class="number">09</span>:<span class="number">57</span>:<span class="number">25</span> GMT</span><br><span class="line"></span><br><span class="line"><span class="attribute">service</span>: demo.generator.ServiceImpl@<span class="number">5</span>ada<span class="number">344</span>b</span><br></pre></td></tr></table></figure>
<p>跟 <code>curl</code> 对比</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">curl</span>  http://localhost:<span class="number">8080</span>/test/</span><br><span class="line"><span class="attribute">service</span>: demo.generator.ServiceImpl@<span class="number">7</span>a<span class="number">2</span>e<span class="number">4</span>ad</span><br></pre></td></tr></table></figure>
<p><code>post</code> 请求，<code>1.txt</code> 为 入参的 <code>json</code> 格式文件</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">http</span> http://localhost:<span class="number">8080</span>/ &lt; C:<span class="number">1</span>.txt</span><br><span class="line"><span class="attribute">HTTP</span>/<span class="number">1</span>.<span class="number">1</span> <span class="number">200</span></span><br><span class="line"><span class="attribute">Content</span>-Length: <span class="number">6</span></span><br><span class="line"><span class="attribute">Content</span>-Type: application/json;charset=UTF-<span class="number">8</span></span><br><span class="line"><span class="attribute">Date</span>: Sat, <span class="number">01</span> May <span class="number">2021</span> <span class="number">22</span>:<span class="number">03</span>:<span class="number">05</span> GMT</span><br><span class="line"></span><br><span class="line"><span class="attribute">kangan</span></span><br></pre></td></tr></table></figure>
<h3 id="HTTPie-使用详解"><a href="#HTTPie-使用详解" class="headerlink" title="HTTPie 使用详解"></a>HTTPie 使用详解</h3><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p><code>httpie</code> 是一个命令形式的<code>http</code>客户端，它提供了简单的<code>http</code>命令，返回带高亮的结果信息，可以很方便的在<code>http</code>交互场景下进行测试、调试等。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight oxygene"><table><tr><td class="code"><pre><span class="line">http [<span class="keyword">flags</span>] [<span class="function"><span class="keyword">METHOD</span>] <span class="title">URL</span> [<span class="title">ITEM</span> [<span class="title">ITEM</span>]]</span></span><br><span class="line"><span class="function"><span class="title">METHOD</span>没有指定时，默认为 <span class="title">get</span></span></span><br><span class="line"><span class="function"><span class="title">URL</span>协议没有指定时，默认为 <span class="title">http</span>:</span><span class="comment">//</span></span><br></pre></td></tr></table></figure>
<h3 id="GET"><a href="#GET" class="headerlink" title="GET"></a><code>GET</code></h3><figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line"><span class="keyword">http</span> <span class="built_in">get</span> 请求url</span><br><span class="line">请求 `url`带参数 :<span class="keyword">http</span> 请求url <span class="built_in">param</span>==<span class="built_in">value</span></span><br></pre></td></tr></table></figure>
<h3 id="POST-请求"><a href="#POST-请求" class="headerlink" title="POST 请求"></a><code>POST</code> 请求</h3><figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span><span class="built_in">post</span>请求时表单用 = ，默认为<span class="built_in">post</span>：<span class="keyword">http</span> 请求url <span class="built_in">param</span>=<span class="built_in">value</span></span><br><span class="line"><span class="number">2.</span>传递json: 可以直接传一个json类型文件，用 =@ 和 :=G，<span class="keyword">http</span> 请求url <span class="built_in">param</span>=@C:\<span class="number">1.</span>txt</span><br><span class="line"><span class="number">3.</span>重定向传json：<span class="keyword">http</span> 请求url &lt; C:\<span class="number">1.</span>txt</span><br></pre></td></tr></table></figure>
<h3 id="更多参考-https-github-com-httpie-httpie"><a href="#更多参考-https-github-com-httpie-httpie" class="headerlink" title="更多参考 https://github.com/httpie/httpie"></a>更多参考 <a href="https://github.com/httpie/httpie">https://github.com/httpie/httpie</a></h3><figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">Custom HTTP method, HTTP headers <span class="keyword">and</span> JSON data:</span><br><span class="line"></span><br><span class="line">$ <span class="keyword">http</span> PUT pie.dev/<span class="built_in">put</span> X-API-Token:<span class="number">123</span> name=John</span><br><span class="line">Submitting forms:</span><br><span class="line"></span><br><span class="line">$ <span class="keyword">http</span> -f POST pie.dev/<span class="built_in">post</span> hello=World</span><br><span class="line">See <span class="keyword">the</span> request that is being sent <span class="keyword">using</span> <span class="literal">one</span> <span class="keyword">of</span> <span class="keyword">the</span> output options:</span><br><span class="line"></span><br><span class="line">$ <span class="keyword">http</span> -v pie.dev/<span class="built_in">get</span></span><br><span class="line">Build <span class="keyword">and</span> print <span class="keyword">a</span> request <span class="keyword">without</span> sending <span class="keyword">it</span> <span class="keyword">using</span> offline mode:</span><br><span class="line"></span><br><span class="line">$ <span class="keyword">http</span> <span class="comment">--offline pie.dev/post hello=offline</span></span><br><span class="line">Use GitHub API <span class="built_in">to</span> <span class="built_in">post</span> <span class="keyword">a</span> comment <span class="keyword">on</span> <span class="title">an</span> <span class="title">issue</span> <span class="title">with</span> <span class="title">authentication</span>:</span><br><span class="line"></span><br><span class="line">$ <span class="keyword">http</span> -<span class="keyword">a</span> USERNAME POST <span class="keyword">https</span>://api.github.com/repos/httpie/httpie/issues/<span class="number">83</span>/comments body=<span class="string">&#x27;HTTPie is awesome! :heart:&#x27;</span></span><br><span class="line">Upload <span class="keyword">a</span> <span class="built_in">file</span> <span class="keyword">using</span> redirected input:</span><br><span class="line"></span><br><span class="line">$ <span class="keyword">http</span> pie.dev/<span class="built_in">post</span> &lt; <span class="built_in">files</span>/data.json</span><br><span class="line">Download <span class="keyword">a</span> <span class="built_in">file</span> <span class="keyword">and</span> save <span class="keyword">it</span> via redirected output:</span><br><span class="line"></span><br><span class="line">$ <span class="keyword">http</span> pie.dev/image/png &gt; image.png</span><br><span class="line">Download <span class="keyword">a</span> <span class="built_in">file</span> wget style:</span><br><span class="line"></span><br><span class="line">$ <span class="keyword">http</span> <span class="comment">--download pie.dev/image/png</span></span><br><span class="line">Use named sessions <span class="built_in">to</span> make certain aspects <span class="keyword">of</span> <span class="keyword">the</span> communication persistent between requests <span class="built_in">to</span> <span class="keyword">the</span> same host:</span><br><span class="line"></span><br><span class="line">$ <span class="keyword">http</span> <span class="comment">--session=logged-in -a username:password pie.dev/get API-Key:123</span></span><br><span class="line">$ <span class="keyword">http</span> <span class="comment">--session=logged-in pie.dev/headers</span></span><br><span class="line">Set <span class="keyword">a</span> custom Host header <span class="built_in">to</span> work around missing DNS records:</span><br><span class="line"></span><br><span class="line">$ <span class="keyword">http</span> localhost:<span class="number">8000</span> Host:example.com</span><br></pre></td></tr></table></figure><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>curl</tag>
      </tags>
  </entry>
  <entry>
    <title>Generator Mybatis</title>
    <url>/2021/04/24/generator/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1363948882&auto=1&height=66"></iframe>
<span id="more"></span>

<p>上一篇介绍自己写<code>XML</code>模板的文章，日常开发迭代快，可能需要高效的完成 <code>CRUD</code>。这里简单介绍两种常见的生成 <code>Mapper接口</code> <code>Model模型</code> <code>MapperXML</code> 。<br>首先建一个简单的工程 <code>mybatis-demo</code>，<code>pom.xml</code> 文件引入相关组件</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-demo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">configurationFile</span>&gt;</span>src/main/resources/mybatis.xml<span class="tag">&lt;/<span class="name">configurationFile</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">verbose</span>&gt;</span>true<span class="tag">&lt;/<span class="name">verbose</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">overwrite</span>&gt;</span>true<span class="tag">&lt;/<span class="name">overwrite</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>接着在<code>resources</code> 文件新建 <code>mybatis.xml</code> 配置生成规则，这里注意<code>XML</code>中的<code>&amp;</code>需要转义<code>&amp;amp;</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">generatorConfiguration</span> <span class="meta-keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 本地数据库驱动程序jar包的全路径 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">classPathEntry</span> <span class="attr">location</span>=<span class="string">&quot;C:/Users/康盼Java开发工程师/.m2/repository/mysql/mysql-connector-java/8.0.15/mysql-connector-java-8.0.15.jar&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;context&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--定义生成的java类的编码格式--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;javaFileEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 数据库的相关配置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span> <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/kangpan?useSSL=false<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8<span class="symbol">&amp;amp;</span>serverTimezone=UTC<span class="symbol">&amp;amp;</span>useAffectedRows=true&quot;</span> <span class="attr">userId</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 默认false，把JDBC DECIMAL 和 NUMERIC 类型解析为 Integer，为 true时把JDBC DECIMAL 和</span></span><br><span class="line"><span class="comment">           NUMERIC 类型解析为java.math.BigDecimal --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;forceBigDecimals&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 实体类生成的位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;demo.generator&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- *Mapper.xml 文件的位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;demo.generator&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Mapper 接口文件的位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;demo.generator&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 相关表的配置   tableName 表名 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;t_user&quot;</span> <span class="attr">enableSelectByExample</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableDeleteByExample</span>=<span class="string">&quot;true&quot;</span> <span class="attr">enableCountByExample</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableUpdateByExample</span>=<span class="string">&quot;true&quot;</span> <span class="attr">selectByExampleQueryId</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ignoreQualifiersAtRuntime&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useActualColumnNames&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>点击<code>IDEA</code> 右侧栏里面的 <code>Maven -&gt; Plugins </code>双击运行。<br>第二种方式，直接上代码 <code>pom</code> 文件</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-demo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>resources</code> 中新建 <code>generatorConfig.xml</code></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- classPathEntry:数据库的JDBC驱动--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">classPathEntry</span> <span class="attr">location</span>=<span class="string">&quot;C:/Users/康盼Java开发工程师/.m2/repository/mysql/mysql-connector-java/8.0.15/mysql-connector-java-8.0.15.jar&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;DBTables&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.generator.plugins.FluentBuilderMethodsPlugin&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.generator.plugins.ToStringPlugin&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.generator.plugins.SerializablePlugin&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.generator.plugins.RowBoundsPlugin&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 去除自动生成的注释 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suppressAllComments&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/kangpan?useSSL=false<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8<span class="symbol">&amp;amp;</span>serverTimezone=UTC<span class="symbol">&amp;amp;</span>useAffectedRows=true&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaTypeResolver</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;forceBigDecimals&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- targetProject:自动生成model代码的位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;demo.generator.model&quot;</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">targetProject</span>=<span class="string">&quot;./src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- targetProject:自动生成mappers代码的位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;demo.generator&quot;</span></span></span><br><span class="line"><span class="tag">                         <span class="attr">targetProject</span>=<span class="string">&quot;./src/main/resources/mapper&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- targetProject:自动生成dao代码的位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;MIXEDMAPPER&quot;</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">targetPackage</span>=<span class="string">&quot;demo.generator.mapper&quot;</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">targetProject</span>=<span class="string">&quot;./src/main/java&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- tableName:用于自动生成代码的数据库表;domainObjectName:对应于数据库表的javaBean类名--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;t_coffee&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Coffee&quot;</span> &gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>启动类中添加</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;demo.mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> <span class="keyword">implements</span> <span class="title">ApplicationRunner</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(Application.class,args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(ApplicationArguments args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">       mybatisGenerator();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">mybatisGenerator</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        List&lt;String&gt; warnings = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        ConfigurationParser configurationParser = <span class="keyword">new</span> ConfigurationParser(warnings);</span><br><span class="line">        Configuration configuration = configurationParser</span><br><span class="line">                .parseConfiguration(<span class="keyword">this</span>.getClass().getResourceAsStream(<span class="string">&quot;/generatorConfig.xml&quot;</span>));</span><br><span class="line">        DefaultShellCallback defaultShellCallback = <span class="keyword">new</span> DefaultShellCallback(<span class="keyword">true</span>);</span><br><span class="line">        MyBatisGenerator myBatisGenerator = <span class="keyword">new</span> MyBatisGenerator(configuration, defaultShellCallback, warnings);</span><br><span class="line">        myBatisGenerator.generate(<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>因为 <code>pom</code> 文件引入了 <code>mybatis-spring-boot-starter</code>组件，需要在<code>application.properties</code>文件中配置数据源</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring.datasource.driverClassName</span>=com.mysql.cj.jdbc.Driver</span><br><span class="line"><span class="attr">spring.datasource.url</span>=jdbc:mysql://localhost:<span class="number">3306</span>/kangpan?useSSL=<span class="literal">false</span>&amp;useUnicode=<span class="literal">true</span>&amp;characterEncoding=utf8&amp;serverTimezone=UTC&amp;useAffectedRows=<span class="literal">true</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=root</span><br><span class="line">spring.datasource.password=</span><br><span class="line"><span class="attr">mybatis.mapper-locations</span>=classpath*:/mapper/**/*.xml</span><br></pre></td></tr></table></figure>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title>junitperf</title>
    <url>/2021/04/14/junitperf/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><code>pom </code>文件引入</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.github.houbb/junitperf --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.houbb<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junitperf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>测试 <code>stringBuilder </code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="meta">@JunitPerfConfig( warmUp = 1000, reporter = &#123;HtmlReporter.class, ConsoleReporter.class&#125;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">            stringBuilder.append(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>看下  <code>JunitPerfConfig </code> 类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> JunitPerfConfig &#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">threads</span><span class="params">()</span> <span class="keyword">default</span> 1</span>; <span class="comment">// 执行时使用多少线程执行</span></span><br><span class="line">    <span class="function"><span class="keyword">long</span> <span class="title">warmUp</span><span class="params">()</span> <span class="keyword">default</span> 0L</span>; <span class="comment">// 准备时间 （单位：毫秒）</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">long</span> <span class="title">duration</span><span class="params">()</span> <span class="keyword">default</span> 60000L</span>; <span class="comment">// 执行时间 (单位：毫秒)  (不包括准备时间) 默认值1分钟</span></span><br><span class="line"></span><br><span class="line">    Class&lt;? extends StatisticsCalculator&gt; statistics() <span class="keyword">default</span> DefaultStatisticsCalculator.class; <span class="comment">// 统计信息</span></span><br><span class="line"></span><br><span class="line">    Class&lt;? extends Reporter&gt;[] reporter() <span class="keyword">default</span> &#123;ConsoleReporter.class&#125;; <span class="comment">// 报告信息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考 <a href="https://github.com/houbb/junitperf">junitperf</a></p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>springboot+prometheus+grafana</title>
    <url>/2021/04/14/springboot+prometheus+grafana/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>安利一款好用的谷歌<code>json</code>格式化插件 <code>jsonview</code>，地址 <a href="https://jsonview.com/">https://jsonview.com/</a><br>搭建 <code>springboot</code> 项目 引入 <code>actuator</code> 组件</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p> <code>actuator</code> 目的：监控并管理应用程序，详情见官方文档 <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready">https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready</a></p>
<p>一些常用的 <code>Endpoint</code></p>
<table>
<thead>
<tr>
<th align="center">id</th>
<th align="center">说明</th>
<th align="center">默认开启</th>
<th align="center">默认HTTP</th>
<th align="center">默认JMX</th>
</tr>
</thead>
<tbody><tr>
<td align="center">beans</td>
<td align="center">显示容器的Bean</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr>
<td align="center">health</td>
<td align="center">显示健康信息</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">Y</td>
</tr>
<tr>
<td align="center">info</td>
<td align="center">应用信息</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">Y</td>
</tr>
<tr>
<td align="center">cache</td>
<td align="center">应用缓存</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
</tbody></table>
<p><code>application.properties</code> 配置打开所有监控</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">management<span class="selector-class">.endpoints</span><span class="selector-class">.web</span><span class="selector-class">.exposure</span>.include=*</span><br></pre></td></tr></table></figure>
<p>浏览器输入 <code>http://localhost:8080/actuator/health</code> 打印</p>
<figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="symbol">status:</span> <span class="string">&quot;UP&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>进入 安装的<code>JDK/bin</code> 目录 ，<code>cmd</code> 输入 <code>jconsole</code> 可以看到 <code>Actuator EndPoint</code> 信息<br><code>Spring boot</code> 健康检查 通过实现 <code>HealthIndicator</code> 接口</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">HealthIndicator</span> <span class="keyword">extends</span> <span class="title">HealthContributor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">default</span> Health <span class="title">getHealth</span><span class="params">(<span class="keyword">boolean</span> includeDetails)</span> </span>&#123;</span><br><span class="line">		Health health = health();</span><br><span class="line">		<span class="keyword">return</span> includeDetails ? health : health.withoutDetails();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function">Health <span class="title">health</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>举个例子 数据库的健康检查 <code>DataSourceHealthIndicator</code> 类，构造的时候传入  <code>DataSource</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">DataSourceHealthIndicator</span><span class="params">(DataSource dataSource)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>(dataSource, <span class="keyword">null</span>);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>健康检查</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doHealthCheck</span><span class="params">(Health.Builder builder)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">this</span>.dataSource == <span class="keyword">null</span>) &#123;</span><br><span class="line">		builder.up().withDetail(<span class="string">&quot;database&quot;</span>, <span class="string">&quot;unknown&quot;</span>); <span class="comment">// 没有数据库 就当是健康的 并提示 unknown</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		doDataSourceHealthCheck(builder);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>doDataSourceHealthCheck</code> 方法判断当前数据库健康状态</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">doDataSourceHealthCheck</span><span class="params">(Health.Builder builder)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	String product = getProduct(); <span class="comment">// 什么数据库</span></span><br><span class="line">	builder.up().withDetail(<span class="string">&quot;database&quot;</span>, product);</span><br><span class="line">	String validationQuery = getValidationQuery(product);</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="comment">// Avoid calling getObject as it breaks MySQL on Java 7</span></span><br><span class="line">		List&lt;Object&gt; results = <span class="keyword">this</span>.jdbcTemplate.query(validationQuery, <span class="keyword">new</span> SingleColumnRowMapper()); <span class="comment">// 通过 jdbcTemplate 查询</span></span><br><span class="line">		Object result = DataAccessUtils.requiredSingleResult(results); <span class="comment">// 取得结果</span></span><br><span class="line">		builder.withDetail(<span class="string">&quot;result&quot;</span>, result);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">finally</span> &#123;</span><br><span class="line">		builder.withDetail(<span class="string">&quot;validationQuery&quot;</span>, validationQuery);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实现自己程序的健康状态 定义 <code>HealthIndicatorTest</code> 类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HealthIndicatorTest</span> <span class="keyword">implements</span> <span class="title">HealthIndicator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Health <span class="title">health</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// 这里根据你的业务逻辑去判断</span></span><br><span class="line">        map.put(<span class="string">&quot;血压&quot;</span>,<span class="string">&quot;正常&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;体重&quot;</span>,<span class="number">120</span>);</span><br><span class="line">        <span class="keyword">return</span> Health.up().withDetails(map).build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>浏览器输入 <code>http://localhost:8080/actuator/health</code> 查看结果</p>
<figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">healthIndicatorTest:</span> &#123;</span><br><span class="line"><span class="symbol">status:</span> <span class="string">&quot;UP&quot;</span>,</span><br><span class="line"><span class="symbol">details:</span> &#123;</span><br><span class="line">  体重: <span class="number">120</span>,</span><br><span class="line">  血压: <span class="string">&quot;正常&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面通过 <code>Actuator Health</code> 了解程序是否健康，在程序中还需要收集更多的度量指标，比如操作系统 或者 JVM、业务指标 等，通过 <code>Micrometer</code> 收集这些信息，官方网站 <a href="https://micrometer.io/">https://micrometer.io/</a> ，应用在 <code>Spring Boot</code>， 查看文档  <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-metrics">https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-metrics</a></p>
<p>利用 <code>Micrometer</code> 后端埋点 统计接口请求次数<br><code>pom</code> 引入组件</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.micrometer<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>micrometer-registry-prometheus<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>新建 <code>Test</code> 类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="keyword">implements</span> <span class="title">MeterBinder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Counter counter;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(path = &quot;/&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        counter.increment(); <span class="comment">// 埋点</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bindTo</span><span class="params">(MeterRegistry registry)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.counter = <span class="keyword">this</span>.counter = registry.counter(<span class="string">&quot;counter.number&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>浏览器 输入 <code>http://localhost:8081/test/</code> 请求服务<br>输入 <code>http://localhost:8081/actuator/metrics/counter.number</code> 查看请求次数<br> <figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="symbol">name:</span> <span class="string">&quot;counter.number&quot;</span>,</span><br><span class="line"><span class="symbol">description:</span> null,</span><br><span class="line"><span class="symbol">baseUnit:</span> null,</span><br><span class="line"><span class="symbol">measurements:</span> [</span><br><span class="line">&#123;</span><br><span class="line"><span class="symbol">statistic:</span> <span class="string">&quot;COUNT&quot;</span>,</span><br><span class="line"><span class="symbol">value:</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">],</span><br><span class="line"><span class="symbol">availableTags:</span> [ ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br> <code>windows</code> 安装 <code>grafana</code> ，地址 ： <a href="https://grafana.com/grafana/download?platform=windows">https://grafana.com/grafana/download?platform=windows</a><br>安装之后，打开 <code>\grafana\conf</code> 文件 查看配置</p>
<ul>
<li>默认配置文件是在/conf/defaults.ini</li>
<li>用户配置文件是在/conf/custom.ini<br>更改 端口<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[server]</span></span><br><span class="line"><span class="attr">http_port</span> = <span class="number">8888</span></span><br></pre></td></tr></table></figure>
更改 账号密码<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">[<span class="keyword">security</span>]</span><br><span class="line"></span><br><span class="line"># <span class="keyword">default</span> <span class="keyword">admin</span> <span class="keyword">user</span>, created <span class="keyword">on</span> startup</span><br><span class="line">admin_user = <span class="keyword">admin</span></span><br><span class="line"></span><br><span class="line"># <span class="keyword">default</span> <span class="keyword">admin</span> <span class="keyword">password</span>, can be changed <span class="keyword">before</span> first <span class="keyword">start</span> <span class="keyword">of</span> grafana, <span class="keyword">or</span> <span class="keyword">in</span> profile settings</span><br><span class="line">admin_password = <span class="keyword">admin</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>进入目录 <code>grafana\bin</code> 运行 <code>grafana-server.exe</code><br>浏览器输入 <code>http://localhost:8888/</code> ，输入 <code>admin admin</code></p>
<p> <code>windows</code> 安装 <code>prometheus</code> ，地址 ：<a href="https://prometheus.io/download/">https://prometheus.io/download/</a><br>配置 任务和实例，打开 <code>prometheus.yml</code> 文件，详情见 <a href="https://www.prometheus.wang/quickstart/prometheus-job-and-instance.html">任务和实例</a></p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">scrape_config<span class="variable">s:</span></span><br><span class="line">  # The job name <span class="keyword">is</span> added <span class="keyword">as</span> <span class="keyword">a</span> label `job=<span class="symbol">&lt;job_name&gt;</span>` <span class="keyword">to</span> any timeseries scraped from this config.</span><br><span class="line">  - job_name: <span class="string">&#x27;prometheus&#x27;</span></span><br><span class="line"></span><br><span class="line">    # metrics_path defaults <span class="keyword">to</span> <span class="string">&#x27;/metrics&#x27;</span></span><br><span class="line">    # scheme defaults <span class="keyword">to</span> <span class="string">&#x27;http&#x27;</span>.</span><br><span class="line">    </span><br><span class="line">    metrics_path: <span class="string">&#x27;/actuator/prometheus&#x27;</span></span><br><span class="line"></span><br><span class="line">    static_config<span class="variable">s:</span></span><br><span class="line">    - target<span class="variable">s:</span> [<span class="string">&#x27;localhost:8080&#x27;</span>]</span><br><span class="line">    </span><br><span class="line">  - job_name: <span class="string">&#x27;node&#x27;</span></span><br><span class="line"></span><br><span class="line">    # metrics_path defaults <span class="keyword">to</span> <span class="string">&#x27;/metrics&#x27;</span></span><br><span class="line">    # scheme defaults <span class="keyword">to</span> <span class="string">&#x27;http&#x27;</span>.</span><br><span class="line">    </span><br><span class="line">    static_config<span class="variable">s:</span></span><br><span class="line">    - target<span class="variable">s:</span> [<span class="string">&#x27;localhost:9182&#x27;</span>]</span><br></pre></td></tr></table></figure>


<p>浏览器输入 <code>http://localhost:9090/targets</code> ，<code>prometheus</code> 默认端口 <code>9090</code>，看到这两个实例都是 <code>down</code> 状态</p>
<p>了解下  <code>prometheus</code> 架构，<code>prometheus</code> 主要是通过定时拉取应用程序中暴露的时间序列进行工作的，可以在 <code>prometheus.yml</code> 文件配置 <code>Jobs/Exporters</code></p>
<p>为什么要监控应用程序的各个指标，推荐文章 <a href="https://www.infoq.cn/article/metrics-driven-development">度量驱动开发</a> 感兴趣的可以看下</p>
<p><code>springboot</code> 引入  <code>micrometer-jvm-extras</code> 组件，查看 JVM 相关信息</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.github.mweirauch<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>micrometer-jvm-extras<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.1.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>启动项目，看到 <code>springboot</code> 项目实例 状态是 <code>up</code></p>
<p>点击 <code>Endpoint</code> 可以看到 <code>JVM</code> 各项指标</p>
<p>通过 <code>grafana</code> 图形化展示，<code>JVM</code> 堆内存 进程内存  <code>HTTP</code>请求持续时间  详情见 <code>4701</code> 指标 </p>
<p><a href="https://grafana.com/grafana/dashboards">https://grafana.com/grafana/dashboards</a> </p>
<p>参考文章<br><a href="https://bigjar.github.io/2018/08/19/Spring-Boot-Actuator-%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E3%80%81%E5%AE%A1%E8%AE%A1%E3%80%81%E7%BB%9F%E8%AE%A1%E5%92%8C%E7%9B%91%E6%8E%A7/">Spring Boot Actuator:健康检查、审计、统计和监控</a><br><a href="https://bigjar.github.io/2018/08/19/Spring-Boot-Metrics%E7%9B%91%E6%8E%A7%E4%B9%8BPrometheus-Grafana/">Spring Boot Metrics监控之Prometheus&amp;Grafana</a></p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>原型 Bean 被固定</title>
    <url>/2021/04/28/%E5%8E%9F%E5%9E%8B-Bean-%E8%A2%AB%E5%9B%BA%E5%AE%9A/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="原型-Bean-被固定"><a href="#原型-Bean-被固定" class="headerlink" title="原型 Bean 被固定"></a>原型 Bean 被固定</h3><p>明明定义的是多例<code>SCOPE_PROTOTYPE</code>，为啥每次服务请求打印的地址都是同一个呢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceImpl</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>浏览器输入<code>http://localhost:8080/test</code> 打印的都是同一个地址 <code>service:demo.generator.ServiceImpl@3501ee32</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ServiceImpl service;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(path = &quot;test&quot;,method = RequestMethod.GET)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;service:&quot;</span> + service;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>当一个属性成员 <code>service</code> 声明为 <code>@Autowired</code> 后，那么在创建 <code>Controller</code> 这个 <code>Bean</code> 时，会先使用构造器反射出实例，然后来装配各个标记为 <code>@Autowired</code> 的属性成员（装配方法参考 <code>AbstractAutowireCapableBeanFactory #populateBean</code>）。具体到执行过程，它会使用很多 <code>BeanPostProcessor</code> 来做完成工作，其中一种是 <code>AutowiredAnnotationBeanPostProcessor</code>，它会通过 <code>DefaultListableBeanFactory#findAutowireCandidates</code> 寻找到 <code>ServiceImp</code> 类型的 <code>Bean</code>，然后设置给对应的属性（即 <code>service</code> 成员）。<br>关键执行步骤可参考 <code>AutowiredAnnotationBeanPostProcessor.AutowiredFieldElement#inject</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">inject</span><span class="params">(Object bean, <span class="meta">@Nullable</span> String beanName, <span class="meta">@Nullable</span> PropertyValues pvs)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">   Field field = (Field) <span class="keyword">this</span>.member;</span><br><span class="line">   Object value;</span><br><span class="line">   <span class="comment">//寻找“bean”</span></span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">this</span>.cached) &#123;</span><br><span class="line">      value = resolvedCachedArgument(beanName, <span class="keyword">this</span>.cachedFieldValue);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="comment">//省略其他非关键代码</span></span><br><span class="line">     value = beanFactory.resolveDependency(desc, beanName, autowiredBeanNames, typeConverter);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span> (value != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="comment">//将bean设置给成员字段</span></span><br><span class="line">      ReflectionUtils.makeAccessible(field);</span><br><span class="line">      field.set(bean, value);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>待我们寻找到要自动注入的 <code>Bean</code> 后，即可通过反射设置给对应的 <code>field</code>。这个<code>field</code> 的执行只发生了一次，所以后续就固定起来了，它并不会因为 <code>ServiceImpl</code> 标记了 <code>SCOPE_PROTOTYPE</code> 而改变。</p>
<p>所以，当一个单例的 <code>Bean</code>，使用 <code>autowired</code> 注解标记其属性时，（这里指单例的 <code>Controller</code> 这个 <code>Bean</code>），你一定要注意这个属性值 （这里指<code>service</code>）会被固定下来。</p>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>通过上述源码分析，我们可以知道要修正这个问题，肯定是不能将 <code>ServiceImpl</code> 的 <code>Bean</code> 固定到属性上的，而应该是每次使用时都会重新获取一次。所以这里我提供了两种修正方式：</p>
<h4 id="自动注入-Context"><a href="#自动注入-Context" class="headerlink" title="自动注入 Context"></a>自动注入 <code>Context</code></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ApplicationContext applicationContext;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(path = &quot;test&quot;, method = RequestMethod.GET)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">         <span class="keyword">return</span>  <span class="string">&quot;service: &quot;</span> + getService();</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServiceImpl <span class="title">getService</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> applicationContext.getBean(ServiceImpl.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="使用-Lookup-注解"><a href="#使用-Lookup-注解" class="headerlink" title="使用 Lookup 注解"></a>使用 Lookup 注解</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(path = &quot;test&quot;,method = RequestMethod.GET)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;service:&quot;</span> + getService();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Lookup</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServiceImpl <span class="title">getService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h3><p>在修正代码中，我们看到 <code>getService()</code> 方法的实现返回值是 null，这或许很难说服自己，为啥返回<code>null</code>可以生成新的实例对象。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Lookup</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ServiceImpl <span class="title">getService</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//下面的日志会输出么？</span></span><br><span class="line">    log.info(<span class="string">&quot;executing this method&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
<p>以上代码，添加了一行代码输出日志。测试后，我们会发现并没有日志输出。<br>那它是怎么实现的呢，看下<code>CglibSubclassingInstantiationStrategy</code>的内部类<code>LookupOverrideMethodInterceptor</code>的 <code>intercept</code> 方法，这里省略了代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> BeanFactory owner;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">intercept</span><span class="params">(Object obj, Method method, Object[] args, MethodProxy mp)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.owner.getBean(method.getReturnType())); <span class="comment">// 方法的返回类型</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过 <code>BeanFactory</code> 来获取 <code>Bean</code>，<code>getBean(method.getReturnType())</code>。当使用 <code>Lookup</code> 注解一个方法时，这个方法的具体实现已并不重要，里面代码随便怎么写都可以。</p>
<h3 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h3><p>可以使用<code>scope</code>注解的<code>proxyMode</code>，设置成<code>target_class</code>，这样注入到<code>controller</code>的<code>bean</code>就是代理对象了，每次都会从<code>beanfactory</code>里面重新拿过</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="comment">// @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)</span></span><br><span class="line"><span class="meta">@Scope(value = &quot;prototype&quot;,proxyMode = ScopedProxyMode.TARGET_CLASS)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceImpl</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Scope-注解说明"><a href="#Scope-注解说明" class="headerlink" title="Scope 注解说明"></a>Scope 注解说明</h3><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Scope</span>(value=ConfigurableBeanFactory.SCOPE_PROTOTYPE)这个是说在每次注入的时候回自动创建一个新的bean实例</span><br><span class="line"></span><br><span class="line"><span class="variable">@Scope</span>(value=ConfigurableBeanFactory.SCOPE_SINGLETON)单例模式，在整个应用中只能创建一个实例</span><br><span class="line"></span><br><span class="line"><span class="variable">@Scope</span>(value=WebApplicationContext.SCOPE_GLOBAL_SESSION)全局session中的一般不常用</span><br><span class="line"></span><br><span class="line"><span class="variable">@Scope</span>(value=WebApplicationContext.SCOPE_APPLICATION)在一个web应用中只创建一个实例</span><br><span class="line"></span><br><span class="line"><span class="variable">@Scope</span>(value=WebApplicationContext.SCOPE_REQUEST)在一个请求中创建一个实例</span><br><span class="line"></span><br><span class="line"><span class="variable">@Scope</span>(value=WebApplicationContext.SCOPE_SESSION)每次创建一个会话中创建一个实例</span><br><span class="line"></span><br><span class="line"><span class="built_in">`Scope`</span> 里面还有个属性</span><br><span class="line"></span><br><span class="line">proxyMode=ScopedProxyMode.INTERFACES创建一个JDK代理模式</span><br><span class="line"></span><br><span class="line">proxyMode=ScopedProxyMode.TARGET_CLASS基于类的代理模式</span><br><span class="line"></span><br><span class="line">proxyMode=ScopedProxyMode.NO（默认）不进行代理</span><br></pre></td></tr></table></figure><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>java 8 Stream Tutoriala</title>
    <url>/2021/04/15/java-8-Stream-Tutoriala/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Java学习网站 <a href="https://www.logicbig.com/">logicbig</a></p>
<p> <a href="https://www.logicbig.com/tutorials/core-java-tutorial/java-util-stream/stream-api-intro.html">java 8 Stream Tutoriala</a></p>
<p>介绍下几个常用的函数接口</p>
<figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Consumer</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">accept</span><span class="params">(T t)</span></span>;</span><br><span class="line">    <span class="keyword">default</span> Consumer&lt;T&gt; andThen(Consumer&lt;? <span class="keyword">super</span> T&gt; <span class="keyword">after</span>) &#123;</span><br><span class="line">        Objects.requireNonNull(<span class="keyword">after</span>);</span><br><span class="line">        <span class="keyword">return</span> (T t) -&gt; &#123; accept(t); after.accept(t); &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> Predicate&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">boolean</span> test(T t);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> Predicate&lt;T&gt; <span class="function"><span class="title">and</span>(<span class="params">Predicate&lt;? <span class="built_in">super</span> T&gt; other</span>)</span> &#123;</span><br><span class="line">        Objects.requireNonNull(other);</span><br><span class="line">        <span class="keyword">return</span> (t) -&gt; test(t) &amp;&amp; other.test(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> Predicate&lt;T&gt; <span class="function"><span class="title">negate</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (t) -&gt; !test(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> Predicate&lt;T&gt; <span class="function"><span class="title">or</span>(<span class="params">Predicate&lt;? <span class="built_in">super</span> T&gt; other</span>)</span> &#123;</span><br><span class="line">        Objects.requireNonNull(other);</span><br><span class="line">        <span class="keyword">return</span> (t) -&gt; test(t) || other.test(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &lt;T&gt; Predicate&lt;T&gt; <span class="function"><span class="title">isEqual</span>(<span class="params"><span class="built_in">Object</span> targetRef</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="literal">null</span> == targetRef)</span><br><span class="line">                ? Objects::isNull</span><br><span class="line">                : <span class="built_in">object</span> -&gt; targetRef.equals(<span class="built_in">object</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Supplier</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">T <span class="title">get</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line">@FunctionalInterface</span><br><span class="line">public interface <span class="built_in">Function</span>&lt;T, R&gt; &#123;</span><br><span class="line">    R apply(T t);</span><br><span class="line">    <span class="keyword">default</span> &lt;V&gt; <span class="built_in">Function</span>&lt;V, R&gt; compose(<span class="built_in">Function</span>&lt;? <span class="built_in">super</span> V, ? <span class="keyword">extends</span> T&gt; before) &#123;</span><br><span class="line">        Objects.requireNonNull(before);</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">(V v)</span> -&gt;</span> apply(before.apply(v));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">default</span> &lt;V&gt; <span class="built_in">Function</span>&lt;T, V&gt; andThen(<span class="built_in">Function</span>&lt;? <span class="built_in">super</span> R, ? <span class="keyword">extends</span> V&gt; after) &#123;</span><br><span class="line">        Objects.requireNonNull(after);</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">(T t)</span> -&gt;</span> after.apply(apply(t));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> &lt;T&gt; <span class="built_in">Function</span>&lt;T, T&gt; identity() &#123;</span><br><span class="line">        <span class="keyword">return</span> t -&gt; t;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


<p> <code>Predicate</code>的运用，可以组合条件筛选数据，可以去重等</p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> &#123;</span></span><br><span class="line">    <span class="keyword">static</span> Predicate&lt;<span class="keyword">String</span>&gt;</span><br><span class="line">            p1 = s -&gt; s.<span class="built_in">contains</span>(<span class="string">&quot;bar&quot;</span>),</span><br><span class="line">            p2 = s -&gt; s.<span class="built_in">length</span>() &lt; <span class="number">5</span>,</span><br><span class="line">            p3 = s -&gt; s.<span class="built_in">contains</span>(<span class="string">&quot;foo&quot;</span>),</span><br><span class="line">            p4 = p1.<span class="built_in">negate</span>().<span class="built_in"><span class="keyword">and</span></span>(p2).<span class="built_in"><span class="keyword">or</span></span>(p3);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">String</span>[] args)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">Stream</span>.<span class="built_in">of</span>(<span class="string">&quot;bar&quot;</span>,<span class="string">&quot;foobar&quot;</span>,<span class="string">&quot;barBaz&quot;</span>).<span class="built_in">filter</span>(p4).forEach(System.out::println); <span class="comment">// 打印 foobar</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> List&lt;Bean&gt; list = Lists.newArrayList(<span class="keyword">new</span> Bean(<span class="string">&quot;a&quot;</span>),<span class="keyword">new</span> Bean(<span class="string">&quot;a&quot;</span>),<span class="keyword">new</span> Bean(<span class="string">&quot;c&quot;</span>));</span><br><span class="line">    <span class="meta">@Data</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Bean</span> </span>&#123;</span><br><span class="line">        <span class="meta">@NonNull</span></span><br><span class="line">        <span class="built_in">String</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> &lt;T&gt; Predicate&lt;T&gt; <span class="function"><span class="title">distinct</span>(<span class="params"><span class="built_in">Function</span>&lt;? <span class="built_in">super</span> T,?&gt; <span class="keyword">function</span></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">Set</span>&lt;<span class="built_in">Object</span>&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">return</span> t -&gt; set.add(<span class="keyword">function</span>.apply(t));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">void</span> <span class="function"><span class="title">main</span>(<span class="params"><span class="built_in">String</span>[] args</span>)</span> &#123;</span><br><span class="line">        list.stream().filter(distinct(Bean::getName)).forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Function</code> 的运用，如求正整数 n 的阶乘是所有小于或等于 n 的正整数的乘积<code>function(10) = 10 * 9 * 8 * 7 * 6 * 5 * 4 * 3 * 2 * 1</code>，斐波那契数列 <code>0、1、1、2、3、5、8、13、21、34</code>，柯里化等</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="built_in">public</span> <span class="keyword">class</span> Test &#123;</span><br><span class="line">    static <span class="keyword">Function</span>&lt;<span class="type">Integer</span>, <span class="type">Integer</span>&gt; <span class="keyword">function</span>;</span><br><span class="line">    <span class="built_in">public</span> static <span class="type">void</span> main(String[] args) &#123;</span><br><span class="line">         <span class="keyword">function</span> = n -&gt; n == <span class="number">0</span> ? <span class="number">1</span> : n * <span class="keyword">function</span>.apply(n - <span class="number">1</span>);</span><br><span class="line">         IntStream.range(<span class="number">0</span>,<span class="number">10</span>).<span class="keyword">forEach</span>(i -&gt; <span class="keyword">System</span>.<span class="keyword">out</span>.println(<span class="keyword">function</span>.apply(i)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="built_in">public</span> <span class="keyword">class</span> Test &#123;</span><br><span class="line">    static <span class="keyword">Function</span>&lt;<span class="type">Integer</span>, <span class="type">Integer</span>&gt; <span class="keyword">function</span>;</span><br><span class="line">    <span class="built_in">public</span> static <span class="type">void</span> main(String[] args) &#123;</span><br><span class="line">         <span class="keyword">function</span> = n -&gt; n == <span class="number">0</span> ? <span class="number">0</span> : n == <span class="number">1</span> ? <span class="number">1</span> : <span class="keyword">function</span>.apply(n - <span class="number">1</span>) + <span class="keyword">function</span>.apply(n - <span class="number">2</span>);</span><br><span class="line">         IntStream.range(<span class="number">0</span>,<span class="number">10</span>).<span class="keyword">forEach</span>(i -&gt; <span class="keyword">System</span>.<span class="keyword">out</span>.println(<span class="keyword">function</span>.apply(i)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> &#123;</span></span><br><span class="line">    <span class="keyword">static</span> Function&lt;<span class="keyword">String</span>, <span class="keyword">String</span>&gt; f1 = s -&gt; s.<span class="built_in">toLowerCase</span>(),</span><br><span class="line">    f2 = s -&gt; s.<span class="built_in">replaceAll</span>(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>),f3 = f1.<span class="built_in">andThen</span>(f2),f4= f1.<span class="built_in">compose</span>(f2);</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">String</span>[] args)</span> </span>&#123;</span><br><span class="line">        System.out.<span class="built_in">println</span>(f3.<span class="built_in">apply</span>(<span class="string">&quot;A&quot;</span>)); <span class="comment">// a</span></span><br><span class="line">        System.out.<span class="built_in">println</span>(f4.<span class="built_in">apply</span>(<span class="string">&quot;A&quot;</span>)); <span class="comment">// b</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">Function</span>&lt;<span class="built_in">String</span>, <span class="built_in">Function</span>&lt;<span class="built_in">String</span>,<span class="built_in">String</span>&gt;&gt; f = a -&gt; b -&gt; a + b;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">void</span> <span class="function"><span class="title">main</span>(<span class="params"><span class="built_in">String</span>[] args</span>)</span> &#123;</span><br><span class="line">        System.out.println(f.apply(<span class="string">&quot;hello&quot;</span>).apply(<span class="string">&quot;java&quot;</span>)); <span class="comment">// hello java</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Supplier</code> 的运用，如反射实例化对象</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MySupplier</span>&lt;<span class="title">T</span>&gt; <span class="title">implements</span> <span class="title">Supplier</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Class&lt;T&gt; <span class="keyword">type</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="title">MySupplier</span>(<span class="params">Class&lt;T&gt; <span class="keyword">type</span></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.type = <span class="keyword">type</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">type</span>.newInstance();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Supplier&lt;T&gt; <span class="function"><span class="title">newInstance</span>(<span class="params">Class&lt;T&gt; <span class="keyword">type</span></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MySupplier&lt;&gt;(<span class="keyword">type</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">void</span> <span class="function"><span class="title">main</span>(<span class="params"><span class="built_in">String</span>[] args</span>)</span> &#123;</span><br><span class="line">       Bean bean = newInstance(Bean.class).get(); <span class="comment">// 无参构造</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bean</span> </span>&#123;</span><br><span class="line">    <span class="built_in">String</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="title">implements</span> <span class="title">Supplier</span>&lt;</span>Integer&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">int</span> item;</span><br><span class="line">    @Override</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> item++ ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">String</span>[] args)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">Stream</span>.<span class="built_in">generate</span>(<span class="keyword">new</span> <span class="built_in">Test</span>()).<span class="built_in">limit</span>(<span class="number">10</span>).forEach(System.out::println); <span class="comment">// 0~9</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>举一些比较冷门的例子<br><code> merge</code></p>
<figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Test</span> &#123;</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="literal">void</span> main(<span class="built_in">String</span>[] args) &#123;</span><br><span class="line">        HashMap&lt;<span class="built_in">String</span>,<span class="built_in">String</span>&gt; <span class="keyword">map</span> = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">map</span>.put(<span class="string">&quot;k&quot;</span>,<span class="string">&quot;v&quot;</span>);</span><br><span class="line">        <span class="keyword">map</span>.merge<span class="function"><span class="params">(<span class="string">&quot;k&quot;</span>,<span class="string">&quot;v&quot;</span>,(oldV,newV) -&gt; oldV.concat(newV))</span>;</span></span><br><span class="line"><span class="function">        <span class="title">map</span>.<span class="title">entrySet</span><span class="params">()</span>.<span class="title">forEach</span><span class="params">(System.out::println)</span>;</span></span><br><span class="line"><span class="function">    &#125;</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
<p><code>reduce</code></p>
<figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Test</span> &#123;</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="literal">void</span> main(<span class="built_in">String</span>[] args) &#123;</span><br><span class="line">        HashMap&lt;<span class="built_in">String</span>,<span class="built_in">String</span>&gt; <span class="keyword">map</span> = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">map</span>.put(<span class="string">&quot;k1&quot;</span>,<span class="string">&quot;v1&quot;</span>);</span><br><span class="line">        <span class="keyword">map</span>.put(<span class="string">&quot;k2&quot;</span>,<span class="string">&quot;v2&quot;</span>);</span><br><span class="line">        <span class="built_in">String</span> result = <span class="keyword">map</span>.entrySet<span class="function"><span class="params">()</span>.<span class="title">stream</span><span class="params">()</span>.<span class="title">map</span><span class="params">(<span class="built_in">Map</span>.Entry::getKey)</span>.<span class="title">reduce</span><span class="params">((k1,k2) -&gt; k1.concat(k2))</span>.<span class="title">get</span><span class="params">()</span>;</span></span><br><span class="line"><span class="function">        <span class="title">System</span>.<span class="title">out</span>.<span class="title">println</span><span class="params">(result)</span>;</span></span><br><span class="line"><span class="function">    &#125;</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>

<p><code>Collectors.mapping</code> 下游收集器，对姓名进行分组，然后收集<code>count</code>最大的数据</p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">String</span>[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Bean&gt; list = Lists.<span class="built_in">newArrayList</span>(</span><br><span class="line">                <span class="keyword">new</span> <span class="built_in">Bean</span>(<span class="string">&quot;a&quot;</span>,<span class="number">100</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="built_in">Bean</span>(<span class="string">&quot;a&quot;</span>,<span class="number">200</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="built_in">Bean</span>(<span class="string">&quot;c&quot;</span>,<span class="number">200</span>));</span><br><span class="line">        Map&lt;<span class="keyword">String</span>, Optional&lt;Integer&gt;&gt; map =  list</span><br><span class="line">                .<span class="built_in">stream</span>()</span><br><span class="line">                .<span class="built_in">collect</span>(Collectors.<span class="built_in">groupingBy</span>(Bean::getName,</span><br><span class="line">                        Collectors.<span class="built_in">mapping</span>(Bean::getCount,Collectors.<span class="built_in">maxBy</span>(</span><br><span class="line">                        Comparator.<span class="built_in">comparing</span>(Function.<span class="built_in">identity</span>())))));</span><br><span class="line">        System.out.<span class="built_in">println</span>(map.<span class="built_in">get</span>(<span class="string">&quot;a&quot;</span>)); <span class="comment">// 200</span></span><br><span class="line">        System.out.<span class="built_in">println</span>(map.<span class="built_in">get</span>(<span class="string">&quot;c&quot;</span>)); <span class="comment">// 200</span></span><br><span class="line">    &#125;</span><br><span class="line">    @Data</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Bean</span> &#123;</span></span><br><span class="line">        @NonNull</span><br><span class="line">        <span class="keyword">String</span> name;</span><br><span class="line">        @NonNull</span><br><span class="line">        Integer count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>collectingAndThen</code> 下游收集器 ，对名字进行分组，然后收集最大的 <code>count</code> 数据，并取得最大的结果，<br> <code>collectingAndThen</code> 是为了对分组的数据进一步处理，而 <code>Collectors.mapping</code> 和 <code>.map</code> 类似，是对数据的一种转换，映射，看下面第二个例子， <code>collectingAndThen</code>  和 <code>toMap</code> 类似，看下面第三个例子</p>
<figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> void main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">        List&lt;Bean&gt; list = Lists.<span class="keyword">new</span><span class="type">ArrayList</span>(</span><br><span class="line">                <span class="keyword">new</span> <span class="type">Bean</span>(<span class="string">&quot;a&quot;</span>,<span class="number">100</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="type">Bean</span>(<span class="string">&quot;a&quot;</span>,<span class="number">200</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="type">Bean</span>(<span class="string">&quot;c&quot;</span>,<span class="number">200</span>));</span><br><span class="line">        Map&lt;<span class="keyword">String</span>, Integer&gt; map =  list</span><br><span class="line">                .stream()</span><br><span class="line">                .collect(Collectors.groupingBy(Bean:<span class="type"></span>:getName,</span><br><span class="line">                        Collectors.collectingAndThen(Collectors.mapping(Bean:<span class="type"></span>:getCount,Collectors.maxBy(Comparator.comparing(Function.identity()))),Optional:<span class="type"></span>:<span class="keyword">get</span>)));</span><br><span class="line">        map.entrySet().forEach(System.out:<span class="type"></span>:println); <span class="comment">// 打印 a=200 c=200</span></span><br><span class="line">    &#125;</span><br><span class="line">    @Data</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Bean</span> </span>&#123;</span><br><span class="line">        @NonNull</span><br><span class="line">        <span class="keyword">String</span> name;</span><br><span class="line">        @NonNull</span><br><span class="line">        Integer count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结果和 <code>list.stream().map(Bean::getCount).collect(Collectors.toList());</code> 一样</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="built_in">public</span> <span class="keyword">class</span> Test &#123;</span><br><span class="line">    <span class="built_in">public</span> static <span class="type">void</span> main(String[] args) &#123;</span><br><span class="line">        List&lt;Bean&gt; list = Lists.newArrayList(</span><br><span class="line">                <span class="built_in">new</span> Bean(&quot;a&quot;,<span class="number">100</span>),</span><br><span class="line">                <span class="built_in">new</span> Bean(&quot;a&quot;,<span class="number">200</span>),</span><br><span class="line">                <span class="built_in">new</span> Bean(&quot;c&quot;,<span class="number">200</span>));</span><br><span class="line">        Collector&lt;Bean,<span class="type">Integer</span>,List&lt;<span class="type">Integer</span>&gt;&gt; collector = (Collector&lt;Bean, <span class="type">Integer</span>, List&lt;<span class="type">Integer</span>&gt;&gt;) Collectors.<span class="keyword">mapping</span>(Bean::getCount,Collectors.toList());</span><br><span class="line">        List&lt;<span class="type">Integer</span>&gt; <span class="keyword">temp</span> = list.stream().collect(collector);</span><br><span class="line">        <span class="keyword">temp</span>.<span class="keyword">forEach</span>(<span class="keyword">System</span>.<span class="keyword">out</span>::println);</span><br><span class="line">    &#125;</span><br><span class="line">    @Data</span><br><span class="line">    static <span class="keyword">class</span> Bean &#123;</span><br><span class="line">        @NonNull</span><br><span class="line">        String <span class="type">name</span>;</span><br><span class="line">        @NonNull</span><br><span class="line">        <span class="type">Integer</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">        <span class="keyword">List</span>&lt;Bean&gt; <span class="keyword">list</span> = Lists.newArrayList(</span><br><span class="line">                <span class="keyword">new</span> Bean(<span class="string">&quot;a&quot;</span>,<span class="number">100</span>),</span><br><span class="line">                <span class="keyword">new</span> Bean(<span class="string">&quot;a&quot;</span>,<span class="number">200</span>),</span><br><span class="line">                <span class="keyword">new</span> Bean(<span class="string">&quot;c&quot;</span>,<span class="number">200</span>));</span><br><span class="line">      Map&lt;<span class="keyword">String</span>,<span class="keyword">Integer</span>&gt; map = <span class="keyword">list</span>.stream().collect(Collectors.toMap(Bean::getName,Bean::getCount,<span class="keyword">Integer</span>::max));</span><br><span class="line">      map.entrySet().stream().<span class="keyword">forEach</span>(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">    @Data</span><br><span class="line">    <span class="built_in">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Bean</span> </span>&#123;</span><br><span class="line">        @NonNull</span><br><span class="line">        <span class="keyword">String</span> name;</span><br><span class="line">        @NonNull</span><br><span class="line">        <span class="keyword">Integer</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Collectors.partitioningBy</code> 条件分组，满足条件为 <code>true</code>，举个例子</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">void</span> <span class="function"><span class="title">main</span>(<span class="params"><span class="built_in">String</span>[] args</span>)</span> &#123;</span><br><span class="line">        List&lt;Bean&gt; list = Lists.newArrayList(</span><br><span class="line">                <span class="keyword">new</span> Bean(<span class="string">&quot;a&quot;</span>,<span class="number">100</span>),</span><br><span class="line">                <span class="keyword">new</span> Bean(<span class="string">&quot;a&quot;</span>,<span class="number">200</span>),</span><br><span class="line">                <span class="keyword">new</span> Bean(<span class="string">&quot;c&quot;</span>,<span class="number">200</span>));</span><br><span class="line">      <span class="built_in">Map</span>&lt;<span class="built_in">Boolean</span>, List&lt;Bean&gt;&gt; map =</span><br><span class="line">              list.stream().collect(Collectors.partitioningBy(bean -&gt; bean.getCount() &gt; <span class="number">100</span>,</span><br><span class="line">                      Collectors.mapping(<span class="built_in">Function</span>.identity(),Collectors.toList())));</span><br><span class="line">    map.entrySet().stream().forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Data</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Bean</span> </span>&#123;</span><br><span class="line">        <span class="meta">@NonNull</span></span><br><span class="line">        <span class="built_in">String</span> name;</span><br><span class="line">        <span class="meta">@NonNull</span></span><br><span class="line">        Integer count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>控制台打印</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="literal">false</span>=[Test.Bean(<span class="attribute">name</span>=a, <span class="attribute">count</span>=100)]</span><br><span class="line"><span class="literal">true</span>=[Test.Bean(<span class="attribute">name</span>=a, <span class="attribute">count</span>=200), Test.Bean(<span class="attribute">name</span>=c, <span class="attribute">count</span>=200)]</span><br></pre></td></tr></table></figure>
<p><code>Collectors.reducing</code>  对名字进行分组，然后收集最大的 <code>count</code> 数据</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">        <span class="keyword">List</span>&lt;Bean&gt; <span class="keyword">list</span> = Lists.newArrayList(</span><br><span class="line">                <span class="keyword">new</span> Bean(<span class="string">&quot;a&quot;</span>,<span class="number">100</span>),</span><br><span class="line">                <span class="keyword">new</span> Bean(<span class="string">&quot;a&quot;</span>,<span class="number">200</span>),</span><br><span class="line">                <span class="keyword">new</span> Bean(<span class="string">&quot;c&quot;</span>,<span class="number">200</span>));</span><br><span class="line">        BinaryOperator&lt;<span class="keyword">Integer</span>&gt; beanBinaryOperator = BinaryOperator.maxBy(<span class="keyword">Integer</span>::compareTo);</span><br><span class="line">            Map&lt;<span class="keyword">String</span>,<span class="keyword">Integer</span>&gt; map  =  <span class="keyword">list</span>.stream().collect(Collectors.groupingBy(Bean::getName,Collectors.reducing(<span class="number">0</span>,Bean::getCount,beanBinaryOperator)));</span><br><span class="line">        map.entrySet().stream().<span class="keyword">forEach</span>(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">    @Data</span><br><span class="line">    <span class="built_in">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Bean</span> </span>&#123;</span><br><span class="line">        @NonNull</span><br><span class="line">        <span class="keyword">String</span> name;</span><br><span class="line">        @NonNull</span><br><span class="line">        <span class="keyword">Integer</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">a</span>=<span class="number">200</span></span><br><span class="line"><span class="attr">c</span>=<span class="number">200</span></span><br></pre></td></tr></table></figure>


<p><code>Collector.of()</code>  看下部分源码，<code>supplier</code> 提供者<code>A</code>，一般是提供操作的容器，元素等工具，<code>accumulator</code> 是 <code>A</code> 对 <code>T</code> 元素进行一个操作，<code>combiner</code> 是<code>A</code>对 <code>T</code> 操作的结果进行一个合并，<code>finisher</code> 将 <code>A</code> 进行转换返回结果 <code>R</code></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span><span class="operator">&lt;</span><span class="type">T</span>, <span class="type">A</span>, <span class="type">R</span><span class="operator">&gt;</span> <span class="type">Collector</span>&lt;<span class="type">T</span>, <span class="type">A</span>, <span class="type">R</span>&gt; of(<span class="type">Supplier</span>&lt;<span class="type">A</span>&gt; supplier,</span><br><span class="line">                                             <span class="type">BiConsumer</span>&lt;<span class="type">A</span>, <span class="type">T</span>&gt; accumulator,</span><br><span class="line">                                             <span class="type">BinaryOperator</span>&lt;<span class="type">A</span>&gt; combiner,</span><br><span class="line">                                             <span class="type">Function</span>&lt;<span class="type">A</span>, <span class="type">R</span>&gt; finisher</span><br></pre></td></tr></table></figure>
<p>举个例子</p>
<figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> void main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">        List&lt;Bean&gt; list = Lists.<span class="keyword">new</span><span class="type">ArrayList</span>(</span><br><span class="line">                <span class="keyword">new</span> <span class="type">Bean</span>(<span class="string">&quot;a&quot;</span>,<span class="number">100</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="type">Bean</span>(<span class="string">&quot;a&quot;</span>,<span class="number">200</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="type">Bean</span>(<span class="string">&quot;c&quot;</span>,<span class="number">200</span>));</span><br><span class="line">        Collector&lt;Bean,StringJoiner,<span class="keyword">String</span>&gt; collector = Collector.of(</span><br><span class="line">                () -&gt; <span class="keyword">new</span> <span class="type">StringJoiner</span>(<span class="string">&quot;,&quot;</span>),</span><br><span class="line">                (stringJoiner,bean) -&gt; stringJoiner.add(bean.getName()),</span><br><span class="line">                StringJoiner:<span class="type"></span>:merge,</span><br><span class="line">                StringJoiner:<span class="type"></span>:toString</span><br><span class="line">        );</span><br><span class="line">        System.out.println(list.stream().collect(collector));</span><br><span class="line">    &#125;</span><br><span class="line">    @Data</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Bean</span> </span>&#123;</span><br><span class="line">        @NonNull</span><br><span class="line">        <span class="keyword">String</span> name;</span><br><span class="line">        @NonNull</span><br><span class="line">        Integer count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参考</p>
<p> <a href="https://winterbe.com/posts/2014/03/16/java-8-tutorial/">java-8-tutorial</a><br><a href="https://www.kancloud.cn/hanxt/javacrazy/">恕我直言：你可能真的不会java编程</a></p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>mybatis</title>
    <url>/2021/04/21/mybatis/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1807381939&auto=1&height=66"></iframe>
 <span id="more"></span>

<p>项目中<code>CRUD</code>，写好<code>XML</code>很重要<br>个人经常使用的模板</p>
<ul>
<li>定义全属性的 <code>ResultMap</code></li>
<li>使用 <code>&lt;sql&gt;&lt;/sql&gt;</code> 抽离片段<br><code>&lt;include&gt;&lt;/include&gt;</code> 重复使用 <ul>
<li>表名 <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;tableName&quot;</span>&gt;</span></span><br><span class="line">    表名</span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>order by 条件<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;condition&quot;</span>&gt;</span></span><br><span class="line">    表字段</span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>表字段<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">&lt;sql <span class="built_in">id</span>=<span class="string">&quot;allFields&quot;</span>&gt;</span><br><span class="line">    <span class="built_in">id</span>,</span><br><span class="line">    <span class="built_in">name</span>,</span><br><span class="line">    ...</span><br><span class="line">    表字段</span><br><span class="line">&lt;/sql&gt;</span><br></pre></td></tr></table></figure></li>
<li>表字段赋值<figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;allValues&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    #</span><span class="template-variable">&#123;id,jdbcType = BIGINT&#125;</span><span class="xml">,...</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li>
<li>主键赋值<figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;uniquekeyField&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    #</span><span class="template-variable">&#123;id,jdbcType = BIGINT&#125;</span><span class="xml">；</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li>
<li>条件赋值<figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;setValues&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;id != null&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        id = #</span><span class="template-variable">&#123;id,jdbcType = BIGINT&#125;</span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml">   ...</span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li>
<li>搜索条件赋值 <code>prefixOverrides</code> 当第一个条件不满足，自动去除<code>AND 或者 OR</code>  <figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">sql</span> id = &quot;searchFields&quot;&gt;</span><br><span class="line">    trim prefix=&quot;where&quot; prefixOverrides=&quot;and|or&quot;&gt;  </span><br><span class="line">        &lt;<span class="keyword">if</span> test=&quot;name!=null&quot;&gt;  </span><br><span class="line">            <span class="keyword">AND</span> <span class="type">name</span> <span class="keyword">like</span> concat(<span class="string">&#x27;%&#x27;</span>,#&#123;<span class="type">name</span>,jdbcType=<span class="type">VARCHAR</span>&#125;,<span class="string">&#x27;%&#x27;</span>)</span><br><span class="line">        &lt;/<span class="keyword">if</span>&gt;  </span><br><span class="line">    &lt;/trim&gt;  </span><br><span class="line">&lt;/<span class="keyword">sql</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li>分页查询<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">select</span> id = <span class="string">&quot;findByPage&quot;</span> resultMap = <span class="string">&quot;resultMap&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">select</span> &lt;<span class="keyword">include</span> refid = <span class="string">&quot;allFields&quot;</span> /&gt;</span><br><span class="line">    <span class="keyword">from</span> 表名</span><br><span class="line">    &lt;<span class="keyword">include</span> refid = <span class="string">&quot;searchFields&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">limit</span> #&#123;开始&#125;,#&#123;分页大小&#125;</span><br><span class="line">&lt;/<span class="keyword">select</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li>查询数量<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">select</span> id = <span class="string">&quot;findByCount&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">select</span> <span class="built_in">count</span>(<span class="number">1</span>) <span class="keyword">from</span> 表名</span><br><span class="line">    &lt;<span class="keyword">include</span> refid = <span class="string">&quot;searchFields&quot;</span>&gt;</span><br><span class="line"> &lt;/<span class="keyword">select</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li>查询所有字段<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">select</span> id=<span class="string">&quot;findAllFields&quot;</span>&gt;</span><br><span class="line">   <span class="keyword">select</span> &lt;<span class="keyword">include</span> refid = <span class="string">&quot;allFields&quot;</span>&gt;</span><br><span class="line">   <span class="keyword">from</span> 表名</span><br><span class="line">   &lt;<span class="keyword">include</span> refid = <span class="string">&quot;allValues&quot;</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">select</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li>根据 <code>id</code> 查询，复用 <code>uniquekeyField</code> <figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">select</span> id=<span class="string">&quot;findById&quot;</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">select</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li>批量查询<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">select</span> id=<span class="string">&quot;batchSelect&quot;</span> resultType=<span class="string">&quot;&quot;</span> parameterType=<span class="string">&quot;java.util.List&quot;</span>&gt;</span><br><span class="line">        <span class="keyword">select</span> &lt;<span class="keyword">include</span> refid = <span class="string">&quot;allFields&quot;</span>&gt;</span><br><span class="line">        <span class="keyword">from</span> 表名 </span><br><span class="line">        &lt;<span class="keyword">where</span>&gt;</span><br><span class="line">           id <span class="keyword">in</span></span><br><span class="line">            &lt;<span class="built_in">trim</span> prefix=<span class="string">&quot;(&quot;</span> suffix=<span class="string">&quot;)&quot;</span>&gt;</span><br><span class="line">                &lt;foreach <span class="keyword">collection</span>=<span class="string">&quot;list&quot;</span> item=<span class="string">&quot;item&quot;</span>  <span class="keyword">index</span>=<span class="string">&quot;index&quot;</span>  separator=<span class="string">&quot;,&quot;</span>&gt;</span><br><span class="line">                    &lt;<span class="keyword">include</span> refid = <span class="string">&quot;setValues&quot;</span>&gt;</span><br><span class="line">                &lt;/foreach&gt;</span><br><span class="line">            &lt;/<span class="built_in">trim</span>&gt;</span><br><span class="line">        &lt;/<span class="keyword">where</span>&gt;</span><br><span class="line">        <span class="keyword">order</span> <span class="keyword">by</span> &lt;<span class="keyword">include</span> refid = <span class="string">&quot;condition&quot;</span>&gt;</span><br><span class="line">    &lt;/<span class="keyword">select</span>&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"> &lt;<span class="keyword">select</span> id=&quot;findByArray&quot; parameterType=&quot;Object[]&quot; resultType=&quot;&quot;&gt;</span><br><span class="line">      <span class="keyword">select</span> &lt;<span class="keyword">include</span> refid = &quot;allFields&quot;&gt;</span><br><span class="line">      <span class="keyword">from</span> 表名</span><br><span class="line">        &lt;<span class="keyword">where</span>&gt;</span><br><span class="line">          &lt;<span class="keyword">if</span> test=&quot;array!=null&quot;&gt;</span><br><span class="line">              &lt;<span class="keyword">foreach</span> collection=&quot;array&quot; <span class="keyword">index</span>=&quot;index&quot; item=&quot;item&quot;</span><br><span class="line">                           <span class="keyword">open</span>=&quot;and id in(&quot;separator=&quot;,&quot;<span class="keyword">close</span>=&quot;)&quot;&gt;</span><br><span class="line">                      #&#123;item.id&#125;</span><br><span class="line">              &lt;/<span class="keyword">foreach</span>&gt;</span><br><span class="line">        &lt;/<span class="keyword">if</span>&gt;</span><br><span class="line">        &lt;/<span class="keyword">where</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">select</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li>插入  <figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">insert</span> id = <span class="string">&quot;insert&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">insert</span> <span class="keyword">into</span> 表名</span><br><span class="line">    &lt;<span class="keyword">include</span> refid = <span class="string">&quot;allFields&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">values</span></span><br><span class="line">    &lt;<span class="keyword">include</span> refid = <span class="string">&quot;setValues&quot;</span>&gt;</span><br><span class="line"> &lt;/<span class="keyword">insert</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li>批量插入<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;batchInsert&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;java.util.List&quot;</span> <span class="attr">useGeneratedKeys</span>=<span class="string">&quot;true&quot;</span> <span class="attr">keyProperty</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">     insert into 表名 </span><br><span class="line">     <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span> = <span class="string">&quot;allFields&quot;</span>&gt;</span></span><br><span class="line">     values</span><br><span class="line">     <span class="comment">&lt;!--mybatis 参数映射为list @Param 可以指定入参名称--&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;list&quot;</span> <span class="attr">item</span>=<span class="string">&quot;item&quot;</span> <span class="attr">index</span>=<span class="string">&quot;index&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span> = <span class="string">&quot;setValues&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>批量主键删除<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"> &lt;<span class="keyword">delete</span> id=&quot;batchDelete&quot; parameterType=&quot;long&quot;&gt;</span><br><span class="line">    <span class="keyword">delete</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> id <span class="keyword">in</span></span><br><span class="line">    &lt;<span class="keyword">foreach</span> collection=&quot;array&quot; item=&quot;item&quot; <span class="keyword">open</span>=&quot;(&quot; separator=&quot;,&quot; <span class="keyword">close</span>=&quot;)&quot;&gt;</span><br><span class="line">    &lt;<span class="keyword">include</span> refid = &quot;uniquekeyField&quot;&gt;</span><br><span class="line">    &lt;/<span class="keyword">foreach</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">delete</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li>主键删除<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"> &lt;<span class="keyword">delete</span> id=<span class="string">&quot;delete&quot;</span> parameterType=<span class="string">&quot;long&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">delete</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> id = &lt;<span class="keyword">include</span> refid = <span class="string">&quot;uniquekeyField&quot;</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">delete</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li>批量删除 <code>map.put(&quot;ids&quot;,&quot;1,2,3&quot;);map.put(&quot;name&quot;,&quot;kangpan&quot;)</code> <figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;batchDelete&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;java.util.Map&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">  delete from 表名</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;ids != null&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            id in (#</span><span class="template-variable">&#123;ids,jdbcType=BIGINT&#125;</span><span class="xml">)</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;name != null &amp;&amp; name != &#x27;&#x27;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            and name = #</span><span class="template-variable">&#123;name,jdbcType=VARCHAR&#125;</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li>
<li>更新<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"> &lt;<span class="keyword">update</span> id=<span class="string">&quot;update&quot;</span> parameterType=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">update</span> 表名 </span><br><span class="line">    &lt;<span class="keyword">set</span>&gt;</span><br><span class="line">      &lt;<span class="keyword">include</span> refid = <span class="string">&quot;setValues&quot;</span>&gt;</span><br><span class="line">    &lt;/<span class="keyword">set</span>&gt;</span><br><span class="line">    <span class="keyword">where</span> t.id = &lt;<span class="keyword">include</span> refid = <span class="string">&quot;uniquekeyField&quot;</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">update</span>&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">update</span> id=<span class="string">&quot;update&quot;</span> parameterType=<span class="string">&quot;&quot;</span>&gt;  </span><br><span class="line">      <span class="keyword">update</span> 表名  </span><br><span class="line">      &lt;<span class="built_in">trim</span> prefix=<span class="string">&quot;SET&quot;</span> suffixOverrides=<span class="string">&quot;,&quot;</span>&gt;  </span><br><span class="line">      &lt;<span class="keyword">include</span> refid = <span class="string">&quot;setValues&quot;</span>&gt;</span><br><span class="line">      &lt;/<span class="built_in">trim</span>&gt;  </span><br><span class="line">      <span class="keyword">where</span> id = &lt;<span class="keyword">include</span> refid = <span class="string">&quot;uniquekeyField&quot;</span>&gt; </span><br><span class="line">  &lt;/<span class="keyword">update</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li>批量更新<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"> &lt;<span class="keyword">update</span> id=&quot;batchUpdate&quot; parameterType=&quot;java.util.List&quot;&gt;</span><br><span class="line">    &lt;<span class="keyword">foreach</span> collection=&quot;list&quot; item=&quot;item&quot; <span class="keyword">index</span>=&quot;index&quot; <span class="keyword">open</span>=&quot;&quot; <span class="keyword">close</span>=&quot;&quot; separator=&quot;;&quot;&gt;</span><br><span class="line">        <span class="keyword">update</span> 表名 </span><br><span class="line">        &lt;<span class="keyword">set</span>&gt;</span><br><span class="line">            &lt;<span class="keyword">include</span> refid = &quot;setValues&quot;&gt;</span><br><span class="line">        &lt;/<span class="keyword">set</span>&gt;</span><br><span class="line">        <span class="keyword">where</span> t.id = &lt;<span class="keyword">include</span> refid = &quot;uniquekeyField&quot;&gt;</span><br><span class="line">    &lt;/<span class="keyword">foreach</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">update</span>&gt;</span><br></pre></td></tr></table></figure>
<a href="https://mybatis.org/mybatis-3/zh/">了解更多</a></li>
</ul>
</li>
</ul>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title>在容器中搭建运行FTP服务器</title>
    <url>/2021/04/29/%E5%9C%A8%E5%AE%B9%E5%99%A8%E4%B8%AD%E6%90%AD%E5%BB%BA%E8%BF%90%E8%A1%8CFTP%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="执行步骤"><a href="#执行步骤" class="headerlink" title="执行步骤"></a>执行步骤</h3><h4 id="查看-docker-search-vsftpd"><a href="#查看-docker-search-vsftpd" class="headerlink" title="查看 docker search vsftpd"></a>查看 <code>docker search vsftpd</code></h4><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">NAME</span>                                     DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED</span><br><span class="line"><span class="attribute">fauria</span>/vsftpd                            vsftpd Docker image based <span class="literal">on</span> Centos <span class="number">7</span>. Suppo…   <span class="number">153</span>                                    <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">panubo</span>/vsftpd                            vsftpd - Secure, fast FTP server                <span class="number">36</span>                                     <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">vimagick</span>/vsftpd                                                                          <span class="number">13</span>                                     <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">odiobill</span>/vsftpd                          Very light vsftpd installation based <span class="literal">on</span> Debi…   <span class="number">7</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">million12</span>/vsftpd                         VSFTPD Server in a Docker                       <span class="number">7</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">emilybache</span>/vsftpd-server                                                                 <span class="number">6</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">avenus</span>/vsftpd-alpine                     Docker image of vsftpd server based <span class="literal">on</span> Alpin…   <span class="number">5</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">wildscamp</span>/vsftpd                         An FTP server designed to simplify local dev…   <span class="number">4</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">loicmathieu</span>/vsftpd                       vsftpd container                                <span class="number">2</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">akue</span>/vsftpd                              vsftpd Docker image based <span class="literal">on</span> Centos <span class="number">7</span>. Suppo…   <span class="number">1</span></span><br><span class="line"><span class="attribute">hiproz</span>/vsftpd                            an vsftpd that support virtual user which ha…   <span class="number">1</span></span><br><span class="line"><span class="attribute">benssson</span>/vsftpd                          copy of wildscamp/vsftpd but with pasv_addr_…   <span class="number">1</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">instantlinux</span>/vsftpd                      A clean, easy-to-use, tiny yet full-featured…   <span class="number">1</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">mikenye</span>/vsftpd-anon-uploads              A generic, ready-to-go anonymous ftp server …   <span class="number">1</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">undying</span>/vsftpd                           Vsftpd Docker Container                         <span class="number">0</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">ledermann</span>/vsftpd                         Clone of helderco/docker-vsftpd, just to pro…   <span class="number">0</span></span><br><span class="line"><span class="attribute">dmanas</span>/vsftpd-mysql                                                                      <span class="number">0</span></span><br><span class="line"><span class="attribute">dolphyvn</span>/vsftpd_priv                                                                     <span class="number">0</span></span><br><span class="line"><span class="attribute">markhobson</span>/vsftpd                                                                        <span class="number">0</span></span><br><span class="line"><span class="attribute">valus</span>/vsftpd                             vsftpd <span class="literal">on</span> CentOS <span class="number">7</span> for internal usage.          <span class="number">0</span></span><br><span class="line"><span class="attribute">shourai</span>/vsftpd-alpine                    vsftpd based <span class="literal">on</span> alpine                          <span class="number">0</span></span><br><span class="line"><span class="attribute">ernestas</span>/vsftpd-server                   simple vsftpd server                            <span class="number">0</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">openmicroscopy</span>/vsftpd-anonymous-upload   Vsftpd Docker image for anonymous FTP upload…   <span class="number">0</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"><span class="attribute">zloystrelok</span>/vsftpd                       fixed fork vsftpd                               <span class="number">0</span></span><br><span class="line"><span class="attribute">vistrcm</span>/vsftpd                           This Docker container implements a vsftpd se…   <span class="number">0</span>                                      <span class="meta"> [OK]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<span id="more"></span>
<h4 id="拉取镜像-docker-pull-fauria-vsftpd"><a href="#拉取镜像-docker-pull-fauria-vsftpd" class="headerlink" title="拉取镜像 docker pull fauria/vsftpd"></a>拉取镜像 <code>docker pull fauria/vsftpd</code></h4><figure class="highlight ldif"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Using default tag</span>: latest</span><br><span class="line"><span class="attribute">latest</span>: Pulling from fauria/vsftpd</span><br><span class="line"><span class="attribute">75f829a71a1c</span>: Downloading [=&gt;                                                 ]   2.15MB/75.86MB</span><br><span class="line"><span class="attribute">a1a6b490d7c7</span>: Downloading [=====&gt;                                             ]  719.8kB/6.415MB</span><br><span class="line"><span class="attribute">ad2cabfec967</span>: Downloading [======&gt;                                            ]  986.3kB/7.923MB</span><br><span class="line"><span class="attribute">c7a98e8d62f5</span>: Waiting</span><br><span class="line"><span class="attribute">10d192add873</span>: Waiting</span><br><span class="line"><span class="attribute">fc18a09c86d0</span>: Waiting</span><br><span class="line"><span class="attribute">5397e9c5e314</span>: Waiting</span><br><span class="line"><span class="attribute">e89f582c70f5</span>: Waiting</span><br><span class="line"><span class="attribute">8b8bdebbfc97</span>: Waiting</span><br><span class="line"><span class="attribute">026ae919720d</span>: Waiting</span><br></pre></td></tr></table></figure>
<h3 id="获取本机地址-ipconfig"><a href="#获取本机地址-ipconfig" class="headerlink" title="获取本机地址 ipconfig"></a>获取本机地址 <code>ipconfig</code></h3><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">以太网适配器 vEthernet (Default Switch):</span><br><span class="line"></span><br><span class="line">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class="line">   本地链接 IPv6 地址. . . . . . . . : <span class="type">fe80</span>::f55c:<span class="number">61e5</span>:<span class="number">557</span>f:<span class="number">503</span>d%<span class="number">39</span></span><br><span class="line">   IPv4 地址 . . . . . . . . . . . . : 192.168.231.193</span><br><span class="line">   子网掩码  . . . . . . . . . . . . : 255.255.255.240</span><br><span class="line">   默认网关. . . . . . . . . . . . . :</span><br></pre></td></tr></table></figure>
<h3 id="运行容器"><a href="#运行容器" class="headerlink" title="运行容器"></a>运行容器</h3><p>参数说明：<br><code>C:/docker-data/:/home/vsftpd</code> :映射 <code>docker</code> 容器 <code>ftp</code> 文件根目录（冒号前面是宿主机的目录<br><code>-p</code>：映射 <code>docker</code> 端口（冒号前面是宿主机的端口）<br><code>-e FTP_USER=test -e FTP_PASS=test </code>：设置默认的用户名密码<br><code>PASV_ADDRESS</code>：宿主机 <code>ip</code>，当需要使用被动模式时必须设置。<br><code>PASV_MIN_PORT~ PASV_MAX_PORT</code>：给客服端提供下载服务随机端口号范围，默认 <code>21100-21110</code>，与前面的 <code>docker</code> 端口映射设置成一样。</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">docker</span> run -d -v C:/docker-data/:/home/vsftpd -p <span class="number">20</span>:<span class="number">20</span> -p <span class="number">21</span>:<span class="number">21</span> -p <span class="number">21100</span>-<span class="number">21110</span>:<span class="number">21100</span>-<span class="number">21110</span> -e FTP_USER=test -e FTP_PASS=test -e PASV_ADDRESS=<span class="number">192</span>. <span class="number">168</span>.<span class="number">231</span>.<span class="number">193</span> -e PASV_MIN_PORT=<span class="number">21100</span> -e PASV_MAX_PORT=<span class="number">21110</span> --name vsftpd --restart=always fauria/vsftpd</span><br></pre></td></tr></table></figure>
<h3 id="进入容器-docker-exec-i-t-vsftpd-bash"><a href="#进入容器-docker-exec-i-t-vsftpd-bash" class="headerlink" title="进入容器 docker exec -i -t vsftpd bash"></a>进入容器 <code>docker exec -i -t vsftpd bash</code></h3><p>进入 <code>home/vsftpd</code> 文件，查看创建的用户 <code>test</code>，进入<code>test</code> 目录， 创建 <code>1.txt 2.txt</code>，或者在宿主机的 <code>C:/docker-data/test</code> 文件里面手动创建，创建之后自动更新 <code>home/vsftpd/test</code>里面的文件。</p>
<figure class="highlight tcl"><table><tr><td class="code"><pre><span class="line">[root@bfdc203461de /]# ls</span><br><span class="line">anaconda-post.log  bin  dev  etc  home  lib  lib64  media  mnt  opt  <span class="keyword">proc</span><span class="title">  root</span> <span class="title"> run</span> <span class="title"> sbin</span> <span class="title"> srv</span> <span class="title"> sys</span> <span class="title"> tmp</span> <span class="title"> usr</span> <span class="title"> var</span></span><br><span class="line"><span class="title">[root@bfdc203461de</span> /]#<span class="title"> cd</span> home/</span><br><span class="line">[root@bfdc203461de<span class="title"> home]#</span> ls</span><br><span class="line">vsftpd</span><br><span class="line">[root@bfdc203461de<span class="title"> home]#</span> cd<span class="title"> vsftpd/</span></span><br><span class="line"><span class="title">[root@bfdc203461de</span> vsftpd]#<span class="title"> ls</span></span><br><span class="line"><span class="title">index.html</span> <span class="title"> test</span></span><br><span class="line"><span class="title">[root@bfdc203461de</span> vsftpd]#<span class="title"> cd</span> test/</span><br><span class="line">[root@bfdc203461de<span class="title"> test]#</span> ls</span><br><span class="line">1.txt  2.txt</span><br><span class="line">[root@bfdc203461de<span class="title"> test]#</span> exit</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>
<p>使用<code>IE</code>浏览器 输入 <code>ftp://192.168.231.193/</code>可以查看到我们新建的文件</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">FTP 根位于 <span class="number">192.168</span>.<span class="number">231.193</span></span><br><span class="line">若要在文件资源管理器中查看此 FTP 站点，请单击“视图”，然后单击“在文件资源管理器中打开 FTP 站点”。 </span><br><span class="line"><span class="number">04</span><span class="regexp">/29/</span><span class="number">2021</span> <span class="number">01</span>:<span class="number">10</span>下午              <span class="number">0</span> <span class="number">1</span>.txt</span><br><span class="line"><span class="number">04</span><span class="regexp">/29/</span><span class="number">2021</span> <span class="number">01</span>:<span class="number">12</span>下午              <span class="number">0</span> <span class="number">2</span>.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>如何编写没有web容器的Sping程序</title>
    <url>/2021/05/09/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E6%B2%A1%E6%9C%89/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="0e4c519ee927df28339c51ecb056834a81f0032157c3d33c7849ab4c66c30a96">9943c1717e2782a5be9ecb675b444bc9fb48e049bfddc91202fd6d059e1a4d5e973c33d2ffa19a01370f744b7b5845adfbaf7b3dee729ef8adad1bf6ff0db3148090605ccca2accebf2b23386aa7d6bae43623961b61a80aa02144e7c353070b787a8fbaf3d987ebd447bde6cdb936949bed683d7e4867f4d1fe674b9d83f744b5ac49f3c76d0ae93db4b32fabc0fbf741f11ac61b079b7ab3e15ce5f1252f5ed651338bff758cd04db0214375e46f4070bcda6fcbac8f31ec650b8a62c20705089d03190c5244ff132d0eb7d6f81893bfc2c0458fbc70c2ec90d5cecc10c11c56929dccabf33eeb5fcbb6541908c2352c50d6e9523a39655a167ffa3915d0afa4cbbe5c5e5850f59843663d4707276ceba5b43bb9088bf0a7c4bad99ccfeb39a2c1c496101e77b9fe099aa07622e728f9ec49987f6c296c88cfce0c18ee8d7f80b269d5e87b45a63c6dcb947d2e51b4a164844baef2f6e005236c44df7cc367efa96b5640b5bdc5e1cdce8eaeed4dd59f3e3ebf58ae9907aada8bb76e992192d057e68141bec52a79af0903bea32296d4ef8bf0449e5b147d4b53ba3f19244a97d3429731f8d157f6c280db1633f95eb67fa47b51bb2a45b6651f813f3a9b4103fee4ba2762ca4f8d718a040cd75923b957486bd15db5fce5a44b48a14e5d5d63c3bdfbcf160f3ce6672cb5c82f0ae5300e5d639797e2079c6ffa857f228d112aa4c35ea9cd1d87d01733983c1fa093daca6dffc1b0b0ecada58538793a1a02a5fd6a93bd313faeefc8be3b61c9976dd400bfcbd6563566f0ad5c50fadee93d08dd956df9a6ad3fc72790f13de6042a3187797ccbce5a9f6eb2f0642f4d984a5ffbc0b561068fcfab116e0e8c4bc0abcac9258ce13afd5eb8093b1ee86b88dd5bf50a878224d6fb6024d0826c66e19a769bc1f78f8a233129d346be49978d520e67596ab2f454be0bca90938b44a66926b61b5e52c4f205d358121d38d81ac0f1d9f15d6cba189b282039b6e655ab9679d3ba9777452257be8b5a626cf70d7851c57b0b65b594b4a6956630394516f8f6ecbc9e7cfff667c0137c170413ec237a38f8e5cb5def0c89ce8aa0f21cedbf96c2683f2dadd55b9c945b125ceff8c9cbf7c2c16d2b6a524e8f2cbc224800e7d516c421e3b4a4b964762e8a8a4c22baf0ab9c1f847c1174fd6a12b9b72ecf7f28dd0c6f0e2a55c8c5e15c4ce8c2e50b07732029f95203703d931db770738934bd5d259438dedd86552b447981081d186ae22cf1f98791d79ed07b57d4af2e6e329a6e44c8e7df2f885889e6b113b535971b74c5ffbe90a04a3c873de50edb0c58c79c0284beff028ed2e138208ba85cce4a6ae9b1d0ddcad7d7cfe5c80e4f47e166e92b4b0338aec240e86b5f88ba1563de91eaed2f07e333b4b22ff5f4e2d030756c3fc96a727c30d691bc6f94af9a9b4cbd5514fcb1d07f39a9a20acd6513bad690e84db1fa42969668f4fc649c41caf4ffb1421ea762ca52afb0564b53a095d48aacb2f175bd428f4ed823ad181dd9202ef34853fa46994bedd3cd302002d61cf39d7d87a9dbddc961e152f4862fe962a9f9ae797faca2358d5697703ec2abc3c6ac407ad5a3b2bdad225f4ac6ef14d01eb6c5804d2d0b04db569d40137fb4e3b6644c347ad6c45047a5cfaf1c44f483833231949ccbf43c91aab4eadfd35ddf8324287d3a43b5e7e244b22e6297d54314d6c6334ecfeb0ce79d81e936da96f20f67fb3f73013706b6e86edba513a9ae752641ba33d8502faa9b5cb095d17f03b5bacf27a20a22466ccade781481427abe436aa0714e7c569db0ad37e43df711aa6843fdda988c3c65e6f29c14e4de119aaad55fc79393692b4b99e7d7689b983ec7a9cae7a090da0093a8e29b6e936811e1679018a07df3d7c3b97cd5a4b61f47c60e5daf44abd2ed44766351f25be128f0bcc178b5eba8985bad7dc175540d7b9997493d826bec48df5658529f7ca11ba150587302b45ec9d70e58b94193d3dfb48ce50553c5bf521554c40489635624debb2908cb1387d1c76ffa2eb17f3ac671c8d686f62354927713ed029cc13bf7cf48f3591ac52289e5e61daf166f0ac151315f5dc5aab5423fd10a76b56b0a9cf29023062147484749251e74eb59ab60d613016973a3f7b3800ccba97318a7f7b825fe75cd98536102e9dc65248d1f2e49e3214862bff845d746c3c01b1e660130e322cc1e37245c869443c98d1cb4647c6a31b0d8603aa35bbbb390d086e4cfb390658cfde147ca97c8ae1769be1f21129585a2683d5b49117bcc5e6182ae7d7447fd1524671da39eeaa910eb7906c572fa4de4bbe9f93d33d03da2740ca8493d68123db942ee23aaf56645d05f49663f36ff99dce5cd75cfed5f49d1a7def7e0df370a5f62165d5024dcaa8d298ddd6dbcf297b9c868503df22a57ece803a7e34d6ec9de31b0629ee295d3a9f7493b2afd251603b959d80d450bc867cb07d6eed0956f28ee6d51a8a9c9dc08e071005bf58891c5c440027bccfa39cf200f1995718403360aafbb152bf22d44c8c40d7100c0385a629f17066cd453c469a9e43fe0cf242b07dd4264b59cb9f0c2554c4f3c2568e953fcb56397532ca128b04f735d671c43e6bfa756c4a7d3fc5c4ded003889d56e523be49709f23eb45c8573b148b548d424266b1005cf823de87c70ba4eaf33c7d108a79ba69a4b57c4d5fc66ed633e0a1f3a3efcbc11c5b63c8a378bcebf3893738d63481d61c1add0315eeea35b891c105202acc449b031a34466d18e3555d31650e3ff4bf7f354850aeca6c880c21d7a06c2c9afd8c553b0e2320783d201fba73932c83b78f191eea591753d5f5b7fce1431342676e46c930fba17b8490aa68cd3f674c71d0f52a0c66c5f62e4f768f4e94ae9ad8aa9cd2187fbf1fe7c19818efae70f592e0cc80967adbc49e6caabf3f8373ab1ef3a6ccd3705e07389551b2cfe3d6ede4fc2ae8c9c702066a90c564ba25423ba6045d9bbfcf5e823e7031ef56e994880e16bd437fa8078b022b9716a609cbc08de784acaa0cf0702650b6bc71f870924b38d64ddd19f4739d8ac978274db1a6ee2c206ef5464d1a30538d0475892c30cdbb714cb355a5d894ba016456b5292c8506825f9bb0b8a610e397c2ef0a61330770d9c448ee011d4232ba3bc5b207d0330297329c2df1cb79d90665d6351027e83b1bca769f8e962c2a59b1e757adc727467dc713993db84566f58ff14e2b3dd3b3dfd725c19564c3666d4662ec7c1eab85b5a2bdc5e8ef5aa452fc0618b82a2f2e8bc66d82e723628a118115833082aafb58f1ad3ee6b37b92121778c028e4635ca3f5fcc6ab5e90d64bcd283a0962d4ed788da89d3bf5d6edacf0e14fcb8b13b2dd41687e8b819d910d7da8beb168026f0a1595b3859493eaa6e12c0acb144a3f0010c65be3bd36c0a0c834583515de8a152fd4783f77fcf1ef052e3bba12abd3a8f7b211958173099931f78c28a4a0cbdb0208f082c031d7e7319f0641fff594a10de6836de3b65217c026ffe8b997bb53b755992ecaf5751d9d18dcdc43c0825d2782a9eeaa734b0f0b03e6a1bdc05f8d6242d32c4d3512302cdc1c5762d06429a5e02dcd47f4de3747cd99e3c0b921c79672ac4fd125a9895c8d74a97b42b9df3f44250f6561b8558e9ddadc090b209e2262307081c4003ab2396a0dcfdb623919df8e9901eb3fd3b5594039fb0eaaaef9040696694c55a3b40ea6e43c165f9c533e1a814c9e35f89d9497a3aa1dc8f1c395090e696fd478e09eb161f046a5e30102abdf9642ca644ea6110ae059bcce0b7e299a6623106caf45d5aed5a7ccbdbebe80e81e6b9ee206cd8a1a9e4303b80ee989773327d2bdf145114185e4b31ba0616b98f5065bcbd937a2699138ad83550fef0ab481803abc1abd104a1bb662b4089ab6efecc5a9b720cb94c414fc81ebcc6bfa66cecc3d76000ee0fee1377e2ffbc0fb266f916a04556846dac7d95e2167452789f6050d4f82451936cc662284f971218e0ad052f85d85f89e9f64eafe082895fc87bb174642123549b55ff5fd25fb2dc88e8398d55cd3d9454f532ec6f06fc75672d3cb8329134df1b5212f7eae9cc29cb71395465df5fe28b5176ba414d9fa1eb2879da60ba2480aa21e9ff6805c4d37add670bcb7e5e24d8a64b98e5bcbd7fb42b490a227e58e9e53c8c32253a1a3e7ec9dcbf504a0d78c1aa239c31156d3094c5897667cae86e2d990b4422b68c28a1b1aad43485ac0f473097b28c1866dad58cbcfbf1cf91bc9b9fe275e9de19f4f830452bdf059f4b17dd5b3d3e8b43b4b430c4148389a35c79211bcf0bb428f7ac062d0b7176af0214b2dfe91911b661644bd9369ded36f79b07ddf955fb1d121b8570f45b4f7498fc51972e801f726c113d00a802b172c329aa019602be8d374141038bc5dcf481b7ffade8362d34faa556139685baf2964656fd6d085a98056ed93567ebf359581d02a238a62c6f0cb328e07212132a175f5b17d31b22ce904f0fba8dd918cfbb4c70a646dda6c141ef522f250f7eb2b0e1323df40bd14a85575ea014c285e03a8635870749f4659986b8164288e2ddf464c06403d8481b8072fa4950f36cc9fa4226628cda204875a69f14e353da4b6decaac05f7398341ee8a626de1160e98acf37013195b16892db44742756a9afd79b4cc4cd5a53b240f18b40fec1363db5f28d2d5c0133f89cdd19c47a0fe2d76da12b8c39e02b65d9bceaa430583859505dbe141df9f0fadc9bb8fba73757dab3c4079d734b869dfa11424bce78f7aca7a7049e986eb48fa3646e86aec29a67874d868e50f82238d48898991e6d8a6a034c5a8af99c43896fd3065951331d6a7910d153cdc0a3a00540d027b51289db984a7aac92cdb839ac98ce1d1b644c179cb926ad5e6c032eaf242aded1ea5d34aa52418784ad08d2ba32baa3037f49a88fd38a5bf8e4e8a04b3218b1c89c7166db0ae723d35ebca03c76f1b99aa170aa1a0264627f64abac1915e6409faeae982e9a2cc2054daed81dfadf1fa8c93908f1a96689c0a236b7a5cfe6e048342450d8f18f658737e050200d2b9aa751922903ea4466c44058a65a9d89cac3bc050e866ee1eaa8979111f98f3bda1eb1af348399efc49f2d1c8fd772b74e704c947b45c9bd10fbc5bc5227de384d9494bf9fecfb63de4c92d522b999ebd7883f801ec26148505e81ddfe6b9b94467ce9dac2831f07c12fdfb8f9e1c0f66d357487ff020692596794c73c5b8861980b28b6724d22cf06e8e5152a0ff80fe732ca6b2fab286d19c6b4cc7201487c36563072318aa2ec816903fff4bfd40d8e93f6e0f46acafcbc39e5b1fe2aae4f7b943e84e1ddafd5b458d6252b7e8e8402bdc9273c98f2fbb1aa85e6b335f81169db647d6ad23ff8282526ebc953b12b32f71bc0308ba831771d88da8d9b6aa036f2ad9903581c748be8ecfb80b0861af304b76589ae4e9cc9eca0c18c48cd755accc60ee6de4687b7502bd2a9ffef93835818ae062ed8a2fc88eedd13d9341cd659cb4d09a30de6bd4dbe89b70055fc72fc96d03cd5c965e5cccc9f4dd78b0485bf87b3a0b68cc661db1cabba68f3cb56bb201baf2d27ee76ba741662d4f52992e10360553257dffd4155f885a26cb7df69d99b8c6e3eb1bcc88d697433b2d75eb8a4b1657ebd9c421351b77308e8f3349bb7fc2c654b4abae79131b93651578e897ab91467b2e0612464ece8fb9c99cfe2ae82ebfbe1d6c0e0d0abacf17813dca222e48dcab0646edcbe38adced464b960a7a3d4b3f916d49a0ecf352c8dbfd1754a89f047b9c9cd1e43d6de06df4cdca68b6cdbd53a49ca887e8c845d2a59887a2c81facdb979611b23a91c72882806d97478fccc0ab2a5d730f6d1e8efe16f1d0c85891ad0b65490a7aa132e15589ebd7301229940c380cdc4a0a764c16811802502456792fb4ce4bbf58d0b43ac28a97841a160ada841fce4e5d9c42b587009ca1a968ddfad73f80e1794a1536f2ca85dbc7ceddd1f53017af1fabe90869f5d6298b16a51e0c605a96babba0d9b21e1b87e5f05d4a64cf1f06ab2621539e455f64b727ce0d075e1d2c13e1e7f22f623f0451b900df82e5af3e84493b500fced3cf7729a39efae15fab66be7eca4b85e854b531edf2e345c8b541a3fe1b54ada288bbb642bc0c12a9857aac8dd5ab6a55440dcfbd263882785d94776d096f02a90542d4780f4a785b5e266ba3215327b786e7822ce367439237b978739e534f625bc95f3998a2678a680078235ce628126a49b0119688cf59f71eb6df33a850c24ec17daf682466d9a376ac5f53bc92fffe1a44c9482628774a43957ba06bcaf371e5dff2764dc48baa3f8100f9e1d1201fc0bf2486beeb7940ccf85c243e4a1592f218ed7959f758cc94f4b7d36566058cd7dde27611e3e307e72172bac2e4802a7724b75a1a7a2afa63530164a5a57e82d4b3c35585a762833f17c126c6ff22a14a425a73ce9c0a8d4b3302bb375f08146c89dedbf9bed57f7c8df988534654e945cce09a2a4c0a1f7812368dad6d98142d1034acb3ab5325d815d5d298e5fa316fe9f7b041fa3781914b1ba982bb037de0cb0684e763a34ad04376d836bbcb5e033c8e0a76e43605a3a22d44cb59487c260fa8685f86169f1db2a13465dadedaae850a2d2e48688e24d4a2842ca2ac1b04688ce11b92ae5c615872bf8a048c851d64f50d65d75a7b05b422c65a34b12988ca593e4c631539419041ee79a6a40a02568e5f09e7bce8a297a61e7bb70be9d7272d664dd53a904912ca51ecfcb66bb059ed27973467612488acb2381b35fac3b000f60741e872fac9738c8dec6143f1ab7205dd7791d0b0d3158324d4d573bd869685477d53033b5b41dfd248dd99150ef2e4ba86dee66eb62563809a6d32c41ab6f80d387032baab3104e8c43c7c58da4ec03cd9ff86c32a116deb55b37bd959b8f0eaf72275127c9dc82127d07a26856010c7bddb64b8a0f46f96e2e08a639cbb27f9b81832bdbcf8aa281fa1f45205df32eda589f59b38712570427b89610b15ab548041038bd795dbcb7e8fdc82766ed29a3d60f8c1ba92cdd35175ec37f835bb3f90d1ed4e0f6df2baa9633b5a970b729cfc3d5884a4582c77870e6f82d3387a736ca4af995b189735fbcb0a0c3a690415b502512adf48ab85e0b4f94c873b3a5bcba6fe9a550bd0603203231bf591ae7cb0d082ffe98eeaed72fb11bafa7650938655bf1cbdb8c94fb10cfedd4652f83954904371ad4703940380ab1d0c98b39a388589de56d23fc2a0aec7e90923588cc0e1d4250a888821ca3c2ee3c28170cc8952286d45e136273c968e46c95f911514e3ad3b05270ac2bd1661a0e7dc3c6dedcdd06e649427b0d31a0d87fef38778ce7911df233d41b5692e247f64ad00a44762a298288a698fb8413754f74b0aef5709c3e26d0566faeff0cafc04dda033251e440c75693f6c7df9927665f413a69467c05918dd96e26e925fb8e1dbd034154501fd5de5381ce1b9d9354bf029cc2021a426c605c70a5fc3d877c2b00c95e69dbdf95842b0df280dd9a8076ad8048909ddfaede56b41e73d6054c5e6e94a1b9fa103285680bb37d055b2bef37c38eae7431079560b6e1cbf6fd6c81495ce9d39aac49da89e855ca74f77feebc7ec812fcc1069f149403807ef8a5e843a05a8d6a648d9bf2e1116d4545926dc3ee525f92404ce7359f0aa661e2f6657fdd41a83a2b618fef3f5ce0117ac47c05eed792bb86a74f24b75eae8da0b27dbec32464c6ba878e9379f77bf24ffc1156d859ed1425f69cbb12a7118709eb27232d69fe0c0b9d5014227da64ad922be6532641ffbdad127f51a14c3b8827a793872af9190268abaa434e9151c7c646c60b151f80269bf1deba9b38e12bfb5470a7231d89965f037d7f73c99349124eeb314416d6d808e35cf6d7e86173a6f9c618b9aced659d75502c73566d9840113d09c19c1cd3e095957b5a0812b3a904bc992782b91980c65608ddb5b16b3d604ec7fbd77092e590552c9d94f20fe9319e3fa2e0acfff1124b9c5a9a8ca7a57a556927c0d5717af525984aa5341b779137c2c6b388af288689103dd2dc02f31f7c19776b552e65d59a04b828b3955960597c3971f8a91a0ef3b80e17ea61d78836237a89f4f574ade6c07be6ac5a3481481e6f5daf84d1258439e5f158949a2563af2f9b8f74b12198cb2c2cd59d6d1cd97e5fcccb7b3c2924c7d958e8581a4f523d3719fb3edc5e73b92b63f3fa7cd3c1c3f08b63685265ece02df72bf93a1ae0d1e48d2f8fc3d8fcdb42468de983e95c785fdcd6b1dd03b1aaf331c59f2674241b8d87231057c35b84d5edcc4740a7f0c1c8cd184bd36bcc612be39f5293166a62fcf4f56c0ca0f698581ad5ac74acdad2f0089b2f382e37930a2c97939a59f7385af924c9d24ca1a9f9339f1d71eab660d904ffa569b74508a12fe7f59e0a88bcc8394d6a909caa00c627e373083ce1040b2b42e31fc689cae3a44f1b7b14ea6bacfcf57e2601a24b3404754e93f3137ff8304c520938c0a503ab872f4aaeae7eba791fb8fbba7ebab01bedc8de837fda6d97a3ce007c6f51dbbb51493441827cc47935528079b8ce83517833aa6fe978d9d765a323af0f5c57c568ff9d3380bfa1cf15043fcc1b9681d28769902544b8e48cefd67558e712099994652d8f40d6c0e880a17e3500eb9133f8e759ac4592b99f473417d0a67a0720fda0d2f8372d4004e3ea7b02ed45e3a224b71e51ee1a562ce6eda9e64b8cc947ee3ddbe40f41eda1b1d1386d92a6b42ee6db7bcf4dcf28dc4747fad442ae68c4c0cda274f131363895d917f7ac49686be3129bd6dea1ceedd901ba50f194ea5014575e331bd09823e35d96cdf227c4ec7085d69eb33fbf4abcb43dd5a990fbee504d2275f233b0254861d11364d080fa2f4db6dc36ce6dfa2c4e1e56951ef6a424e5e3e6338431afa0dfba1d7f75fce064352f3becd831ddc29052f55d61cbb84c91ad0771610fa645d386f26770cadcbf7120d06f1039970059473d7554a693e91e6f86a01522e53c01c67af0405a8722d9e838a3e7121ddf91f05f910f98d2d8fa2a785a84e2bb4e2caa0dd195c66fe37b4d8b34591bd49e8bc8d603d6ed59ed18d18ececfcb70723223e059e9c795e8f96653d55a30657eb561c501ab36bd9b80e6cbf60635fa23d35f504993f2b889a6cd57b77ca595e875cb9360ea6290c1a02431fb95d43480376245cac12a3d53942337566e0e8488b85315715ed8cdc9593a5e474fc78a62f6715eeda8c60a6954cb9eeff4627669b23dd4cceef501bed079dde55f2d8c615400b35c06a38d210b350390c32e3a950da8aab1a17dadb9217367e39fb6eebeb8ce4f037f6df841a7057865e3fb573b56b96e1227ee33955e004493735f76d6a4d174975445976d322cfc7f6ec4e5edc256c9713530264cf88abee8c1f4962791f48950c65e2fdde2e80b4e647a55de3f803261accc352530d2d56c68753d42b9dff0760491afb1fa78b7787682ba25efb03e334068a8d6cc8ca6ab077ff455add017929a95815f33e09f2917c2b6e68d282cd614714aefebe10a40ddd1f63ffb0be0a5a321637fbe2e0fa010caa5a19af6f371c8e163dc5676af41f5b635ff03449033cdc48062cd38b73f0f6a20df417adc3b95ec93ce7b3f34b79fbbf59e2764b2e59e27f2422b901e5d3f3f09a7a4189db4f644f80249bdb83ef56ad139d53f401a87fc67f8ed22d268a29d9328588ba1607f32b273dbe636d1e589b860afe5100ba325c96707811ce0480cbf4df94e5e4d692072d8dda45fcc365c27ce310934c71affd06832297643733be74e069a9c2648e9d644146e34020daf0c9a22a8e9bc3ca96fc48c2dc52b17d357f81f5047960a6e3d7c383798a39f8fff0b2ae4f5f5bc718e97f729fe175ec4aede341c415f084e7eff52f2113118c9daf3644d452304d4a0d65d9daba818ace4ec3b7b54a08aa6977fbb10e6dc508d85a35f9ff5216cce4bc21633e230a11c167fb059cd9cbf9f2b49cc1e5c9a5378e048b078a5855bf6622ec521e049a900d52955dad5621c6935a46e2b5cc80285290d65c8ee62917faed647d6609a60e06b0c510462cac5299b30d98e832b3643d32a405b9ad7c985fd17f92c60800cdac4bf67af67aefacd2b3723f554904e47f7dad7d8a6f2ac7ed09045db1ca6d5179b5b6e0e572a74498b79c9ade264225901e85b9a9dff237043be9a8cdc75feac808719026cbaa42e024b33d05e15837239d13e6639c7f9dfedb72b55ba2ba4686e6bed802a7207b0bb5ab5a4a9222d29b016e7c262bad61920173a7c2bdad1665b11b7a2a7432b2eb572e55c874367e92595ff4367c4132a2a1d3fe5c6bd9ab2e699e0745aeca165cc37fa528c52a5d7107fa2489e701d073816f5709b5912598cf42d91d14352e774f84e4e5916701fd9869bce07cae876374eba0160ebe71fbce36c853259853d52340299a20c119bf1c934039c12fce36f6e9519e7689611c164059d0cfb79519f1ca461c026a0e36f853cf2d2ce95a14041835b91ac7cfd96166c0a820e6ba8b2d75b7bfaa2655c1fc34d0e4c1bac0b7f7adecbf49f22162a3151293e068b75acaf0e8de9aa1f9b47177b684dabd484ef4c15093bfd4bd30e641e2e9f1bc74e1346a291d22570f249fe38e94e7b3d9069e2d6d90f887382c7bca9894582371cc1e5cb17ce1fbe7fb8690d4ee85ccf20a4869a4e821e484fcc7bd2b910621fe430fc58528b62c541292dba6d914043b64bcf134b5576bb1d998a43ba90145b577b3346b9c32026b3adb1eb6697cbee2fee0e1d7dc2e03aa8721d04465065d65514e615e173bdddcb8c0a3ea2b54b2a82d3010dafb4416b2c7dcf1347884a0524f32a3e0f8f55a9c7a80bec5afed935408f54c7d9a1a8049e913ed48e2c7677bcce9806d882180e581fcc1d60a283604382b202fd35ed1bc62f45003c3ef8fd505d60cca17a3d32a55a71f193595613690ba4c6a6c7ed068fa743a7439098cc7941fa58a9ec7acc43ca893c11f187b23b3239ecbc2772adfef79cc8e1035c1f451c9b421e6c0350062c8e44df14ee36d57731c1469139ac9ca80bbd70b5ec19ab2372c1ab7673a212ba2da545dfaf4cf34d6642af47ef57a36e7740f8e32ee8589a701d097fe9d1cda47604c119ecb92b737ca3ab4078d6fedb61a564a44f1db438613cd3f17a829f7cdec72cadd0f7e023359db752cb94cd8bd423e3d405e644d929303e74ca751c63be5b3ede22d89074fe66184461c59524afa13d67b7a4f7f79ca5c873b1fd81e414b03e352ac6802fb58457e9a9b2a18b1a90179869a4ef2217a7f84d1c44b85cc45e625ba315b6db10e6076fbca241397063b9e27d1838dc5bf01812f774aec7df049c03edc8c7029d03caec8ae9c4672c6338f6b3ca4f9f632ad8cb2903ddd5776d3ceccff637621b2835e40eac0c23e3f5bd7763c89e923102e505bdfa635d2b93cdb6d35e7adbcd383ebb327becd3204f4e8331fb2550e33da869026056e819ccf19f8f71198dab4bc0cac479f240172e447f099a3a4cdc0c67a4c34b9688b0b27d756d0c5c78bb951281b061e9d388132253c946981ac28fbe28cf61304e3d965d82ee4dabc8571659d1eb6ea9c91d0555ad17f7d6cc4b353538ccd7a7adb1350f0c0238fd13c8af68fa78769710e632b9e54e598f1b15e4a3e9801bd0837a8029a2e99870676880bef02adcb513d43565914824cd055c3c2a671638e1a00596bf0f44ed5fd5ab9603d3df68e27402e31819bf202682a6a550190329b9682d8fda45be2e4186028026a7315127c213231416afa8538ccdb0354a181b86cdf739c9af52d6c63ed89e0434cf86d33e43428229ae3f08e8855438f6d64dfae182da3bad9056ac0e479b76ade406fc1d059541401828825a300097d43f579da1039cd6d564a2633af50313f47dfb4f2d8d6de126b5822a55f73dea9ef63bb5f7f7dcd462aac7f9c7bd9cb34700269214951d96b3937ed2bfe548faf33c2528360d7e8d761743406e01a8af428c10bd489689f1aa25dbc0f14022574a993d9a4b5112d2cb7de72417d447d8eb01603e688864fc31fbeba31f5fb4a60de622a29923eab197d9c55843fd33a281029eae0f9767b6bb314b6881b1cf6e4c02d8ab4d6bd94bd64793b40bb21d15dec8cd0d4d47b57bb0b58739d143af429e765704d11a3d9891076e9299353488c8b9365118199626b6733f561dbb2f48eaa057891d521633a48cc91579ab97ab2a5eae661529a11a7d2eae723d7e0798c7239ecfe4a9cb986e153cf594d1fb9b07cb8edf4323b10db4274445874dbfa608c5d2e00f89a3ba5310506d4a592b734f2619208f1bc780819b7359829e286c69a36a8ad1ac54170c710d52dcd9989a822f14348a1cef411ae18a157b37dd0ae99b3bc4e2d122ee2295faf493e6786c8075f85a406a4e9dfb77965f6d3a7cfb0297d24f7b476b77105b14e74383313fd2f6a01e918d6c20448701cfa9e2b6d45761c6fc051e0b2ae97319aa871fe9ef540d864514fe0fbb33be882678b6df4ab9a7b6476836bb187661ba1c30050e9320c14ae6d5aee5e193d661c008446b0c995719959a2a478098e31b9964a270503d8c44492c343c73cda1bdc5896b468695932b5b344977a9b8c5e4bfa04049a818234a6d722e4dc40f81a2b33d95b714bcb8bd5a91dea4d0eefcba462d9e9f678740d009fb295f25130601f900b68501342e2460cbd9c04d32e14e8b2044e55c7ab3a91a44a5664e76583ae4bdcd0586102b6f37c509c67ec14b27dbebfe86a2841cb08909bbf8a5cc18e472ed889ff1478f351358cf38cd2d2df657c335c8183108ce52d0b0f651d3ca1fbbb43fff4159ac3df83df922f7f6b18d0767a8addbd64a2bfe186496fa9416e2aed3db1d16a3bdf2fcb9ac1dd48bfe0d4b8d6c714bf1593de6e4d8f4aaaf911075fe87539923deaa5477dc479a2841e19f296710400ad545e3ad84a22e14691457898f41ec061cb2b9782bb0b5cb9c2c2315bfbcdbfa4ab91d713addf757b5a00da1096780a00e2fe6cc2a87c27bb494904902dd60283201269f778dc0d4d829cfdf58dbde68c4accb09f6c297637aee6589902f6fa06f00f5f8b9f41226bcac0b0f7b88acec3620b57282039c03d2f97c91c156bc3d982a9218231be500c37e41870cd0bd75cb3aea1e7863f9622a158c3087eb878ec7ffc224a237d70ae0c32e1de7742b86a8600c7652ac48921a6442784b37df6ed51091c05da858a70765cc91635255a8aaec05e102f1bc87c2fd2fc01691a818fde7dac386c9877d777517523b583acfacf9d95c60db7900b6c06ddc34e21f0e5ef8dced0508ba372e9d0882968b1f42bf0753e5e4b94bd4c48822fe591251ebe55927506155b6dc53f0156a0dd1ffe5a5c7f9e8ef678141b68d743da5a5083df13a81a1fc362c01eb65f7f16dc040d46bf36dd990823e1c70d1de70dbd0143da1ce744c49a7b44f2a4bd294e49ac6e1810af90edcdc73b1bc3532cde8b57dc882daff7b80fdf57b5c6afabbceab9c0a2f4f3f311e38341ab6129a0319be3605f74502727cfaa70679d4d455cc87680d16797d87a0b9ab1c6f71d1b56470744687f56b01085fec505fc2858917bd28616aac0d70c02b990d2ed6bd567a23ca8243ddfe75d62eae19dec72c1a442328ddf8471b356d1fc7ea3766fcebba9b3a5f02d7ea6582affbc8967a0f63cf9e27025286bb8112f080248764430133ce2f35e8447ad7d241d63182df07117c61394a554c10bfddd755c848a78a73b5d182645b25884d625e473eb709bda22b3679f609741005a2685b700ff1b9e299b3490e1074c03a23d02e869a54c11da05b764ea6ca99f8ea36e0f6936c393eefbea8d9714f7e1a186243b32e399d0f902299541a92309dfbf10ac0a75a246bd9f22dd8c773dfa07d4e18db0fd71a7760e0ff782a40c10986c639fe7f82e2f9a90aafdec43f4b4aaea1879833fb3b123dedf931b9a1d94f36049d86cbe924371fde30c398bb8529694cbca1d411a7ea1b879f62cf115732d90b5a678d15d486565c163257c9688675a85a933ab4aabfbab05c4413720fe072e0e75a98dd7211cce554b84bb1abc6a72763bf56c6188a0ac21c7fdcffac1cfdb37befa70a0c79cdcda2fdbcede8e9c9dcb73e8015774dc42f1323c8ab5ed135167fa79fab6c42073f3fca0398fc2d5ab5d4b94a8ba39c5a0e8ba3f9e1fb4be3505a84af4ad07cf95ae11bfc3b0c829a1386081199584222520cb0425042f22739ade6b1bcf9a1c13402330af7a5f945eeb037131b2c6a3cc8e3f3bc218f620aaab12d9190e3a64ff7dbdb17cc4dd26fca5f24a251de4fb7ee454dc0a9df51ba8f74ea6a86e0ecdb66641bde4f96d32c98a8c3917314e41eb920d69c8a33e0165beadfedf37bd194760cf169c7082bbd789b76f70259e48d500d15431b86ab9ac2c2927716ccc1a2767e086f9227864b049a20737dabf271630e089a8917ab20e9c35ec019e341fc35acdf4174c565e91b851b83a510452580ed9200dc56c0685ce7cf8305f1cfd705d991c05863ceaa9075cce41a470a3783ab795cd0a9a34951cc43f03155acca7089f2a1bc325af32f5bc91115a09999ca83b9b654931d579114a119dbc79b6de0349d891ccbc8724b3a7b9c4e446a37039c9cb4e48bffe42bd7a1d8f8c01786c73cf59c1ed64b26a8ce7e82f5667bfedacb936ffeb9114516cae31c21cd03d94ad381e710cd8d300dc71b1f950bf323d76c1cc9e5c223fe3a584689fbe77de85ff3b9f852cc22285ba961c163f0023f5dca4f80e7bdd684542d86aa695c679466b52f971da466777a550e5b4d328c727086e5b6a79158e91b5473a1e59b69168406862e3ced2add77d1cb4d18e38885f0d002c614fab184e5fb8506eba590ca94c734e7bea3177d29a9f7931cbabd168a6076b124cdcf784b2a84a9c32658f86cac481a0441055dd70baccaaba1dbbf417882f20982730cf626e7de0cdf4b1ed512b8448fd997c876dd6c1a464cecdbd637327d669a6d7d0f23664d4286818f648ef45ea2dda66faac8a2b65f65f1f0cdb5e26af0a858500d062ee5d2147f17c51f83001f9a147ce6ddd6ac8e90d246d66696d9b5e8b223382d6f6e582c2d85c3a131180adb4731fb556d1a9f823c010fb17054fc46f0d25445f418b17766966c42088095ad08c5c16f0bbd788ead854d1541e1a7ee37537f7d5d3242fd75acb5f88e2cd19d0070148becd9eb393a859c4097c4ea01299b46087b7871d957bf7cf67dcbbc52f8c177543e3c613798a44076f566f4fd4d6a88cc22dddfd0a00cf61889d8306fdc0d145b5c03771be6a4e7fbd0c3925ba5dcd6141119833504f130b94194974be28c9942ce3cfa329d7685df3ee2b4e0f17c931117be6c749d875e7c7780fdcb971ac6d4c19e6e280e257307953650e904c58bf37914495519aa1486af21d99c29b3761f5bc6aedfe578ca7ab5f3c918d77522b05999777981343268c0a00abf623bfc235c61096a1f517b5ee112c1a4fbd360607a12cba8cd3615efc2893207fbdf85687ccfe3900a227032c2b572bf6971e55865da978da1a3305a63d414f20479f17aa4bb5fb438a3e03a35b3466fd6010f5727b20fc0c6359f513b150199ded2ad162009b3e2aa0fbe15c076c47e5c7df4cb59200f911876925cd47f88848d3d0b23d8c540b2e9280057d92db8a5cd0252d0a7a59b12306c78ff5c83d53cd696a922326340c7e2d433fbf937169bf7e715a7e082b1efe4aa43a6a7d2b8dbb423e1e8b0fb5f9502364cc37c092779e8650adaeb4d03dbf476e2e8b712b1f5596d696c3755840cbb835aba0d6bdbbab2792c8e22664004f9da9f7238d4f2654d80e884c126e18e25825aff555d397f146f51df970f237def14f1e7358591ff5281dbdb0ac93fce637a5e0a1106479fb007f34c5273168f4d75238de0a9d445eac69c2b08fde1cba3e1f148acbf0ecf4969ccc16609d862d30e380b256e7af2a0684907330ec12cf2014116f5d532ed1274e2211facaefc664a690d8ca2305f2f0b2fca5c4609e10f11fc52ca4d93ee921b487e16f78bbd3d6395d30fda7a2bda0aa79b3f6335671cdcad02a071d5fd2147b53849be84c256e708b665b31e28806549a6a549f5703f5ce4903a83879afd72ccd6b044f964cbcf2a38d7f6fd5b56b7b239ff47872f685b1c4536da6bdd267e563e2671b19197b603fccfd37641e5ea54955b4abf853fafac6027375233fcde07ca9b7e9973f534bb9b656cdbc56eaae05e078d10f1b9e6be22d4a1c46611b5622bdb7269230de398a32ee1c3f98772d1f4b23e33f0476a01b543c12272b91b7a65d7aa055f5b2787a2005fe51f0e7e6488b9df63a7cef37c32c788ef485baea1f4153f6804b7af497a039a78e567c03d0c2d89a3d0e3606746e29388a686ac977717bc2125b0c83e6f8ad1ca864333732080470416a482e8b0f7efec1607369d10b5c0301d59144049a1cc74d39766ff545b5942242a61346b1cbfa60aebf03801dbaa07627f0edf49f681dec8d4c0e59b6f73dede4013a1ec2326241f8ce39b70057db26754f52dda218a037e6dd6b14e7f36199d36121bef56c29e3137806c97ad4c37ef2943fc605739ade4de4f89455d92892dae2372d1fb05c821760cf66a7c49923e18b1dd56fd5aa32b5f7f9d3a5b3e5b0c058eb135a8d3bc028f688d1a9e1ffd120282060b163cc27e55fc5b431261dfd33439a023415c250cd5dd03cf99d67f153f7f5ad88874cb1f842537a8fe051304b60f05f16d8349c56983757ccb00dadc25be82a2bbdc091811e26eb89fbb6f892a821c2a561370e799a4dbcda21f52b3aa0fb2d3dff999503566f02644c878c0f5bdce3e608642da5b9aec0a6ab4865dcd3ddb11c3c202f14f8f882b642ccb4d3f3736cdd563cb5ca21736a2e69adc4111d8c89ed3c3f8b6eac139d4d9d48cc711db529f9a6cfca8d1c313a890daaaa3c2c912c5cced1c4745a33b125841bc801353c1723687366b1b7e5335afcf0cdae8f23153f038e2a8a60a1cd58f08fe64fff5ea9ab4194405d213dda1b716fde9c27cfef06291b90932703cab949d1fb28635a4a0f5ad591d9ed887ed55d6b4812106b17cf134a6a924984cc5160cdbc3406458199aa784c3014c0318a2dd95badebf81d5faf894b0e709c83fe29e5754f23d8d737a38a6974aff5bfa9567c19ac1cadedb6a181c3f9706266afac51712b323bb4411d76d9921424926093d87fa94349f7948a115ddf6dc7ef5e5dede1171b92e0cbadc998a08adb263b39fa123612f6c337cafb05afc8e25a3ea52107f3680f405f3307d688845f07c8d5d50c05eba19824bfc91f7c999ae646397bfac03fae9fd0de8225e6a407c041eeacff08b30dea742df68bc8f8438b07022ac10ef49569b68625b67b4f3dbb71dab92c4d27e953b596e155830f3c9845b4f8e3d4942d0d8bb154c1a51fdf74589b0f2e87f08eb9bc859dd2e10147fa5d78d39a8ee4e29e16461dbf834077dc6c4ab848a542e0f2bdb12394234f098d65f180d00a1b3e3ff1e39d69efaa78e310218d39e11f85e2abb5827b99e4a11d058e06aebdc769764ed0c39cec33d5e508307704965eeb02cb11a5b3612e6d4f58750acf99facd4b7cd3a78bd72b7721bfbbe86f0e08a3214dda32e7df3551c95c65bd51592cfd242b77056a22a0e727dfee549f38f6ff7d04486abcb8f15e09954b0d562299f8eb57f1ca599a2120a696bde59da581a25b77876ace8a901f028bea43c1fcdbcb562b7f8c302fb3e51f40c73cc26f178655520f8fe8662d7298ef619e8328a39236a1996fd31daf57c979663b8d1ed42f5bd90a78a95d4b3da3a46cf51a598610043661c7bf832fbc24d5468d30606a4fe2f5dd8162bc999612e015d62649c4c6f8c2c3f3531485aca065070acdb8ec339e270d1e7ef8e98f3a72582cf803fcfeadd33d750e4ad9fd9add3857d192d3c31ca5ccfb4b56585b8661e3fc3b8f55573c07441281f6debe8ff343c2531c1705b05470de8a687fc16a38cde92e1280c2844dbe294bb29f6c81323dc401545851e8d86ac0154243e6cc91e7258424da7a4c1a0c47a0d766ca25985169ace7e637621c330db802aa867d0097c9dc1e219603317d8dc5fe314f5fcb0f410fc1cff9ca756e49950975474efc5ca5bf64fbb30e73886c276c62cb1ebc4a5b02f417e6dd47300674615eb91f0da8a832b4000b3787651c3448539537f751f43928123489f35d61cab284f75f42d61375b254d0f33fce9bd87274edaa183d07645e30efc3f92aa5e00b2215ea4dad25a7732a988e87d979c86482802a1220416de786bd01dddd99ce23cdd214354fcbad5f6f40499ee9ee51535533180c0c8bedb598d8b0a3c7aee0d4494d63de156ed2c9c5f526f535b8212f321710e6b4a03d6aecfd798553122b5dcaa523f30066268f9faa72bbda0683f49e8923a1b010e1723498992e41ab519a1012314deac97793acce84172ce54617ea3e5cadd2250c68df525259b36da29d7d51f23990fe21195d98958739c56b49fde67eb4b131fb38cb2403c76a201f0855e225293bd1a4875b91e4570fb619084d2e32248dc3983c458cb29c4145768b71705e8a85ddf1eac2dee6ef72d3f221db47a8f32505cc8bd9f8eb81a78fcf2898ea040a195342d66e85e4ea677d3fdc9212461f7772e10abf897bca55208ebf2cb56a105db775e35cc2afc3a08f719521fa325307a7d12d32d951275ddcc98c364a5eb251cc47033528cfe0f75d5c53b4a10c1965d744690d80807a796382bb8414c348fa2e0e590e2f71490ced7eb84d475152e534930b0d04ad93d5666199289ff2f7fb19ca4d82b640d347d94437d7dd1e04caec672024b6dd0a39f27db2fe24e74545585c97a119a1ed1c2eef6ae2d4d39136d6edcb7494830028c88adfdfca9d3c0fd32d80353b010dd65979390ba0b7739754e5cb9c3c0d18e2bce29e22d4bcd63598bf98fcdd6f97a29eeac668add60a84b3e91152502b2c1aa259e35145befbcea649fd7c20ea4ad60956b860457a821bb9bd459f1712859e047e4e07999ea5eb2d82d514c9435abed7533020b8f7ad3ef72f9e07a4f5fe6aae3c217bf38c6ddde40d594eff14776ea6b3c53249acc645e60c9ac396cf0369a5f03df77dd8379c34de8018bdc4e58bfc2a9f497acdde17268c1680a3445b9dc490ba34efd0745379a2215247fad7cfc5492c92a94194a5f7bf733e3798658156b0f9090d8d1da3c3c4e38c93d50f169430bbdb2d6f02d9a2aae23ad4dd350c7bf7d75c24a3fc941cbc1e795fdb75edb9453deb5a64063585376493f81b7d115d80178facbeacf474ab5ae80843f7760216456f6cb941d8dd3fef27d104a2858ff7d2f6bd775081fe25a81db82797dc42f501ad11fd549a5c86cb845e98388c7ee04112dcd60718548739394b5f4e49dd6f04191ab0a742fada09ca8b71ce116753f20b02f1f29f265fd62a7d2163315609954af63ae00f5d06b6eaffbd66dbaf396192e8a2c0b715fc370f89bc5f90c76577362ec29bf8e9440e31d8b2d13efefdc5e4a6325995688bb730ec0ddaa910ca34e79f670cfb78528b3841b36be10494f14c93d199a34717f470cb47e54227c5a0e45184c8cd809b193a68c7a13818891c566e2befc784b69a1ab1c9896f24d296a44ab12d2f5d1e2f985a576b2ff24e6826f6db01a22168bd36ec4792316ea8a722a9a02a7e26609138a336528d48fe753db9630e4debd44cdcd9e5cea42121da0204b6d915a8a9d67decf005aa347e7422316a9f7a01de22ef238f369ccd88a253517791f4aa2ff5e2a922a9b98347ab3d6ad8b77e364cca1816bd100b150e967e03acc1d0f67d04c0f8d66506a3e2cc6ceb9f0051ddedd4cd01d04056c05a33b938edaa69188afde67b6bae5b465ef1d02c8443a1ade5d5888dba8acf12f717d9f7685b34cfab7ef154accf4471e92c780ff382100eab4da3d7b89db963639e08acdc83f36eec2619dc49631b10398aab46cd8527b3522c64b487e1249fd0844d351a000e70395202c02151db1e00918c7f6ad4b7f1973f1703bf33a965688aefc49340f0133cbd84fed4adb8a9c6af68c0dec7fd7749ff06857da0d3b1d4c2a29278e2d4466a01c007eb1f75e3b1c847c983ef8cca8efb1ff1e3430f360fa845a9a753f0b2a3ec26ad1d32cb1fc4a97181d8dcc78941726a2261ece1bce2eb5fc8dfe3afe76195185269fd034ee5a4a14aa9456db8fd08de60a464b456f17061827ec7ff4d21436429b0979f25d82000466d290c8cc89d9c30dbad647133be38dae6e5ec5fdd56b58f66a831d2eefc2322b410149bbd3ef0c152e8565b316cdc022b4fcd86c5cc44b7695a5f944591f85db8b848ed4d9715f2c32d415882ed56e3c4568a462848158715d3fa4ee3b36fe0df7c22896244a36bbff7ff039281a0d87c7f16eb7cca08c04e7fa1640cdf0081827d554da07829000f7e86b8c25c5bf1875c72791a671a129100ca85394047dfc5d246ed6b618e5f53df81e712d73e85befa391f65ccd514320dd90fb4fd73fc2ed7451dacbd0319abb1d1da9d934e98eb3c1b8ab899491259e7b51d754bb433274aa375db55fba4f941461d26e653bedb3a81e25a1c41f6d50e8dd171b59a558ac2967e026c842b1f6df2dafeca8f7e268ac1b6bafb8188e8369d5d8ce2f8a652cb161d37b9dc4c0d590845d5797c77260449edfcb997476466297b4ab9848681e04f5a569c059caf34105bfcaed327f3ec8ac928c1427b6896f70233590e306a8da248a66fcac7f47a886d109ae40884fa3bf16ab7b43b632e6935290c7b75e9dafc58f5407106f2dd7659b01e889c62dd414f60fbee3ff0f64a64872dd7f4b9ab1dbfcddf14731b0a5069eb3396852272ebb11735df1f0a32d92bc786420f827fbc276749e0dc1e16b9413d6017ca21ec2948dbae3d351b1bc2fee5b4e58e28a3b3dd627387b0c06a5c61b5ba3ef943bde79fc7b0cf0689e49081be1a84e243d632e8d78cf6d696ab3e677f0f26d67e3e3fd088cb9cb94b66f06453f616017e928a33a1784855d0d68cdaf28ab7e3f583a05c2abe547785d97f0abeba8f97c33c5df9872baba7e9917d99551fd4cc39966fbbf61e6839a6db63f75be939fdba4dda0073255f300b4e3b598007fdcca996606dc23501af3739d57951e0d7b8b72ddd0d44997ffb6cb425aeb782146ce9f2690b6d274ee69a968225087bbab43ce067b563205ceed1b64eae4f553c94aa5370b1fc1dcd46fae95e08be9e3d63e00c74c898d8e3034d47749aa2e196ecf557ce009f29deb41cc7719f6ab92f4ed90a54e1671be0d4c7bd050f743c91281341ab874692f323000c195a167e8678817586dd131774c39888c9b913df55eda1f001d2257d6fd60904443f4b845c67827838fd2f313a2ef880cfa344b23db550259cbb788c5f9d403142d6da3b48807774b38fd31bae51c6b2f06fcc20fca3a718402ffd9192ce56b358ebda27e25cd268a4922a4c312a1a3544888a0bf46353a306127e15360cd958a5c4fc07ef0796280b9128510082bd0f22f221de164f74c07d74f972fce14e1ef9402dc3e4db0ffef45830ff91e17bf143b3f18e0c1423b0f98debca9cc5064207ee693b0cb49a277cfb356007bda8811fa5be24edb2ceec469c78cdfcb4685ba80013dd22a443b1974d0ad50126c5aa694b332669b2022629f0d1ba0430754c295554c266ba45fae62024fd8720441ef4c6ea048e52c72c3f533e44b654d41dee1593b26fb06310ba98b42d2f7a2b5f7d85b02c6b8ac4dbe58e9108f229f21087635b08f12531abf272cfd02666764e0cee60ff68b7bbcbf1ef0a129bce89adfbc711d9a93c9457063e7bd1ab2bb77986326799165fa20b0a9a135aaf95d58e8c73ab867cbeb92300ce1beea432f68f88d0dcbe0cdbf510ca551b1484b52f8bae3a7b4ca95b084e3f97a5a96dd3c9bbc35efe4faf08fef245269ba0abbe1c73902aba78b84c9820a5ba2e5cb87af3e710014ee0c91d141642bb060d64e819a8bf743ab169be70cfaa79bf6f1dcb4621099255d33a010a468d835445c91d842d877bb10b160a21290ec576a722d35fe389b6059d531ac6683ac4f9dc8afb40a6c124bc73b1c896533a3a53f1acde11d99c5dd884649c8f21ed37d2547ec7c593a71f0e4293672a3cf1cb1306918c524ca5154a4ffd2c1fc2212a143bd91750a1a65becd1e02960535b9037527be7463837d9dcc73b3b8fcbf4c9d52d9b1819cd7714511ea67039caccb40f85c9be4902190312b347c6b485b834d5caee47f8f532a936a681e58f5e1835dfce9554586194c8cafd07a2a949b7f7c69650a2a838b72e3658b292f8b9b7d38a33c9752b583d8faf9a7847435e4c949252ef7a8d84f117c006a0555492a340955e565be8c8b1669f47853bb6e69014fd896dd48a09e468f6aa2ee5581998cff4bc3a5f12880fe86ecef89073aeeeaf6d3cf0a939e8b8eb8a365ee7f324dab0ac84cb0d1e7ed0d59be0e0cca448f34278c1de2bb7ff79ebc8e2bfbaaa1cfeebe892dba1f2c86e5db3c6876611a80982c1be4dc478e51b8215c34fd660699fe2df021624a1a0a0e894b05fcae4f33cdc43deeb23b0468a593f8720bf6d28c2a1140c90970dc6befc2ee532ecda605afc442a9570e0484cd543a1eeb10e02fbdd3eab4ad1e79af7571c72447fe3ec39e6742f3be132b899f00c9022737e360c4afe1107c05cd0580c33c19266612192f75b4a177fb0fbf5f55a3407414b1f42f378451452008dccabebc0bce3a34e1459117a01dd95f74f9688375cbd829386c3d691882ef13526052563a84d282699a0105cfd1e2237b971fd4954cf1a11fe23923b05a1303fd964ee1d85991740d2e4918a40e3e9c9333d653294a1cb7ad903d047317d753fa8a085ac4abebfaacc425bebdac4a1c03326aa13c72cd38bc981c25d1a64442d10a182c6bd482becd3462a61641e417bdf095fad7398051724413ad87c3357093f552b4cba8a61bc75485b24358e838599224ec4b61399e4f11c84ec1ca47e9bf59088e02e682faf591f9c282d512da0ac3b400c5b9290c6a69d593e9543b3f9fa21a0546655d3590844e8927895bfac56f261394f82f288cb1ab3982eab3ec1c4b58674ff5ddf4876e3d899efc211b803911c853b9e8c1e191b862d5d5f091186462a9caf20cce6decfc8c1a0ff11ea3944d24309c5de934312750057ac84870fb5387bae7d512bed3de66ed00a657c907843fbb4b8ff1996311f23a4ec1358d79e1c0f568f24f146bb2667fe351f4519982d6929ebe4708012c641b0fe6ddc10a8339c464cdb5254fa9eddac67c150c50bbebd0077875fc576a3f43fd95529741cf7c7d3aebe90881031636b93d6d87ad8d887f8ef03b4aea9bd56bf45d23ce4a17054dceeb0f9e5d72af6966367d14b5b85f20f0ce59bef908176615635e79b6fa4feb85bbc3421c3e9c62b719bc73ee2b0fbd5c59ae11f6a3a1da3fca42023993bb45a12a2f68a18e98ec89767f02a3a1195981b701f10ff18300654d15483cb8e654adee6f33b3ff7c7672b9198812371ed65bf01dca78cfb18cd2cf444145f4f4731ac0da3ab54e35b39e36facfa095e81a49b12b7b819b80c7d8ef5a1707528997086ec56ad49b33b88b760256c29867bfa979b4542634222460d6ff4ecc1c7792660e5dc7fc853d733526562a4341f0f5f57e40590e59577c6e2146d64eed24a5f1ee775d3f7689cb6622e2dad55958c36b815f448ba1462ee22274eaf07d5b96b99b43491d5c545723d5c091f6c6381253cdb9c506d4d635bc0e5a82b1e93264d3a4e5d7ea6b046b91adc5484c91efd8686954397931369cfafd00144d4586f7d334b0a0c38239900b52ca0eb637e6888535934f40fd75955cbb5fa966d10ffef57bdf81cb66767363b052946b68322178a2beb82d8f7c86a4f9f2427796de4ec6eb23293af768630f2cb17d4fd17c53be13d332e5aaaf57fd4df77016f76000f113a269461ff74ff31f059f2c89865f6beaac6a9e81f67352813d7a397ac480b360f0cee5a77f8c409613e3c8c597f4f5a6bc6b1e2079e09c6bdeb570d3e87328cd2db3db832877be7d2062acc101efbe692c8f4de7fa0e821c94a4a0e4b7bc4bf33fdf0a4135509b5e376bd2e39f974f83bad9175447a71a473e79a0b785be3</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>Adapter</title>
    <url>/2021/04/19/%E9%80%82%E9%85%8D%E5%99%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p><code>AOP</code>中，使用 <code>Advice</code>（通知）来实现被代理类的功能,使用代理模式，代理类在方法中通过执行拦截器，实现面向切面编程。</p>
<span id="more"></span>
<p>举个例子 前置处理 备注：源代码中省去了一些代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Advice</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BeforeAdvice</span> <span class="keyword">extends</span> <span class="title">Advice</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Advisor</span> </span>&#123;</span><br><span class="line">	<span class="function">Advice <span class="title">getAdvice</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MethodBeforeAdvice</span> <span class="keyword">extends</span> <span class="title">BeforeAdvice</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">before</span><span class="params">(Method method, Object[] args, <span class="meta">@Nullable</span> Object target)</span> <span class="keyword">throws</span> Throwable</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实现<code>Advisor</code>接口的子类适配，获取 <code>Advice</code> 通知</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MethodBeforeAdviceAdapter</span> <span class="keyword">implements</span> <span class="title">AdvisorAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> MethodInterceptor <span class="title">getInterceptor</span><span class="params">(Advisor advisor)</span> </span>&#123;</span><br><span class="line">		MethodBeforeAdvice advice = (MethodBeforeAdvice) advisor.getAdvice();</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> MethodBeforeAdviceInterceptor(advice);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过 <code>MethodBeforeAdviceInterceptor</code> 类 ，调用了 <code>before</code> 方法，实现方法前拦截</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodBeforeAdviceInterceptor</span> <span class="keyword">implements</span> <span class="title">MethodInterceptor</span>, <span class="title">BeforeAdvice</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(MethodInvocation mi)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.advice.before(mi.getMethod(), mi.getArguments(), mi.getThis());</span><br><span class="line">		<span class="keyword">return</span> mi.proceed();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>查看源代码<code>before</code>最终调用的是 <code>Method</code> 类的 <code>invoke</code> 方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object obj, Object... args)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    MethodAccessor ma = methodAccessor;             </span><br><span class="line">    <span class="keyword">return</span> ma.invoke(obj, args);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="通知通过代码如何实现AOP"><a href="#通知通过代码如何实现AOP" class="headerlink" title="通知通过代码如何实现AOP"></a>通知通过代码如何实现AOP</h3><p>举例 <code>spring AOP</code> <code>JDK</code> 动态代理方式的实现</p>
<ul>
<li>配置 <code>MethodBeforeAdvice</code> 的实现类</li>
<li><code>JDK</code>通过实现接口的方式实现动态代理，那么定义一个接口</li>
<li>编写接口实现类</li>
<li>配置代理类，通过 <code>ProxyFactoryBean</code> 生成需要的<ul>
<li>拦截器（这里举例的是前置通知 <code>MethodBeforeAdvice</code> 的实现类）</li>
<li>代理接口(<code>JDK</code>通过实现接口的方式实现动态代理，定义的接口)</li>
<li>目标对象(接口实现类)</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyFactoryBean</span> <span class="keyword">extends</span> <span class="title">ProxyCreatorSupport</span></span></span><br><span class="line"><span class="class">		<span class="keyword">implements</span> <span class="title">FactoryBean</span>&lt;<span class="title">Object</span>&gt;, <span class="title">BeanClassLoaderAware</span>, <span class="title">BeanFactoryAware</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setInterceptorNames</span><span class="params">(String... interceptorNames)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.setInterceptorNames(interceptorNames);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">     <span class="comment">//没有设置目标对象的代理接口，则使用CGLIB创建代理</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setProxyInterfaces</span><span class="params">(Class&lt;?&gt;[] proxyInterfaces)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.setProxyInterfaces(proxyInterfaces);</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTargetName</span><span class="params">(String targetName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.setTargetName(targetName);</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>


<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>MySql Base Operate</title>
    <url>/2021/04/14/MySql-Base/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>  Windows服务</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 启动MySQL</span></span><br><span class="line">    net <span class="built_in">start</span> mysql</span><br><span class="line"><span class="comment">-- 创建Windows服务</span></span><br><span class="line">    sc <span class="built_in">create</span> mysql binPath= mysqld_bin_path(注意：等号与值之间有空格)</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>连接与断开服务器</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">mysql -h 地址 -P 端口 -u 用户名 -p 密码</span><br><span class="line"></span><br><span class="line"><span class="keyword">SHOW</span> PROCESSLIST <span class="comment">-- 显示哪些线程正在运行</span></span><br><span class="line"><span class="keyword">SHOW</span> VARIABLES <span class="comment">-- 显示系统变量信息</span></span><br></pre></td></tr></table></figure>
<p> 数据库操作</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查看当前数据库</span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">DATABASE</span>();</span><br><span class="line"><span class="comment">-- 显示当前时间、用户名、数据库版本</span></span><br><span class="line">    <span class="keyword">SELECT</span> now(), <span class="keyword">user</span>(), version();</span><br><span class="line"><span class="comment">-- 创建库</span></span><br><span class="line">    <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span>[ <span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] 数据库名 数据库选项</span><br><span class="line">    数据库选项：</span><br><span class="line">        <span class="type">CHARACTER</span> <span class="keyword">SET</span> charset_name</span><br><span class="line">        <span class="keyword">COLLATE</span> collation_name</span><br><span class="line"><span class="comment">-- 查看已有库</span></span><br><span class="line">    <span class="keyword">SHOW</span> DATABASES[ <span class="keyword">LIKE</span> <span class="string">&#x27;PATTERN&#x27;</span>]</span><br><span class="line"><span class="comment">-- 查看当前库信息</span></span><br><span class="line">    <span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> 数据库名</span><br><span class="line"><span class="comment">-- 修改库的选项信息</span></span><br><span class="line">    <span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> 库名 选项信息</span><br><span class="line"><span class="comment">-- 删除库</span></span><br><span class="line">    <span class="keyword">DROP</span> <span class="keyword">DATABASE</span>[ <span class="keyword">IF</span> <span class="keyword">EXISTS</span>] 数据库名</span><br><span class="line">        同时删除该数据库相关的目录及其目录内容</span><br></pre></td></tr></table></figure>
<p> 表的操作</p>
<figure class="highlight sas"><table><tr><td class="code"><pre><span class="line">-- 创建表</span><br><span class="line">    <span class="meta">CREATE</span> [TEMPORARY] <span class="meta">TABLE</span>[ <span class="meta">IF</span> <span class="meta">NOT</span> EXISTS] [库名.]表名 ( 表的结构定义 )[ 表选项]</span><br><span class="line">        每个字段必须有数据类型</span><br><span class="line">        最后一个字段后不能有逗号</span><br><span class="line">        TEMPORARY 临时表，会话结束时表自动消失</span><br><span class="line">        对于字段的定义：</span><br><span class="line">            字段名 数据类型 [<span class="meta">NOT</span> <span class="meta">NULL</span> | <span class="meta">NULL</span>] [DEFAULT default_value] [AUTO_INCREMENT] [<span class="meta">UNIQUE</span> [<span class="meta">KEY</span>] | [<span class="meta">PRIMARY</span>] <span class="meta">KEY</span>] [COMMENT <span class="string">&#x27;string&#x27;</span>]</span><br><span class="line">-- 表选项</span><br><span class="line">    -- 字符集</span><br><span class="line">        CHARSET = charset_name</span><br><span class="line">        如果表没有设定，则使用数据库字符集</span><br><span class="line">    -- 存储引擎</span><br><span class="line">        ENGINE = engine_name</span><br><span class="line">        表在管理数据时采用的不同的数据结构，结构不同会导致处理方式、提供的特性操作等不同</span><br><span class="line">        常见的引擎：InnoDB MyISAM Memory/Heap BDB <span class="meta">Merge</span> Example CSV MaxDB Archive</span><br><span class="line">        不同的引擎在保存表的结构和数据时采用不同的方式</span><br><span class="line">        MyISAM表文件含义：.frm表定义，.MYD表数据，.MYI表索引</span><br><span class="line">        InnoDB表文件含义：.frm表定义，表空间数据和日志文件</span><br><span class="line">        SHOW ENGINES -- 显示存储引擎的状态信息</span><br><span class="line">        SHOW ENGINE 引擎名 &#123;LOGS|STATUS&#125; -- 显示存储引擎的日志或状态信息</span><br><span class="line">    -- 自增起始数</span><br><span class="line">        AUTO_INCREMENT = 行数</span><br><span class="line">    -- 数据文件目录</span><br><span class="line"><span class="keyword">        DATA </span>DIRECTORY = <span class="string">&#x27;目录&#x27;</span></span><br><span class="line">    -- 索引文件目录</span><br><span class="line">        <span class="meta">INDEX</span> DIRECTORY = <span class="string">&#x27;目录&#x27;</span></span><br><span class="line">    -- 表注释</span><br><span class="line">        COMMENT = <span class="string">&#x27;string&#x27;</span></span><br><span class="line">    -- 分区选项</span><br><span class="line">        PARTITION <span class="meta">BY</span> ... (详细见手册)</span><br><span class="line">-- 查看所有表</span><br><span class="line">    SHOW TABLES[ <span class="meta">LIKE</span> <span class="string">&#x27;pattern&#x27;</span>]</span><br><span class="line">    SHOW TABLES <span class="meta">FROM</span> 表名</span><br><span class="line">-- 查看表机构</span><br><span class="line">    SHOW <span class="meta">CREATE</span> <span class="meta">TABLE</span> 表名 （信息更详细）</span><br><span class="line">    DESC 表名 / <span class="meta">DESCRIBE</span> 表名 / EXPLAIN 表名 / SHOW COLUMNS <span class="meta">FROM</span> 表名 [<span class="meta">LIKE</span> <span class="string">&#x27;PATTERN&#x27;</span>]</span><br><span class="line">    SHOW <span class="meta">TABLE</span> STATUS [<span class="meta">FROM</span> db_name] [<span class="meta">LIKE</span> <span class="string">&#x27;pattern&#x27;</span>]</span><br><span class="line">-- 修改表</span><br><span class="line">    -- 修改表本身的选项</span><br><span class="line">        <span class="meta">ALTER</span> <span class="meta">TABLE</span> 表名 表的选项</span><br><span class="line">        eg: <span class="meta">ALTER</span> <span class="meta">TABLE</span> 表名 ENGINE=MYISAM;</span><br><span class="line">    -- 对表进行重命名</span><br><span class="line">        <span class="meta">RENAME</span> <span class="meta">TABLE</span> 原表名 TO 新表名</span><br><span class="line">        <span class="meta">RENAME</span> <span class="meta">TABLE</span> 原表名 TO 库名.表名 （可将表移动到另一个数据库）</span><br><span class="line">        -- <span class="meta">RENAME</span>可以交换两个表名</span><br><span class="line">    -- 修改表的字段机构（13.1.2. <span class="meta">ALTER</span> <span class="meta">TABLE</span>语法）</span><br><span class="line">        <span class="meta">ALTER</span> <span class="meta">TABLE</span> 表名 操作名</span><br><span class="line">        -- 操作名</span><br><span class="line">            <span class="meta">ADD</span>[ COLUMN] 字段定义       -- 增加字段</span><br><span class="line">                AFTER 字段名          -- 表示增加在该字段名后面</span><br><span class="line">                FIRST               -- 表示增加在第一个</span><br><span class="line">            <span class="meta">ADD</span> <span class="meta">PRIMARY</span> <span class="meta">KEY</span>(字段名)   -- 创建主键</span><br><span class="line">            <span class="meta">ADD</span> <span class="meta">UNIQUE</span> [索引名] (字段名)-- 创建唯一索引</span><br><span class="line">            <span class="meta">ADD</span> <span class="meta">INDEX</span> [索引名] (字段名) -- 创建普通索引</span><br><span class="line">            <span class="meta">DROP</span>[ COLUMN] 字段名      -- 删除字段</span><br><span class="line">            <span class="meta">MODIFY</span>[ COLUMN] 字段名 字段属性     -- 支持对字段属性进行修改，不能修改字段名(所有原有属性也需写上)</span><br><span class="line">            CHANGE[ COLUMN] 原字段名 新字段名 字段属性      -- 支持对字段名修改</span><br><span class="line">            <span class="meta">DROP</span> <span class="meta">PRIMARY</span> <span class="meta">KEY</span>    -- 删除主键(删除主键前需删除其AUTO_INCREMENT属性)</span><br><span class="line">            <span class="meta">DROP</span> <span class="meta">INDEX</span> 索引名 -- 删除索引</span><br><span class="line">            <span class="meta">DROP</span> <span class="meta">FOREIGN</span> <span class="meta">KEY</span> 外键    -- 删除外键</span><br><span class="line">-- 删除表</span><br><span class="line">    <span class="meta">DROP</span> <span class="meta">TABLE</span>[ <span class="meta">IF</span> EXISTS] 表名 ...</span><br><span class="line">-- 清空表数据</span><br><span class="line">    TRUNCATE [<span class="meta">TABLE</span>] 表名</span><br><span class="line">-- 复制表结构</span><br><span class="line">    <span class="meta">CREATE</span> <span class="meta">TABLE</span> 表名 <span class="meta">LIKE</span> 要复制的表名</span><br><span class="line">-- 复制表结构和数据</span><br><span class="line">    <span class="meta">CREATE</span> <span class="meta">TABLE</span> 表名 [<span class="meta">AS</span>] <span class="meta">SELECT</span> <span class="comment">* FROM 要复制的表名</span></span><br><span class="line"><span class="comment">-- 检查表是否有错误</span></span><br><span class="line"><span class="comment">    CHECK TABLE tbl_name [, tbl_name] ... [option] ...</span></span><br><span class="line"><span class="comment">-- 优化表</span></span><br><span class="line"><span class="comment">    OPTIMIZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE tbl_name [, tbl_name] ...</span></span><br><span class="line"><span class="comment">-- 修复表</span></span><br><span class="line"><span class="comment">    REPAIR [LOCAL | NO_WRITE_TO_BINLOG] TABLE tbl_name [, tbl_name] ... [QUICK] [EXTENDED] [USE_FRM]</span></span><br><span class="line"><span class="comment">-- 分析表</span></span><br><span class="line"><span class="comment">    ANALYZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE tbl_name [, tbl_name] ...</span></span><br></pre></td></tr></table></figure>
<p>数据操作</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 增</span></span><br><span class="line">    <span class="keyword">INSERT</span> [<span class="keyword">INTO</span>] 表名 [(字段列表)] <span class="keyword">VALUES</span> (值列表)[, (值列表), ...]</span><br><span class="line">        <span class="comment">-- 如果要插入的值列表包含所有字段并且顺序一致，则可以省略字段列表。</span></span><br><span class="line">        <span class="comment">-- 可同时插入多条数据记录！</span></span><br><span class="line">        REPLACE 与 <span class="keyword">INSERT</span> 完全一样，可互换。</span><br><span class="line">    <span class="keyword">INSERT</span> [<span class="keyword">INTO</span>] 表名 <span class="keyword">SET</span> 字段名<span class="operator">=</span>值[, 字段名<span class="operator">=</span>值, ...]</span><br><span class="line"><span class="comment">-- 查</span></span><br><span class="line">    <span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表名[ 其他子句]</span><br><span class="line">        <span class="comment">-- 可来自多个表的多个字段</span></span><br><span class="line">        <span class="comment">-- 其他子句可以不使用</span></span><br><span class="line">        <span class="comment">-- 字段列表可以用*代替，表示所有字段</span></span><br><span class="line"><span class="comment">-- 删</span></span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> 表名[ 删除条件子句]</span><br><span class="line">        没有条件子句，则会删除全部</span><br><span class="line"><span class="comment">-- 改</span></span><br><span class="line">    UPDATE 表名 <span class="keyword">SET</span> 字段名<span class="operator">=</span>新值[, 字段名<span class="operator">=</span>新值] [更新条件]</span><br></pre></td></tr></table></figure>
<p>字符集编码</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- MySQL、数据库、表、字段均可设置编码</span></span><br><span class="line"><span class="comment">-- 数据编码与客户端编码不需一致</span></span><br><span class="line"><span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;character_set_%&#x27;</span>   <span class="comment">-- 查看所有字符集编码项</span></span><br><span class="line">    character_set_client        客户端向服务器发送数据时使用的编码</span><br><span class="line">    character_set_results       服务器端将结果返回给客户端所使用的编码</span><br><span class="line">    character_set_connection    连接层编码</span><br><span class="line"><span class="keyword">SET</span> 变量名 <span class="operator">=</span> 变量值</span><br><span class="line">    <span class="keyword">SET</span> character_set_client <span class="operator">=</span> gbk;</span><br><span class="line">    <span class="keyword">SET</span> character_set_results <span class="operator">=</span> gbk;</span><br><span class="line">    <span class="keyword">SET</span> character_set_connection <span class="operator">=</span> gbk;</span><br><span class="line"><span class="keyword">SET</span> NAMES GBK;  <span class="comment">-- 相当于完成以上三个设置</span></span><br><span class="line"><span class="comment">-- 校对集</span></span><br><span class="line">    校对集用以排序</span><br><span class="line">    <span class="keyword">SHOW</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> [<span class="keyword">LIKE</span> <span class="string">&#x27;pattern&#x27;</span>]<span class="operator">/</span><span class="keyword">SHOW</span> CHARSET [<span class="keyword">LIKE</span> <span class="string">&#x27;pattern&#x27;</span>]   查看所有字符集</span><br><span class="line">    <span class="keyword">SHOW</span> <span class="keyword">COLLATION</span> [<span class="keyword">LIKE</span> <span class="string">&#x27;pattern&#x27;</span>]     查看所有校对集</span><br><span class="line">    CHARSET 字符集编码     设置字符集编码</span><br><span class="line">    <span class="keyword">COLLATE</span> 校对集编码     设置校对集编码</span><br></pre></td></tr></table></figure>
<p>数据类型（列类型）</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 数值类型</span><br><span class="line"></span><br><span class="line"><span class="comment">-- a. 整型 ----------</span></span><br><span class="line">    类型         字节     范围（有符号位）</span><br><span class="line">    tinyint     <span class="number">1</span>字节    <span class="number">-128</span> <span class="operator">~</span> <span class="number">127</span>      无符号位：<span class="number">0</span> <span class="operator">~</span> <span class="number">255</span></span><br><span class="line">    <span class="type">smallint</span>    <span class="number">2</span>字节    <span class="number">-32768</span> <span class="operator">~</span> <span class="number">32767</span></span><br><span class="line">    mediumint   <span class="number">3</span>字节    <span class="number">-8388608</span> <span class="operator">~</span> <span class="number">8388607</span></span><br><span class="line">    <span class="type">int</span>         <span class="number">4</span>字节</span><br><span class="line">    <span class="type">bigint</span>      <span class="number">8</span>字节</span><br><span class="line">    <span class="type">int</span>(M)  M表示总位数</span><br><span class="line">    <span class="operator">-</span> 默认存在符号位，unsigned 属性修改</span><br><span class="line">    <span class="operator">-</span> 显示宽度，如果某个数不够定义字段时设置的位数，则前面以<span class="number">0</span>补填，zerofill 属性修改</span><br><span class="line">        例：<span class="type">int</span>(<span class="number">5</span>)   插入一个数<span class="string">&#x27;123&#x27;</span>，补填后为<span class="string">&#x27;00123&#x27;</span></span><br><span class="line">    <span class="operator">-</span> 在满足要求的情况下，越小越好。</span><br><span class="line">    <span class="operator">-</span> <span class="number">1</span>表示bool值真，<span class="number">0</span>表示bool值假。MySQL没有布尔类型，通过整型<span class="number">0</span>和<span class="number">1</span>表示。常用tinyint(<span class="number">1</span>)表示布尔型。</span><br><span class="line"></span><br><span class="line"><span class="comment">-- b. 浮点型 ----------</span></span><br><span class="line">    类型             字节     范围</span><br><span class="line">    <span class="type">float</span>(单精度)     <span class="number">4</span>字节</span><br><span class="line">    <span class="keyword">double</span>(双精度)    <span class="number">8</span>字节</span><br><span class="line">    浮点型既支持符号位 unsigned 属性，也支持显示宽度 zerofill 属性。</span><br><span class="line">        不同于整型，前后均会补填<span class="number">0.</span></span><br><span class="line">    定义浮点型时，需指定总位数和小数位数。</span><br><span class="line">        <span class="type">float</span>(M, D)     <span class="keyword">double</span>(M, D)</span><br><span class="line">        M表示总位数，D表示小数位数。</span><br><span class="line">        M和D的大小会决定浮点数的范围。不同于整型的固定范围。</span><br><span class="line">        M既表示总位数（不包括小数点和正负号），也表示显示宽度（所有显示符号均包括）。</span><br><span class="line">        支持科学计数法表示。</span><br><span class="line">        浮点数表示近似值。</span><br><span class="line"></span><br><span class="line"><span class="comment">-- c. 定点数 ----------</span></span><br><span class="line">    <span class="type">decimal</span> <span class="comment">-- 可变长度</span></span><br><span class="line">    <span class="type">decimal</span>(M, D)   M也表示总位数，D表示小数位数。</span><br><span class="line">    保存一个精确的数值，不会发生数据的改变，不同于浮点数的四舍五入。</span><br><span class="line">    将浮点数转换为字符串来保存，每<span class="number">9</span>位数字保存为<span class="number">4</span>个字节。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 字符串类型</span><br><span class="line"></span><br><span class="line"><span class="comment">-- a. char, varchar ----------</span></span><br><span class="line">    <span class="type">char</span>    定长字符串，速度快，但浪费空间</span><br><span class="line">    <span class="type">varchar</span> 变长字符串，速度慢，但节省空间</span><br><span class="line">    M表示能存储的最大长度，此长度是字符数，非字节数。</span><br><span class="line">    不同的编码，所占用的空间不同。</span><br><span class="line">    <span class="type">char</span>,最多<span class="number">255</span>个字符，与编码无关。</span><br><span class="line">    <span class="type">varchar</span>,最多<span class="number">65535</span>字符，与编码有关。</span><br><span class="line">    一条有效记录最大不能超过<span class="number">65535</span>个字节。</span><br><span class="line">        utf8 最大为<span class="number">21844</span>个字符，gbk 最大为<span class="number">32766</span>个字符，latin1 最大为<span class="number">65532</span>个字符</span><br><span class="line">    <span class="type">varchar</span> 是变长的，需要利用存储空间保存 <span class="type">varchar</span> 的长度，如果数据小于<span class="number">255</span>个字节，则采用一个字节来保存长度，反之需要两个字节来保存。</span><br><span class="line">    <span class="type">varchar</span> 的最大有效长度由最大行大小和使用的字符集确定。</span><br><span class="line">    最大有效长度是<span class="number">65532</span>字节，因为在<span class="type">varchar</span>存字符串时，第一个字节是空的，不存在任何数据，然后还需两个字节来存放字符串的长度，所以有效长度是<span class="number">64432</span><span class="number">-1</span><span class="number">-2</span><span class="operator">=</span><span class="number">65532</span>字节。</span><br><span class="line">    例：若一个表定义为 <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb(c1 <span class="type">int</span>, c2 <span class="type">char</span>(<span class="number">30</span>), c3 <span class="type">varchar</span>(N)) charset<span class="operator">=</span>utf8; 问N的最大值是多少？ 答：(<span class="number">65535</span><span class="number">-1</span><span class="number">-2</span><span class="number">-4</span><span class="number">-30</span><span class="operator">*</span><span class="number">3</span>)<span class="operator">/</span><span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- b. blob, text ----------</span></span><br><span class="line">    <span class="type">blob</span> 二进制字符串（字节字符串）</span><br><span class="line">        tinyblob, <span class="type">blob</span>, mediumblob, longblob</span><br><span class="line">    text 非二进制字符串（字符字符串）</span><br><span class="line">        tinytext, text, mediumtext, longtext</span><br><span class="line">    text 在定义时，不需要定义长度，也不会计算总长度。</span><br><span class="line">    text 类型在定义时，不可给<span class="keyword">default</span>值</span><br><span class="line"></span><br><span class="line"><span class="comment">-- c. binary, varbinary ----------</span></span><br><span class="line">    类似于<span class="type">char</span>和<span class="type">varchar</span>，用于保存二进制字符串，也就是保存字节字符串而非字符字符串。</span><br><span class="line">    <span class="type">char</span>, <span class="type">varchar</span>, text 对应 <span class="type">binary</span>, <span class="type">varbinary</span>, blob.</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> 日期时间类型</span><br><span class="line">    一般用整型保存时间戳，因为PHP可以很方便的将时间戳进行格式化。</span><br><span class="line">    datetime    <span class="number">8</span>字节    日期及时间     <span class="number">1000</span><span class="number">-01</span><span class="number">-01</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> 到 <span class="number">9999</span><span class="number">-12</span><span class="number">-31</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span></span><br><span class="line">    <span class="type">date</span>        <span class="number">3</span>字节    日期         <span class="number">1000</span><span class="number">-01</span><span class="number">-01</span> 到 <span class="number">9999</span><span class="number">-12</span><span class="number">-31</span></span><br><span class="line">    <span class="type">timestamp</span>   <span class="number">4</span>字节    时间戳        <span class="number">19700101000000</span> 到 <span class="number">2038</span><span class="number">-01</span><span class="number">-19</span> <span class="number">03</span>:<span class="number">14</span>:<span class="number">07</span></span><br><span class="line">    <span class="type">time</span>        <span class="number">3</span>字节    时间         <span class="number">-838</span>:<span class="number">59</span>:<span class="number">59</span> 到 <span class="number">838</span>:<span class="number">59</span>:<span class="number">59</span></span><br><span class="line">    <span class="keyword">year</span>        <span class="number">1</span>字节    年份         <span class="number">1901</span> <span class="operator">-</span> <span class="number">2155</span></span><br><span class="line">datetime    YYYY<span class="operator">-</span>MM<span class="operator">-</span>DD hh:mm:ss</span><br><span class="line"><span class="type">timestamp</span>   YY<span class="operator">-</span>MM<span class="operator">-</span>DD hh:mm:ss</span><br><span class="line">            YYYYMMDDhhmmss</span><br><span class="line">            YYMMDDhhmmss</span><br><span class="line">            YYYYMMDDhhmmss</span><br><span class="line">            YYMMDDhhmmss</span><br><span class="line"><span class="type">date</span>        YYYY<span class="operator">-</span>MM<span class="operator">-</span>DD</span><br><span class="line">            YY<span class="operator">-</span>MM<span class="operator">-</span>DD</span><br><span class="line">            YYYYMMDD</span><br><span class="line">            YYMMDD</span><br><span class="line">            YYYYMMDD</span><br><span class="line">            YYMMDD</span><br><span class="line"><span class="type">time</span>        hh:mm:ss</span><br><span class="line">            hhmmss</span><br><span class="line">            hhmmss</span><br><span class="line"><span class="keyword">year</span>        YYYY</span><br><span class="line">            YY</span><br><span class="line">            YYYY</span><br><span class="line">            YY</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> 枚举和集合</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 枚举(enum) ----------</span></span><br><span class="line">enum(val1, val2, val3...)</span><br><span class="line">    在已知的值中进行单选。最大数量为<span class="number">65535.</span></span><br><span class="line">    枚举值在保存时，以<span class="number">2</span>个字节的整型(<span class="type">smallint</span>)保存。每个枚举值，按保存的位置顺序，从<span class="number">1</span>开始逐一递增。</span><br><span class="line">    表现为字符串类型，存储却是整型。</span><br><span class="line">    <span class="keyword">NULL</span>值的索引是<span class="keyword">NULL</span>。</span><br><span class="line">    空字符串错误值的索引值是<span class="number">0</span>。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 集合（set） ----------</span></span><br><span class="line"><span class="keyword">set</span>(val1, val2, val3...)</span><br><span class="line">    <span class="keyword">create</span> <span class="keyword">table</span> tab ( gender <span class="keyword">set</span>(<span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;无&#x27;</span>) );</span><br><span class="line">    <span class="keyword">insert</span> <span class="keyword">into</span> tab <span class="keyword">values</span> (<span class="string">&#x27;男, 女&#x27;</span>);</span><br><span class="line">    最多可以有<span class="number">64</span>个不同的成员。以<span class="type">bigint</span>存储，共<span class="number">8</span>个字节。采取位运算的形式。</span><br><span class="line">    当创建表时，<span class="keyword">SET</span>成员值的尾部空格将自动被删除。</span><br></pre></td></tr></table></figure>
<p>列属性（列约束）</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="keyword">PRIMARY</span> 主键</span><br><span class="line">    <span class="operator">-</span> 能唯一标识记录的字段，可以作为主键。</span><br><span class="line">    <span class="operator">-</span> 一个表只能有一个主键。</span><br><span class="line">    <span class="operator">-</span> 主键具有唯一性。</span><br><span class="line">    <span class="operator">-</span> 声明字段时，用 <span class="keyword">primary</span> key 标识。</span><br><span class="line">        也可以在字段列表之后声明</span><br><span class="line">            例：<span class="keyword">create</span> <span class="keyword">table</span> tab ( id <span class="type">int</span>, stu <span class="type">varchar</span>(<span class="number">10</span>), <span class="keyword">primary</span> key (id));</span><br><span class="line">    <span class="operator">-</span> 主键字段的值不能为<span class="keyword">null</span>。</span><br><span class="line">    <span class="operator">-</span> 主键可以由多个字段共同组成。此时需要在字段列表后声明的方法。</span><br><span class="line">        例：<span class="keyword">create</span> <span class="keyword">table</span> tab ( id <span class="type">int</span>, stu <span class="type">varchar</span>(<span class="number">10</span>), age <span class="type">int</span>, <span class="keyword">primary</span> key (stu, age));</span><br><span class="line"><span class="number">2.</span> <span class="keyword">UNIQUE</span> 唯一索引（唯一约束）</span><br><span class="line">    使得某字段的值也不能重复。</span><br><span class="line"><span class="number">3.</span> <span class="keyword">NULL</span> 约束</span><br><span class="line">    <span class="keyword">null</span>不是数据类型，是列的一个属性。</span><br><span class="line">    表示当前列是否可以为<span class="keyword">null</span>，表示什么都没有。</span><br><span class="line">    <span class="keyword">null</span>, 允许为空。默认。</span><br><span class="line">    <span class="keyword">not</span> <span class="keyword">null</span>, 不允许为空。</span><br><span class="line">    <span class="keyword">insert</span> <span class="keyword">into</span> tab <span class="keyword">values</span> (<span class="keyword">null</span>, <span class="string">&#x27;val&#x27;</span>);</span><br><span class="line">        <span class="comment">-- 此时表示将第一个字段的值设为null, 取决于该字段是否允许为null</span></span><br><span class="line"><span class="number">4.</span> <span class="keyword">DEFAULT</span> 默认值属性</span><br><span class="line">    当前字段的默认值。</span><br><span class="line">    <span class="keyword">insert</span> <span class="keyword">into</span> tab <span class="keyword">values</span> (<span class="keyword">default</span>, <span class="string">&#x27;val&#x27;</span>);    <span class="comment">-- 此时表示强制使用默认值。</span></span><br><span class="line">    <span class="keyword">create</span> <span class="keyword">table</span> tab ( add_time <span class="type">timestamp</span> <span class="keyword">default</span> <span class="built_in">current_timestamp</span> );</span><br><span class="line">        <span class="comment">-- 表示将当前时间的时间戳设为默认值。</span></span><br><span class="line">        <span class="built_in">current_date</span>, <span class="built_in">current_time</span></span><br><span class="line"><span class="number">5.</span> AUTO_INCREMENT 自动增长约束</span><br><span class="line">    自动增长必须为索引（主键或<span class="keyword">unique</span>）</span><br><span class="line">    只能存在一个字段为自动增长。</span><br><span class="line">    默认为<span class="number">1</span>开始自动增长。可以通过表属性 auto_increment <span class="operator">=</span> x进行设置，或 <span class="keyword">alter</span> <span class="keyword">table</span> tbl auto_increment <span class="operator">=</span> x;</span><br><span class="line"><span class="number">6.</span> COMMENT 注释</span><br><span class="line">    例：<span class="keyword">create</span> <span class="keyword">table</span> tab ( id <span class="type">int</span> ) comment <span class="string">&#x27;注释内容&#x27;</span>;</span><br><span class="line"><span class="number">7.</span> <span class="keyword">FOREIGN</span> KEY 外键约束</span><br><span class="line">    用于限制主表与从表数据完整性。</span><br><span class="line">    <span class="keyword">alter</span> <span class="keyword">table</span> t1 <span class="keyword">add</span> <span class="keyword">constraint</span> `t1_t2_fk` <span class="keyword">foreign</span> key (t1_id) <span class="keyword">references</span> t2(id);</span><br><span class="line">        <span class="comment">-- 将表t1的t1_id外键关联到表t2的id字段。</span></span><br><span class="line">        <span class="comment">-- 每个外键都有一个名字，可以通过 constraint 指定</span></span><br><span class="line">    存在外键的表，称之为从表（子表），外键指向的表，称之为主表（父表）。</span><br><span class="line">    作用：保持数据一致性，完整性，主要目的是控制存储在外键表（从表）中的数据。</span><br><span class="line">    MySQL中，可以对InnoDB引擎使用外键约束：</span><br><span class="line">    语法：</span><br><span class="line">    <span class="keyword">foreign</span> key (外键字段） <span class="keyword">references</span> 主表名 (关联字段) [主表记录删除时的动作] [主表记录更新时的动作]</span><br><span class="line">    此时需要检测一个从表的外键需要约束为主表的已存在的值。外键在没有关联的情况下，可以设置为null.前提是该外键列，没有<span class="keyword">not</span> <span class="keyword">null</span>。</span><br><span class="line">    可以不指定主表记录更改或更新时的动作，那么此时主表的操作被拒绝。</span><br><span class="line">    如果指定了 <span class="keyword">on</span> update 或 <span class="keyword">on</span> <span class="keyword">delete</span>：在删除或更新时，有如下几个操作可以选择：</span><br><span class="line">    <span class="number">1.</span> cascade，级联操作。主表数据被更新（主键值更新），从表也被更新（外键值更新）。主表记录被删除，从表相关记录也被删除。</span><br><span class="line">    <span class="number">2.</span> <span class="keyword">set</span> <span class="keyword">null</span>，设置为<span class="keyword">null</span>。主表数据被更新（主键值更新），从表的外键被设置为<span class="keyword">null</span>。主表记录被删除，从表相关记录外键被设置成<span class="keyword">null</span>。但注意，要求该外键列，没有<span class="keyword">not</span> <span class="keyword">null</span>属性约束。</span><br><span class="line">    <span class="number">3.</span> restrict，拒绝父表删除和更新。</span><br><span class="line">    注意，外键只被InnoDB存储引擎所支持。其他引擎是不支持的。</span><br></pre></td></tr></table></figure>

<p>SELECT</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">ALL</span><span class="operator">|</span><span class="keyword">DISTINCT</span>] select_expr <span class="keyword">FROM</span> <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">WHERE</span> <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> [合计函数] <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">HAVING</span> <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="operator">-</span><span class="operator">&gt;</span> LIMIT</span><br><span class="line">a. select_expr</span><br><span class="line">    <span class="comment">-- 可以用 * 表示所有字段。</span></span><br><span class="line">        <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb;</span><br><span class="line">    <span class="comment">-- 可以使用表达式（计算公式、函数调用、字段也是个表达式）</span></span><br><span class="line">        <span class="keyword">select</span> stu, <span class="number">29</span><span class="operator">+</span><span class="number">25</span>, now() <span class="keyword">from</span> tb;</span><br><span class="line">    <span class="comment">-- 可以为每个列使用别名。适用于简化列标识，避免多个列标识符重复。</span></span><br><span class="line">        <span class="operator">-</span> 使用 <span class="keyword">as</span> 关键字，也可省略 as.</span><br><span class="line">        <span class="keyword">select</span> stu<span class="operator">+</span><span class="number">10</span> <span class="keyword">as</span> add10 <span class="keyword">from</span> tb;</span><br><span class="line">b. <span class="keyword">FROM</span> 子句</span><br><span class="line">    用于标识查询来源。</span><br><span class="line">    <span class="comment">-- 可以为表起别名。使用as关键字。</span></span><br><span class="line">        <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> tb1 <span class="keyword">AS</span> tt, tb2 <span class="keyword">AS</span> bb;</span><br><span class="line">    <span class="comment">-- from子句后，可以同时出现多个表。</span></span><br><span class="line">        <span class="comment">-- 多个表会横向叠加到一起，而数据会形成一个笛卡尔积。</span></span><br><span class="line">        <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> tb1, tb2;</span><br><span class="line">    <span class="comment">-- 向优化符提示如何选择索引</span></span><br><span class="line">        USE INDEX、IGNORE INDEX、FORCE INDEX</span><br><span class="line">        <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table1 USE INDEX (key1,key2) <span class="keyword">WHERE</span> key1<span class="operator">=</span><span class="number">1</span> <span class="keyword">AND</span> key2<span class="operator">=</span><span class="number">2</span> <span class="keyword">AND</span> key3<span class="operator">=</span><span class="number">3</span>;</span><br><span class="line">        <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table1 IGNORE INDEX (key3) <span class="keyword">WHERE</span> key1<span class="operator">=</span><span class="number">1</span> <span class="keyword">AND</span> key2<span class="operator">=</span><span class="number">2</span> <span class="keyword">AND</span> key3<span class="operator">=</span><span class="number">3</span>;</span><br><span class="line">c. <span class="keyword">WHERE</span> 子句</span><br><span class="line">    <span class="comment">-- 从from获得的数据源中进行筛选。</span></span><br><span class="line">    <span class="comment">-- 整型1表示真，0表示假。</span></span><br><span class="line">    <span class="comment">-- 表达式由运算符和运算数组成。</span></span><br><span class="line">        <span class="comment">-- 运算数：变量（字段）、值、函数返回值</span></span><br><span class="line">        <span class="comment">-- 运算符：</span></span><br><span class="line">            <span class="operator">=</span>, <span class="operator">&lt;=&gt;</span>, <span class="operator">&lt;&gt;</span>, <span class="operator">!=</span>, <span class="operator">&lt;=</span>, <span class="operator">&lt;</span>, <span class="operator">&gt;=</span>, <span class="operator">&gt;</span>, <span class="operator">!</span>, <span class="operator">&amp;&amp;</span>, <span class="operator">||</span>,</span><br><span class="line">            <span class="keyword">in</span> (<span class="keyword">not</span>) <span class="keyword">null</span>, (<span class="keyword">not</span>) <span class="keyword">like</span>, (<span class="keyword">not</span>) <span class="keyword">in</span>, (<span class="keyword">not</span>) <span class="keyword">between</span> <span class="keyword">and</span>, <span class="keyword">is</span> (<span class="keyword">not</span>), <span class="keyword">and</span>, <span class="keyword">or</span>, <span class="keyword">not</span>, xor</span><br><span class="line">            <span class="keyword">is</span><span class="operator">/</span><span class="keyword">is</span> <span class="keyword">not</span> 加上ture<span class="operator">/</span><span class="literal">false</span><span class="operator">/</span><span class="literal">unknown</span>，检验某个值的真假</span><br><span class="line">            <span class="operator">&lt;=&gt;</span>与<span class="operator">&lt;&gt;</span>功能相同，<span class="operator">&lt;=&gt;</span>可用于<span class="keyword">null</span>比较</span><br><span class="line">d. <span class="keyword">GROUP</span> <span class="keyword">BY</span> 子句, 分组子句</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> 字段<span class="operator">/</span>别名 [排序方式]</span><br><span class="line">    分组后会进行排序。升序：<span class="keyword">ASC</span>，降序：<span class="keyword">DESC</span></span><br><span class="line">    以下[合计函数]需配合 <span class="keyword">GROUP</span> <span class="keyword">BY</span> 使用：</span><br><span class="line">    count 返回不同的非<span class="keyword">NULL</span>值数目  <span class="built_in">count</span>(<span class="operator">*</span>)、<span class="built_in">count</span>(字段)</span><br><span class="line">    sum 求和</span><br><span class="line">    max 求最大值</span><br><span class="line">    min 求最小值</span><br><span class="line">    avg 求平均值</span><br><span class="line">    group_concat 返回带有来自一个组的连接的非<span class="keyword">NULL</span>值的字符串结果。组内字符串连接。</span><br><span class="line">e. <span class="keyword">HAVING</span> 子句，条件子句</span><br><span class="line">    与 <span class="keyword">where</span> 功能、用法相同，执行时机不同。</span><br><span class="line">    <span class="keyword">where</span> 在开始时执行检测数据，对原数据进行过滤。</span><br><span class="line">    <span class="keyword">having</span> 对筛选出的结果再次进行过滤。</span><br><span class="line">    <span class="keyword">having</span> 字段必须是查询出来的，<span class="keyword">where</span> 字段必须是数据表存在的。</span><br><span class="line">    <span class="keyword">where</span> 不可以使用字段的别名，<span class="keyword">having</span> 可以。因为执行<span class="keyword">WHERE</span>代码时，可能尚未确定列值。</span><br><span class="line">    <span class="keyword">where</span> 不可以使用合计函数。一般需用合计函数才会用 <span class="keyword">having</span></span><br><span class="line">    <span class="keyword">SQL</span>标准要求<span class="keyword">HAVING</span>必须引用<span class="keyword">GROUP</span> <span class="keyword">BY</span>子句中的列或用于合计函数中的列。</span><br><span class="line">f. <span class="keyword">ORDER</span> <span class="keyword">BY</span> 子句，排序子句</span><br><span class="line">    <span class="keyword">order</span> <span class="keyword">by</span> 排序字段<span class="operator">/</span>别名 排序方式 [,排序字段<span class="operator">/</span>别名 排序方式]...</span><br><span class="line">    升序：<span class="keyword">ASC</span>，降序：<span class="keyword">DESC</span></span><br><span class="line">    支持多个字段的排序。</span><br><span class="line">g. LIMIT 子句，限制结果数量子句</span><br><span class="line">    仅对处理好的结果进行数量限制。将处理好的结果的看作是一个集合，按照记录出现的顺序，索引从<span class="number">0</span>开始。</span><br><span class="line">    limit 起始位置, 获取条数</span><br><span class="line">    省略第一个参数，表示从索引<span class="number">0</span>开始。limit 获取条数</span><br><span class="line">h. <span class="keyword">DISTINCT</span>, <span class="keyword">ALL</span> 选项</span><br><span class="line">    <span class="keyword">distinct</span> 去除重复记录</span><br><span class="line">    默认为 <span class="keyword">all</span>, 全部记录</span><br></pre></td></tr></table></figure>
<p>UNION</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">    将多个<span class="keyword">select</span>查询的结果组合成一个结果集合。</span><br><span class="line">    <span class="keyword">SELECT</span> ... <span class="keyword">UNION</span> [<span class="keyword">ALL</span><span class="operator">|</span><span class="keyword">DISTINCT</span>] <span class="keyword">SELECT</span> ...</span><br><span class="line">    默认 <span class="keyword">DISTINCT</span> 方式，即所有返回的行都是唯一的</span><br><span class="line">    建议，对每个<span class="keyword">SELECT</span>查询加上小括号包裹。</span><br><span class="line">    <span class="keyword">ORDER</span> <span class="keyword">BY</span> 排序时，需加上 LIMIT 进行结合。</span><br><span class="line">    需要各<span class="keyword">select</span>查询的字段数量一样。</span><br><span class="line">    每个<span class="keyword">select</span>查询的字段列表(数量、类型)应一致，因为结果中的字段名以第一条<span class="keyword">select</span>语句为准。</span><br><span class="line">子查询</span><br><span class="line">    <span class="operator">-</span> 子查询需用括号包裹。</span><br><span class="line"><span class="comment">-- from型</span></span><br><span class="line">    <span class="keyword">from</span>后要求是一个表，必须给子查询结果取个别名。</span><br><span class="line">    <span class="operator">-</span> 简化每个查询内的条件。</span><br><span class="line">    <span class="operator">-</span> <span class="keyword">from</span>型需将结果生成一个临时表格，可用以原表的锁定的释放。</span><br><span class="line">    <span class="operator">-</span> 子查询返回一个表，表型子查询。</span><br><span class="line">    <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> (<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb <span class="keyword">where</span> id<span class="operator">&gt;</span><span class="number">0</span>) <span class="keyword">as</span> subfrom <span class="keyword">where</span> id<span class="operator">&gt;</span><span class="number">1</span>;</span><br><span class="line"><span class="comment">-- where型</span></span><br><span class="line">    <span class="operator">-</span> 子查询返回一个值，标量子查询。</span><br><span class="line">    <span class="operator">-</span> 不需要给子查询取别名。</span><br><span class="line">    <span class="operator">-</span> <span class="keyword">where</span>子查询内的表，不能直接用以更新。</span><br><span class="line">    <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb <span class="keyword">where</span> money <span class="operator">=</span> (<span class="keyword">select</span> <span class="built_in">max</span>(money) <span class="keyword">from</span> tb);</span><br><span class="line">    <span class="comment">-- 列子查询</span></span><br><span class="line">        如果子查询结果返回的是一列。</span><br><span class="line">        使用 <span class="keyword">in</span> 或 <span class="keyword">not</span> <span class="keyword">in</span> 完成查询</span><br><span class="line">        <span class="keyword">exists</span> 和 <span class="keyword">not</span> <span class="keyword">exists</span> 条件</span><br><span class="line">            如果子查询返回数据，则返回<span class="number">1</span>或<span class="number">0</span>。常用于判断条件。</span><br><span class="line">            <span class="keyword">select</span> column1 <span class="keyword">from</span> t1 <span class="keyword">where</span> <span class="keyword">exists</span> (<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t2);</span><br><span class="line">    <span class="comment">-- 行子查询</span></span><br><span class="line">        查询条件是一个行。</span><br><span class="line">        <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t1 <span class="keyword">where</span> (id, gender) <span class="keyword">in</span> (<span class="keyword">select</span> id, gender <span class="keyword">from</span> t2);</span><br><span class="line">        行构造符：(col1, col2, ...) 或 <span class="type">ROW</span>(col1, col2, ...)</span><br><span class="line">        行构造符通常用于与对能返回两个或两个以上列的子查询进行比较。</span><br><span class="line">    <span class="comment">-- 特殊运算符</span></span><br><span class="line">    <span class="operator">!=</span> <span class="keyword">all</span>()    相当于 <span class="keyword">not</span> <span class="keyword">in</span></span><br><span class="line">    <span class="operator">=</span> <span class="keyword">some</span>()    相当于 <span class="keyword">in</span>。<span class="keyword">any</span> 是 <span class="keyword">some</span> 的别名</span><br><span class="line">    <span class="operator">!=</span> <span class="keyword">some</span>()   不等同于 <span class="keyword">not</span> <span class="keyword">in</span>，不等于其中某一个。</span><br><span class="line">    <span class="keyword">all</span>, <span class="keyword">some</span> 可以配合其他运算符一起使用。</span><br></pre></td></tr></table></figure>


<p>连接查询(join)</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">    将多个表的字段进行连接，可以指定连接条件。</span><br><span class="line"><span class="comment">-- 内连接(inner join)</span></span><br><span class="line">    - 默认就是内连接，可省略<span class="keyword">inner</span>。</span><br><span class="line">    - 只有数据存在时才能发送连接。即连接结果不能出现空行。</span><br><span class="line">    <span class="keyword">on</span> 表示连接条件。其条件表达式与<span class="keyword">where</span>类似。也可以省略条件（表示条件永远为真）</span><br><span class="line">    也可用<span class="keyword">where</span>表示连接条件。</span><br><span class="line">    还有 <span class="keyword">using</span>, 但需字段名相同。 <span class="keyword">using</span>(字段名)</span><br><span class="line">    <span class="comment">-- 交叉连接 cross join</span></span><br><span class="line">        即，没有条件的内连接。</span><br><span class="line">        <span class="keyword">select</span> * <span class="keyword">from</span> tb1 <span class="keyword">cross</span> <span class="keyword">join</span> tb2;</span><br><span class="line"><span class="comment">-- 外连接(outer join)</span></span><br><span class="line">    - 如果数据不存在，也会出现在连接结果中。</span><br><span class="line">    <span class="comment">-- 左外连接 left join</span></span><br><span class="line">        如果数据不存在，左表记录会出现，而右表为<span class="keyword">null</span>填充</span><br><span class="line">    <span class="comment">-- 右外连接 right join</span></span><br><span class="line">        如果数据不存在，右表记录会出现，而左表为<span class="keyword">null</span>填充</span><br><span class="line"><span class="comment">-- 自然连接(natural join)</span></span><br><span class="line">    自动判断连接条件完成连接。</span><br><span class="line">    相当于省略了<span class="keyword">using</span>，会自动查找相同字段名。</span><br><span class="line">    <span class="keyword">natural</span> <span class="keyword">join</span></span><br><span class="line">    <span class="keyword">natural</span> <span class="keyword">left join</span></span><br><span class="line">    <span class="keyword">natural</span> <span class="keyword">right join</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">info</span>.id, <span class="keyword">info</span>.name, <span class="keyword">info</span>.stu_num, extra_info.hobby, extra_info.sex <span class="keyword">from</span> <span class="keyword">info</span>, extra_info <span class="keyword">where</span> <span class="keyword">info</span>.stu_num = extra_info.stu_id;</span><br></pre></td></tr></table></figure>
<p>INSERT</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span>语句获得的数据可以用<span class="keyword">insert</span>插入。</span><br><span class="line">可以省略对列的指定，要求 <span class="keyword">values</span> () 括号内，提供给了按照列顺序出现的所有字段的值。</span><br><span class="line">    或者使用<span class="keyword">set</span>语法。</span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_name <span class="keyword">SET</span> field<span class="operator">=</span><span class="keyword">value</span>,...；</span><br><span class="line">可以一次性使用多个值，采用(), (), ();的形式。</span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_name <span class="keyword">VALUES</span> (), (), ();</span><br><span class="line">可以在列值指定时，使用表达式。</span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_name <span class="keyword">VALUES</span> (field_value, <span class="number">10</span><span class="operator">+</span><span class="number">10</span>, now());</span><br><span class="line">可以使用一个特殊值 <span class="keyword">DEFAULT</span>，表示该列使用默认值。</span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_name <span class="keyword">VALUES</span> (field_value, <span class="keyword">DEFAULT</span>);</span><br><span class="line">可以通过一个查询的结果，作为需要插入的值。</span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_name <span class="keyword">SELECT</span> ...;</span><br><span class="line">可以指定在插入的值出现主键（或唯一索引）冲突时，更新其他非主键列的信息。</span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> tbl_name <span class="keyword">VALUES</span><span class="operator">/</span><span class="keyword">SET</span><span class="operator">/</span><span class="keyword">SELECT</span> <span class="keyword">ON</span> DUPLICATE KEY UPDATE 字段<span class="operator">=</span>值, …;</span><br></pre></td></tr></table></figure>
<p>DELETE</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> tbl_name [<span class="keyword">WHERE</span> where_definition] [<span class="keyword">ORDER</span> <span class="keyword">BY</span> ...] [<span class="keyword">LIMIT</span> row_count]</span><br><span class="line">按照条件删除。<span class="keyword">where</span></span><br><span class="line">指定删除的最多记录数。<span class="keyword">limit</span></span><br><span class="line">可以通过排序条件删除。<span class="keyword">order</span> <span class="keyword">by</span> + <span class="keyword">limit</span></span><br><span class="line">支持多表删除，使用类似连接语法。</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 需要删除数据多表<span class="number">1</span>，表<span class="number">2</span> <span class="keyword">using</span> 表连接操作 条件。</span><br></pre></td></tr></table></figure>
<p>TRUNCATE</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">TRUNCATE</span> [<span class="keyword">TABLE</span>] tbl_name</span><br><span class="line">清空数据</span><br><span class="line">删除重建表</span><br><span class="line">区别：</span><br><span class="line"><span class="number">1</span>，<span class="keyword">truncate</span> 是删除表再创建，<span class="keyword">delete</span> 是逐条删除</span><br><span class="line"><span class="number">2</span>，<span class="keyword">truncate</span> 重置auto_increment的值。而<span class="keyword">delete</span>不会</span><br><span class="line"><span class="number">3</span>，<span class="keyword">truncate</span> 不知道删除了几条，而<span class="keyword">delete</span>知道。</span><br><span class="line"><span class="number">4</span>，当被用于带分区的表时，<span class="keyword">truncate</span> 会保留分区</span><br></pre></td></tr></table></figure>
<p>备份与还原</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">备份，将数据的结构与表内数据保存起来。</span><br><span class="line">利用 mysqldump 指令完成。</span><br><span class="line"><span class="comment">-- 导出</span></span><br><span class="line">mysqldump [<span class="keyword">options</span>] db_name [<span class="keyword">tables</span>]</span><br><span class="line">mysqldump [<span class="keyword">options</span>] <span class="comment">---database DB1 [DB2 DB3...]</span></span><br><span class="line">mysqldump [<span class="keyword">options</span>] <span class="comment">--all--database</span></span><br><span class="line"><span class="number">1.</span> 导出一张表</span><br><span class="line">　　mysqldump -u用户名 -p密码 库名 表名 &gt; 文件名(D:/a.<span class="keyword">sql</span>)</span><br><span class="line"><span class="number">2.</span> 导出多张表</span><br><span class="line">　　mysqldump -u用户名 -p密码 库名 表<span class="number">1</span> 表<span class="number">2</span> 表<span class="number">3</span> &gt; 文件名(D:/a.<span class="keyword">sql</span>)</span><br><span class="line"><span class="number">3.</span> 导出所有表</span><br><span class="line">　　mysqldump -u用户名 -p密码 库名 &gt; 文件名(D:/a.<span class="keyword">sql</span>)</span><br><span class="line"><span class="number">4.</span> 导出一个库</span><br><span class="line">　　mysqldump -u用户名 -p密码 <span class="comment">--lock-all-tables --database 库名 &gt; 文件名(D:/a.sql)</span></span><br><span class="line">可以-w携带<span class="keyword">WHERE</span>条件</span><br><span class="line"><span class="comment">-- 导入</span></span><br><span class="line"><span class="number">1.</span> 在登录mysql的情况下：</span><br><span class="line">　　source  备份文件</span><br><span class="line"><span class="number">2.</span> 在不登录的情况下</span><br><span class="line">　　mysql -u用户名 -p密码 库名 &lt; 备份文件</span><br></pre></td></tr></table></figure>
<p>视图</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">什么是视图：</span><br><span class="line">    视图是一个虚拟表，其内容由查询定义。同真实的表一样，视图包含一系列带有名称的列和行数据。但是，视图并不在数据库中以存储的数据值集形式存在。行和列数据来自由定义视图的查询所引用的表，并且在引用视图时动态生成。</span><br><span class="line">    视图具有表结构文件，但不存在数据文件。</span><br><span class="line">    对其中所引用的基础表来说，视图的作用类似于筛选。定义视图的筛选可以来自当前或其它数据库的一个或多个表，或者其它视图。通过视图进行查询没有任何限制，通过它们进行数据修改时的限制也很少。</span><br><span class="line">    视图是存储在数据库中的查询的sql语句，它主要出于两种原因：安全原因，视图可以隐藏一些数据，如：社会保险基金表，可以用视图只显示姓名，地址，而不显示社会保险号和工资数等，另一原因是可使复杂的查询易于理解和使用。</span><br><span class="line">-- 创建视图</span><br><span class="line"><span class="keyword">CREATE</span> [<span class="keyword">OR</span> <span class="built_in">REPLACE</span>] [ALGORITHM = &#123;UNDEFINED | <span class="keyword">MERGE</span> | TEMPTABLE&#125;] <span class="keyword">VIEW</span> view_name [(column_list)] <span class="keyword">AS</span> select_statement</span><br><span class="line">    - 视图名必须唯一，同时不能与表重名。</span><br><span class="line">    - 视图可以使用<span class="keyword">select</span>语句查询到的列名，也可以自己指定相应的列名。</span><br><span class="line">    - 可以指定视图执行的算法，通过ALGORITHM指定。</span><br><span class="line">    - column_list如果存在，则数目必须等于<span class="keyword">SELECT</span>语句检索的列数</span><br><span class="line">-- 查看结构</span><br><span class="line">    <span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">VIEW</span> view_name</span><br><span class="line">-- 删除视图</span><br><span class="line">    - 删除视图后，数据依然存在。</span><br><span class="line">    - 可同时删除多个视图。</span><br><span class="line">    <span class="keyword">DROP</span> <span class="keyword">VIEW</span> [<span class="keyword">IF</span> <span class="keyword">EXISTS</span>] view_name ...</span><br><span class="line">-- 修改视图结构</span><br><span class="line">    - 一般不修改视图，因为不是所有的更新视图都会映射到表上。</span><br><span class="line">    <span class="keyword">ALTER</span> <span class="keyword">VIEW</span> view_name [(column_list)] <span class="keyword">AS</span> select_statement</span><br><span class="line">-- 视图作用</span><br><span class="line">    <span class="number">1.</span> 简化业务逻辑</span><br><span class="line">    <span class="number">2.</span> 对客户端隐藏真实的表结构</span><br><span class="line">-- 视图算法(ALGORITHM)</span><br><span class="line">    <span class="keyword">MERGE</span>       合并</span><br><span class="line">        将视图的查询语句，与外部查询需要先合并再执行！</span><br><span class="line">    TEMPTABLE   临时表</span><br><span class="line">        将视图执行完毕后，形成临时表，再做外层查询！</span><br><span class="line">    UNDEFINED   未定义(默认)，指的是MySQL自主去选择相应的算法。</span><br></pre></td></tr></table></figure>
<p>事务(transaction)</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">事务是指逻辑上的一组操作，组成这组操作的各个单元，要不全成功要不全失败。</span><br><span class="line">    - 支持连续<span class="keyword">SQL</span>的集体成功或集体撤销。</span><br><span class="line">    - 事务是数据库在数据晚自习方面的一个功能。</span><br><span class="line">    - 需要利用 InnoDB 或 BDB 存储引擎，对自动提交的特性支持完成。</span><br><span class="line">    - InnoDB被称为事务安全型引擎。</span><br><span class="line"><span class="comment">-- 事务开启</span></span><br><span class="line">    <span class="keyword">START</span> <span class="keyword">TRANSACTION</span>; 或者 <span class="keyword">BEGIN</span>;</span><br><span class="line">    开启事务后，所有被执行的<span class="keyword">SQL</span>语句均被认作当前事务内的<span class="keyword">SQL</span>语句。</span><br><span class="line"><span class="comment">-- 事务提交</span></span><br><span class="line">    <span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="comment">-- 事务回滚</span></span><br><span class="line">    <span class="keyword">ROLLBACK</span>;</span><br><span class="line">    如果部分操作发生问题，映射到事务开启前。</span><br><span class="line"><span class="comment">-- 事务的特性</span></span><br><span class="line">    <span class="number">1.</span> 原子性（Atomicity）</span><br><span class="line">        事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生。</span><br><span class="line">    <span class="number">2.</span> 一致性（Consistency）</span><br><span class="line">        事务前后数据的完整性必须保持一致。</span><br><span class="line">        - 事务开始和结束时，外部数据一致</span><br><span class="line">        - 在整个事务过程中，操作是连续的</span><br><span class="line">    <span class="number">3.</span> 隔离性（<span class="keyword">Isolation</span>）</span><br><span class="line">        多个用户并发访问数据库时，一个用户的事务不能被其它用户的事物所干扰，多个并发事务之间的数据要相互隔离。</span><br><span class="line">    <span class="number">4.</span> 持久性（Durability）</span><br><span class="line">        一个事务一旦被提交，它对数据库中的数据改变就是永久性的。</span><br><span class="line"><span class="comment">-- 事务的实现</span></span><br><span class="line">    <span class="number">1.</span> 要求是事务支持的表类型</span><br><span class="line">    <span class="number">2.</span> 执行一组相关的操作前开启事务</span><br><span class="line">    <span class="number">3.</span> 整组操作完成后，都成功，则提交；如果存在失败，选择回滚，则会回到事务开始的备份点。</span><br><span class="line"><span class="comment">-- 事务的原理</span></span><br><span class="line">    利用InnoDB的自动提交(autocommit)特性完成。</span><br><span class="line">    普通的MySQL执行语句后，当前的数据提交操作均可被其他客户端可见。</span><br><span class="line">    而事务是暂时关闭“自动提交”机制，需要<span class="keyword">commit</span>提交持久化数据操作。</span><br><span class="line"><span class="comment">-- 注意</span></span><br><span class="line">    <span class="number">1.</span> 数据定义语言（DDL）语句不能被回滚，比如创建或取消数据库的语句，和创建、取消或更改表或存储的子程序的语句。</span><br><span class="line">    <span class="number">2.</span> 事务不能被嵌套</span><br><span class="line"><span class="comment">-- 保存点</span></span><br><span class="line">    <span class="keyword">SAVEPOINT</span> 保存点名称 <span class="comment">-- 设置一个事务保存点</span></span><br><span class="line">    <span class="keyword">ROLLBACK</span> <span class="keyword">TO</span> <span class="keyword">SAVEPOINT</span> 保存点名称 <span class="comment">-- 回滚到保存点</span></span><br><span class="line">    <span class="keyword">RELEASE</span> <span class="keyword">SAVEPOINT</span> 保存点名称 <span class="comment">-- 删除保存点</span></span><br><span class="line"><span class="comment">-- InnoDB自动提交特性设置</span></span><br><span class="line">    <span class="keyword">SET</span> autocommit = <span class="number">0</span>|<span class="number">1</span>;   <span class="number">0</span>表示关闭自动提交，<span class="number">1</span>表示开启自动提交。</span><br><span class="line">    - 如果关闭了，那普通操作的结果对其他客户端也不可见，需要<span class="keyword">commit</span>提交后才能持久化数据操作。</span><br><span class="line">    - 也可以关闭自动提交来开启事务。但与<span class="keyword">START</span> <span class="keyword">TRANSACTION</span>不同的是，</span><br><span class="line">        <span class="keyword">SET</span> autocommit是永久改变服务器的设置，直到下次再次修改该设置。(针对当前连接)</span><br><span class="line">        而<span class="keyword">START</span> <span class="keyword">TRANSACTION</span>记录开启前的状态，而一旦事务提交或回滚后就需要再次开启事务。(针对当前事务)</span><br></pre></td></tr></table></figure>
<p>锁表</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">表锁定只用于防止其它客户端进行不正当地读取和写入</span><br><span class="line">MyISAM 支持表锁，InnoDB 支持行锁</span><br><span class="line"><span class="comment">-- 锁定</span></span><br><span class="line">    <span class="keyword">LOCK</span> <span class="keyword">TABLES</span> tbl_name [<span class="keyword">AS</span> <span class="keyword">alias</span>]</span><br><span class="line"><span class="comment">-- 解锁</span></span><br><span class="line">    UNLOCK <span class="keyword">TABLES</span></span><br></pre></td></tr></table></figure>
<p>触发器</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">    触发程序是与表有关的命名数据库对象，当该表出现特定事件时，将激活该对象</span><br><span class="line">    监听：记录的增加、修改、删除。</span><br><span class="line"><span class="comment">-- 创建触发器</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> trigger_name trigger_time trigger_event <span class="keyword">ON</span> tbl_name <span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> trigger_stmt</span><br><span class="line">    参数：</span><br><span class="line">    trigger_time是触发程序的动作时间。它可以是 before 或 after，以指明触发程序是在激活它的语句之前或之后触发。</span><br><span class="line">    trigger_event指明了激活触发程序的语句的类型</span><br><span class="line">        <span class="keyword">INSERT</span>：将新行插入表时激活触发程序</span><br><span class="line">        UPDATE：更改某一行时激活触发程序</span><br><span class="line">        <span class="keyword">DELETE</span>：从表中删除某一行时激活触发程序</span><br><span class="line">    tbl_name：监听的表，必须是永久性的表，不能将触发程序与TEMPORARY表或视图关联起来。</span><br><span class="line">    trigger_stmt：当触发程序激活时执行的语句。执行多个语句，可使用BEGIN...END复合语句结构</span><br><span class="line"><span class="comment">-- 删除</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TRIGGER</span> [schema_name.]trigger_name</span><br><span class="line">可以使用<span class="keyword">old</span>和<span class="keyword">new</span>代替旧的和新的数据</span><br><span class="line">    更新操作，更新前是<span class="keyword">old</span>，更新后是new.</span><br><span class="line">    删除操作，只有old.</span><br><span class="line">    增加操作，只有new.</span><br><span class="line"><span class="comment">-- 注意</span></span><br><span class="line">    <span class="number">1.</span> 对于具有相同触发程序动作时间和事件的给定表，不能有两个触发程序。</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 字符连接函数</span></span><br><span class="line">concat(str1,str2,...])</span><br><span class="line">concat_ws(separator,str1,str2,...)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 分支语句</span></span><br><span class="line">if 条件 <span class="keyword">then</span></span><br><span class="line">    执行语句</span><br><span class="line">elseif 条件 <span class="keyword">then</span></span><br><span class="line">    执行语句</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    执行语句</span><br><span class="line"><span class="keyword">end</span> if;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改最外层语句结束符</span></span><br><span class="line">delimiter 自定义结束符号</span><br><span class="line">    <span class="keyword">SQL</span>语句</span><br><span class="line">自定义结束符号</span><br><span class="line">delimiter ;     <span class="comment">-- 修改回原来的分号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 语句块包裹</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    语句块</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 特殊的执行</span></span><br><span class="line"><span class="number">1.</span> 只要添加记录，就会触发程序。</span><br><span class="line"><span class="number">2.</span> <span class="keyword">Insert</span> <span class="keyword">into</span> <span class="keyword">on</span> duplicate key update 语法会触发：</span><br><span class="line">    如果没有重复记录，会触发 before <span class="keyword">insert</span>, after <span class="keyword">insert</span>;</span><br><span class="line">    如果有重复记录并更新，会触发 before <span class="keyword">insert</span>, before update, after update;</span><br><span class="line">    如果有重复记录但是没有发生更新，则触发 before <span class="keyword">insert</span>, before update</span><br><span class="line"><span class="number">3.</span> Replace 语法 如果有记录，则执行 before <span class="keyword">insert</span>, before <span class="keyword">delete</span>, after <span class="keyword">delete</span>, after <span class="keyword">insert</span></span><br></pre></td></tr></table></figure>
<p>SQL编程</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--// 局部变量 ----------</span></span><br><span class="line"><span class="comment">-- 变量声明</span></span><br><span class="line">    <span class="keyword">declare</span> var_name[,...] type [<span class="keyword">default</span> <span class="keyword">value</span>]</span><br><span class="line">    这个语句被用来声明局部变量。要给变量提供一个默认值，请包含一个<span class="keyword">default</span>子句。值可以被指定为一个表达式，不需要为一个常数。如果没有<span class="keyword">default</span>子句，初始值为<span class="keyword">null</span>。</span><br><span class="line"><span class="comment">-- 赋值</span></span><br><span class="line">    使用 <span class="keyword">set</span> 和 <span class="keyword">select</span> <span class="keyword">into</span> 语句为变量赋值。</span><br><span class="line">    <span class="operator">-</span> 注意：在函数内是可以使用全局变量（用户自定义的变量）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--// 全局变量 ----------</span></span><br><span class="line"><span class="comment">-- 定义、赋值</span></span><br><span class="line"><span class="keyword">set</span> 语句可以定义并为变量赋值。</span><br><span class="line"><span class="keyword">set</span> <span class="variable">@var</span> <span class="operator">=</span> <span class="keyword">value</span>;</span><br><span class="line">也可以使用<span class="keyword">select</span> <span class="keyword">into</span>语句为变量初始化并赋值。这样要求<span class="keyword">select</span>语句只能返回一行，但是可以是多个字段，就意味着同时为多个变量进行赋值，变量的数量需要与查询的列数一致。</span><br><span class="line">还可以把赋值语句看作一个表达式，通过<span class="keyword">select</span>执行完成。此时为了避免<span class="operator">=</span>被当作关系运算符看待，使用:<span class="operator">=</span>代替。（<span class="keyword">set</span>语句可以使用<span class="operator">=</span> 和 :<span class="operator">=</span>）。</span><br><span class="line"><span class="keyword">select</span> <span class="variable">@var</span>:<span class="operator">=</span><span class="number">20</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="variable">@v1</span>:<span class="operator">=</span>id, <span class="variable">@v2</span><span class="operator">=</span>name <span class="keyword">from</span> t1 limit <span class="number">1</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tbl_name <span class="keyword">where</span> <span class="variable">@var</span>:<span class="operator">=</span><span class="number">30</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">into</span> 可以将表中查询获得的数据赋给变量。</span><br><span class="line">    <span class="operator">-</span><span class="operator">|</span> <span class="keyword">select</span> <span class="built_in">max</span>(height) <span class="keyword">into</span> <span class="variable">@max</span>_height <span class="keyword">from</span> tb;</span><br><span class="line"><span class="comment">-- 自定义变量名</span></span><br><span class="line">为了避免<span class="keyword">select</span>语句中，用户自定义的变量与系统标识符（通常是字段名）冲突，用户自定义变量在变量名前使用@作为开始符号。</span><br><span class="line"><span class="variable">@var</span><span class="operator">=</span><span class="number">10</span>;</span><br><span class="line">    <span class="operator">-</span> 变量被定义后，在整个会话周期都有效（登录到退出）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--// 控制结构 ----------</span></span><br><span class="line"><span class="comment">-- if语句</span></span><br><span class="line">if search_condition <span class="keyword">then</span></span><br><span class="line">    statement_list   </span><br><span class="line">[elseif search_condition <span class="keyword">then</span></span><br><span class="line">    statement_list]</span><br><span class="line">...</span><br><span class="line">[<span class="keyword">else</span></span><br><span class="line">    statement_list]</span><br><span class="line"><span class="keyword">end</span> if;</span><br><span class="line"><span class="comment">-- case语句</span></span><br><span class="line"><span class="keyword">CASE</span> <span class="keyword">value</span> <span class="keyword">WHEN</span> [compare<span class="operator">-</span><span class="keyword">value</span>] <span class="keyword">THEN</span> <span class="keyword">result</span></span><br><span class="line">[<span class="keyword">WHEN</span> [compare<span class="operator">-</span><span class="keyword">value</span>] <span class="keyword">THEN</span> <span class="keyword">result</span> ...]</span><br><span class="line">[<span class="keyword">ELSE</span> <span class="keyword">result</span>]</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"><span class="comment">-- while循环</span></span><br><span class="line">[begin_label:] while search_condition do</span><br><span class="line">    statement_list</span><br><span class="line"><span class="keyword">end</span> while [end_label];</span><br><span class="line"><span class="operator">-</span> 如果需要在循环内提前终止 while循环，则需要使用标签；标签需要成对出现。</span><br><span class="line">    <span class="comment">-- 退出循环</span></span><br><span class="line">        退出整个循环 leave</span><br><span class="line">        退出当前循环 iterate</span><br><span class="line">        通过退出的标签决定退出哪个循环</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--// 内置函数 ----------</span></span><br><span class="line"><span class="comment">-- 数值函数</span></span><br><span class="line"><span class="built_in">abs</span>(x)          <span class="comment">-- 绝对值 abs(-10.9) = 10</span></span><br><span class="line">format(x, d)    <span class="comment">-- 格式化千分位数值 format(1234567.456, 2) = 1,234,567.46</span></span><br><span class="line"><span class="built_in">ceil</span>(x)         <span class="comment">-- 向上取整 ceil(10.1) = 11</span></span><br><span class="line"><span class="built_in">floor</span>(x)        <span class="comment">-- 向下取整 floor (10.1) = 10</span></span><br><span class="line">round(x)        <span class="comment">-- 四舍五入去整</span></span><br><span class="line"><span class="built_in">mod</span>(m, n)       <span class="comment">-- m%n m mod n 求余 10%3=1</span></span><br><span class="line">pi()            <span class="comment">-- 获得圆周率</span></span><br><span class="line">pow(m, n)       <span class="comment">-- m^n</span></span><br><span class="line"><span class="built_in">sqrt</span>(x)         <span class="comment">-- 算术平方根</span></span><br><span class="line">rand()          <span class="comment">-- 随机数</span></span><br><span class="line"><span class="keyword">truncate</span>(x, d)  <span class="comment">-- 截取d位小数</span></span><br><span class="line"><span class="comment">-- 时间日期函数</span></span><br><span class="line">now(), <span class="built_in">current_timestamp</span>();     <span class="comment">-- 当前日期时间</span></span><br><span class="line"><span class="built_in">current_date</span>();                 <span class="comment">-- 当前日期</span></span><br><span class="line"><span class="built_in">current_time</span>();                 <span class="comment">-- 当前时间</span></span><br><span class="line"><span class="type">date</span>(<span class="string">&#x27;yyyy-mm-dd hh:ii:ss&#x27;</span>);    <span class="comment">-- 获取日期部分</span></span><br><span class="line"><span class="type">time</span>(<span class="string">&#x27;yyyy-mm-dd hh:ii:ss&#x27;</span>);    <span class="comment">-- 获取时间部分</span></span><br><span class="line">date_format(<span class="string">&#x27;yyyy-mm-dd hh:ii:ss&#x27;</span>, <span class="string">&#x27;%d %y %a %d %m %b %j&#x27;</span>); <span class="comment">-- 格式化时间</span></span><br><span class="line">unix_timestamp();               <span class="comment">-- 获得unix时间戳</span></span><br><span class="line">from_unixtime();                <span class="comment">-- 从时间戳获得时间</span></span><br><span class="line"><span class="comment">-- 字符串函数</span></span><br><span class="line">length(string)          <span class="comment">-- string长度，字节</span></span><br><span class="line"><span class="keyword">char_length</span>(string)     <span class="comment">-- string的字符个数</span></span><br><span class="line"><span class="built_in">substring</span>(str, position [,length])      <span class="comment">-- 从str的position开始,取length个字符</span></span><br><span class="line">replace(str ,search_str ,replace_str)   <span class="comment">-- 在str中用replace_str替换search_str</span></span><br><span class="line">instr(string ,substring)    <span class="comment">-- 返回substring首次在string中出现的位置</span></span><br><span class="line">concat(string [,...])   <span class="comment">-- 连接字串</span></span><br><span class="line">charset(str)            <span class="comment">-- 返回字串字符集</span></span><br><span class="line">lcase(string)           <span class="comment">-- 转换成小写</span></span><br><span class="line"><span class="keyword">left</span>(string, length)    <span class="comment">-- 从string2中的左边起取length个字符</span></span><br><span class="line">load_file(file_name)    <span class="comment">-- 从文件读取内容</span></span><br><span class="line">locate(substring, string [,start_position]) <span class="comment">-- 同instr,但可指定开始位置</span></span><br><span class="line">lpad(string, length, pad)   <span class="comment">-- 重复用pad加在string开头,直到字串长度为length</span></span><br><span class="line">ltrim(string)           <span class="comment">-- 去除前端空格</span></span><br><span class="line">repeat(string, count)   <span class="comment">-- 重复count次</span></span><br><span class="line">rpad(string, length, pad)   <span class="comment">--在str后用pad补充,直到长度为length</span></span><br><span class="line">rtrim(string)           <span class="comment">-- 去除后端空格</span></span><br><span class="line">strcmp(string1 ,string2)    <span class="comment">-- 逐字符比较两字串大小</span></span><br><span class="line"><span class="comment">-- 流程函数</span></span><br><span class="line"><span class="keyword">case</span> <span class="keyword">when</span> [<span class="keyword">condition</span>] <span class="keyword">then</span> <span class="keyword">result</span> [<span class="keyword">when</span> [<span class="keyword">condition</span>] <span class="keyword">then</span> <span class="keyword">result</span> ...] [<span class="keyword">else</span> <span class="keyword">result</span>] <span class="keyword">end</span>   多分支</span><br><span class="line">if(expr1,expr2,expr3)  双分支。</span><br><span class="line"><span class="comment">-- 聚合函数</span></span><br><span class="line"><span class="built_in">count</span>()</span><br><span class="line"><span class="built_in">sum</span>();</span><br><span class="line"><span class="built_in">max</span>();</span><br><span class="line"><span class="built_in">min</span>();</span><br><span class="line"><span class="built_in">avg</span>();</span><br><span class="line">group_concat()</span><br><span class="line"><span class="comment">-- 其他常用函数</span></span><br><span class="line">md5();</span><br><span class="line"><span class="keyword">default</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">--// 存储函数，自定义函数 ----------</span></span><br><span class="line"><span class="comment">-- 新建</span></span><br><span class="line">    <span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> function_name (参数列表) <span class="keyword">RETURNS</span> 返回值类型</span><br><span class="line">        函数体</span><br><span class="line">    <span class="operator">-</span> 函数名，应该合法的标识符，并且不应该与已有的关键字冲突。</span><br><span class="line">    <span class="operator">-</span> 一个函数应该属于某个数据库，可以使用db_name.funciton_name的形式执行当前函数所属数据库，否则为当前数据库。</span><br><span class="line">    <span class="operator">-</span> 参数部分，由&quot;参数名&quot;和&quot;参数类型&quot;组成。多个参数用逗号隔开。</span><br><span class="line">    <span class="operator">-</span> 函数体由多条可用的mysql语句，流程控制，变量声明等语句构成。</span><br><span class="line">    <span class="operator">-</span> 多条语句应该使用 begin...end 语句块包含。</span><br><span class="line">    <span class="operator">-</span> 一定要有 <span class="keyword">return</span> 返回值语句。</span><br><span class="line"><span class="comment">-- 删除</span></span><br><span class="line">    <span class="keyword">DROP</span> <span class="keyword">FUNCTION</span> [IF <span class="keyword">EXISTS</span>] function_name;</span><br><span class="line"><span class="comment">-- 查看</span></span><br><span class="line">    <span class="keyword">SHOW</span> <span class="keyword">FUNCTION</span> STATUS <span class="keyword">LIKE</span> <span class="string">&#x27;partten&#x27;</span></span><br><span class="line">    <span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> function_name;</span><br><span class="line"><span class="comment">-- 修改</span></span><br><span class="line">    <span class="keyword">ALTER</span> <span class="keyword">FUNCTION</span> function_name 函数选项</span><br><span class="line"></span><br><span class="line"><span class="comment">--// 存储过程，自定义功能 ----------</span></span><br><span class="line"><span class="comment">-- 定义</span></span><br><span class="line">存储存储过程 是一段代码（过程），存储在数据库中的<span class="keyword">sql</span>组成。</span><br><span class="line">一个存储过程通常用于完成一段业务逻辑，例如报名，交班费，订单入库等。</span><br><span class="line">而一个函数通常专注与某个功能，视为其他程序服务的，需要在其他语句中调用函数才可以，而存储过程不能被其他调用，是自己执行 通过<span class="keyword">call</span>执行。</span><br><span class="line"><span class="comment">-- 创建</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> sp_name (参数列表)</span><br><span class="line">    过程体</span><br><span class="line">参数列表：不同于函数的参数列表，需要指明参数类型</span><br><span class="line"><span class="keyword">IN</span>，表示输入型</span><br><span class="line"><span class="keyword">OUT</span>，表示输出型</span><br><span class="line"><span class="keyword">INOUT</span>，表示混合型</span><br><span class="line">注意，没有返回值。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 存储过程 */</span> <span class="comment">------------------</span></span><br><span class="line">存储过程是一段可执行性代码的集合。相比函数，更偏向于业务逻辑。</span><br><span class="line">调用：<span class="keyword">CALL</span> 过程名</span><br><span class="line"><span class="comment">-- 注意</span></span><br><span class="line"><span class="operator">-</span> 没有返回值。</span><br><span class="line"><span class="operator">-</span> 只能单独调用，不可夹杂在其他语句中</span><br><span class="line"><span class="comment">-- 参数</span></span><br><span class="line"><span class="keyword">IN</span><span class="operator">|</span><span class="keyword">OUT</span><span class="operator">|</span><span class="keyword">INOUT</span> 参数名 数据类型</span><br><span class="line"><span class="keyword">IN</span>      输入：在调用过程中，将数据输入到过程体内部的参数</span><br><span class="line"><span class="keyword">OUT</span>     输出：在调用过程中，将过程体处理完的结果返回到客户端</span><br><span class="line"><span class="keyword">INOUT</span>   输入输出：既可输入，也可输出</span><br><span class="line"><span class="comment">-- 语法</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> 过程名 (参数列表)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    过程体</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure>
<p>用户和权限管理</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- root密码重置</span></span><br><span class="line"><span class="number">1.</span> 停止MySQL服务</span><br><span class="line"><span class="number">2.</span>  [Linux] /usr/<span class="keyword">local</span>/mysql/bin/safe_mysqld <span class="comment">--skip-grant-tables &amp;</span></span><br><span class="line">    [Windows] mysqld <span class="comment">--skip-grant-tables</span></span><br><span class="line"><span class="number">3.</span> use mysql;</span><br><span class="line"><span class="number">4.</span> <span class="keyword">UPDATE</span> `<span class="keyword">user</span>` <span class="keyword">SET</span> <span class="keyword">PASSWORD</span>=<span class="keyword">PASSWORD</span>(&quot;密码&quot;) <span class="keyword">WHERE</span> `<span class="keyword">user</span>` = &quot;root&quot;;</span><br><span class="line"><span class="number">5.</span> FLUSH <span class="keyword">PRIVILEGES</span>;</span><br><span class="line">用户信息表：mysql.<span class="keyword">user</span></span><br><span class="line"><span class="comment">-- 刷新权限</span></span><br><span class="line">FLUSH <span class="keyword">PRIVILEGES</span>;</span><br><span class="line"><span class="comment">-- 增加用户</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> 用户名 IDENTIFIED <span class="keyword">BY</span> [<span class="keyword">PASSWORD</span>] 密码(字符串)</span><br><span class="line">    - 必须拥有mysql数据库的全局<span class="keyword">CREATE</span> <span class="keyword">USER</span>权限，或拥有<span class="keyword">INSERT</span>权限。</span><br><span class="line">    - 只能创建用户，不能赋予权限。</span><br><span class="line">    - 用户名，注意引号：如 <span class="string">&#x27;user_name&#x27;</span>@<span class="string">&#x27;192.168.1.1&#x27;</span></span><br><span class="line">    - 密码也需引号，纯数字密码也要加引号</span><br><span class="line">    - 要在纯文本中指定密码，需忽略<span class="keyword">PASSWORD</span>关键词。要把密码指定为由<span class="keyword">PASSWORD</span>()函数返回的混编值，需包含关键字<span class="keyword">PASSWORD</span></span><br><span class="line"><span class="comment">-- 重命名用户</span></span><br><span class="line"><span class="keyword">RENAME</span> <span class="keyword">USER</span> old_user <span class="keyword">TO</span> new_user</span><br><span class="line"><span class="comment">-- 设置密码</span></span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">PASSWORD</span> = <span class="keyword">PASSWORD</span>(<span class="string">&#x27;密码&#x27;</span>)  <span class="comment">-- 为当前用户设置密码</span></span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">PASSWORD</span> <span class="keyword">FOR</span> 用户名 = <span class="keyword">PASSWORD</span>(<span class="string">&#x27;密码&#x27;</span>) <span class="comment">-- 为指定用户设置密码</span></span><br><span class="line"><span class="comment">-- 删除用户</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> 用户名</span><br><span class="line"><span class="comment">-- 分配权限/添加用户</span></span><br><span class="line"><span class="keyword">GRANT</span> 权限列表 <span class="keyword">ON</span> 表名 <span class="keyword">TO</span> 用户名 [IDENTIFIED <span class="keyword">BY</span> [<span class="keyword">PASSWORD</span>] <span class="string">&#x27;password&#x27;</span>]</span><br><span class="line">    - <span class="keyword">all</span> <span class="keyword">privileges</span> 表示所有权限</span><br><span class="line">    - *.* 表示所有库的所有表</span><br><span class="line">    - 库名.表名 表示某库下面的某表</span><br><span class="line">    <span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> `pms`.* <span class="keyword">TO</span> <span class="string">&#x27;pms&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;pms0817&#x27;</span>;</span><br><span class="line"><span class="comment">-- 查看权限</span></span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> 用户名</span><br><span class="line">    <span class="comment">-- 查看当前用户权限</span></span><br><span class="line">    <span class="keyword">SHOW</span> GRANTS; 或 <span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="built_in">CURRENT_USER</span>; 或 <span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="built_in">CURRENT_USER</span>();</span><br><span class="line"><span class="comment">-- 撤消权限</span></span><br><span class="line"><span class="keyword">REVOKE</span> 权限列表 <span class="keyword">ON</span> 表名 <span class="keyword">FROM</span> 用户名</span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span>, <span class="keyword">GRANT</span> <span class="keyword">OPTION</span> <span class="keyword">FROM</span> 用户名   <span class="comment">-- 撤销所有权限</span></span><br><span class="line"><span class="comment">-- 权限层级</span></span><br><span class="line"><span class="comment">-- 要使用GRANT或REVOKE，您必须拥有GRANT OPTION权限，并且您必须用于您正在授予或撤销的权限。</span></span><br><span class="line">全局层级：全局权限适用于一个给定服务器中的所有数据库，mysql.<span class="keyword">user</span></span><br><span class="line">    <span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> *.*和 <span class="keyword">REVOKE</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> *.*只授予和撤销全局权限。</span><br><span class="line">数据库层级：数据库权限适用于一个给定数据库中的所有目标，mysql.db, mysql.host</span><br><span class="line">    <span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> db_name.*和<span class="keyword">REVOKE</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> db_name.*只授予和撤销数据库权限。</span><br><span class="line">表层级：表权限适用于一个给定表中的所有列，mysql.talbes_priv</span><br><span class="line">    <span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> db_name.tbl_name和<span class="keyword">REVOKE</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> db_name.tbl_name只授予和撤销表权限。</span><br><span class="line">列层级：列权限适用于一个给定表中的单一列，mysql.columns_priv</span><br><span class="line">    当使用<span class="keyword">REVOKE</span>时，您必须指定与被授权列相同的列。</span><br><span class="line"><span class="comment">-- 权限列表</span></span><br><span class="line"><span class="keyword">ALL</span> [<span class="keyword">PRIVILEGES</span>]    <span class="comment">-- 设置除GRANT OPTION之外的所有简单权限</span></span><br><span class="line"><span class="keyword">ALTER</span>   <span class="comment">-- 允许使用ALTER TABLE</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">ROUTINE</span>   <span class="comment">-- 更改或取消已存储的子程序</span></span><br><span class="line"><span class="keyword">CREATE</span>  <span class="comment">-- 允许使用CREATE TABLE</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">ROUTINE</span>  <span class="comment">-- 创建已存储的子程序</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TEMPORARY</span> <span class="keyword">TABLES</span>     <span class="comment">-- 允许使用CREATE TEMPORARY TABLE</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span>     <span class="comment">-- 允许使用CREATE USER, DROP USER, RENAME USER和REVOKE ALL PRIVILEGES。</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span>     <span class="comment">-- 允许使用CREATE VIEW</span></span><br><span class="line"><span class="keyword">DELETE</span>  <span class="comment">-- 允许使用DELETE</span></span><br><span class="line"><span class="keyword">DROP</span>    <span class="comment">-- 允许使用DROP TABLE</span></span><br><span class="line"><span class="keyword">EXECUTE</span>     <span class="comment">-- 允许用户运行已存储的子程序</span></span><br><span class="line">FILE    <span class="comment">-- 允许使用SELECT...INTO OUTFILE和LOAD DATA INFILE</span></span><br><span class="line"><span class="keyword">INDEX</span>   <span class="comment">-- 允许使用CREATE INDEX和DROP INDEX</span></span><br><span class="line"><span class="keyword">INSERT</span>  <span class="comment">-- 允许使用INSERT</span></span><br><span class="line"><span class="keyword">LOCK</span> <span class="keyword">TABLES</span>     <span class="comment">-- 允许对您拥有SELECT权限的表使用LOCK TABLES</span></span><br><span class="line">PROCESS     <span class="comment">-- 允许使用SHOW FULL PROCESSLIST</span></span><br><span class="line"><span class="keyword">REFERENCES</span>  <span class="comment">-- 未被实施</span></span><br><span class="line">RELOAD  <span class="comment">-- 允许使用FLUSH</span></span><br><span class="line"><span class="keyword">REPLICATION</span> CLIENT  <span class="comment">-- 允许用户询问从属服务器或主服务器的地址</span></span><br><span class="line"><span class="keyword">REPLICATION</span> SLAVE   <span class="comment">-- 用于复制型从属服务器（从主服务器中读取二进制日志事件）</span></span><br><span class="line"><span class="keyword">SELECT</span>  <span class="comment">-- 允许使用SELECT</span></span><br><span class="line"><span class="keyword">SHOW</span> DATABASES  <span class="comment">-- 显示所有数据库</span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">VIEW</span>   <span class="comment">-- 允许使用SHOW CREATE VIEW</span></span><br><span class="line">SHUTDOWN    <span class="comment">-- 允许使用mysqladmin shutdown</span></span><br><span class="line">SUPER   <span class="comment">-- 允许使用CHANGE MASTER, KILL, PURGE MASTER LOGS和SET GLOBAL语句，mysqladmin debug命令；允许您连接（一次），即使已达到max_connections。</span></span><br><span class="line"><span class="keyword">UPDATE</span>  <span class="comment">-- 允许使用UPDATE</span></span><br><span class="line"><span class="keyword">USAGE</span>   <span class="comment">-- “无权限”的同义词</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">OPTION</span>    <span class="comment">-- 允许授予权限</span></span><br></pre></td></tr></table></figure>
<p>表维护</p>
<figure class="highlight prolog"><table><tr><td class="code"><pre><span class="line">-- 分析和存储表的关键字分布</span><br><span class="line"><span class="symbol">ANALYZE</span> [<span class="symbol">LOCAL</span> | <span class="symbol">NO_WRITE_TO_BINLOG</span>] <span class="symbol">TABLE</span> 表名 ...</span><br><span class="line">-- 检查一个或多个表是否有错误</span><br><span class="line"><span class="symbol">CHECK</span> <span class="symbol">TABLE</span> tbl_name [, tbl_name] ... [option] ...</span><br><span class="line">option = &#123;<span class="symbol">QUICK</span> | <span class="symbol">FAST</span> | <span class="symbol">MEDIUM</span> | <span class="symbol">EXTENDED</span> | <span class="symbol">CHANGED</span>&#125;</span><br><span class="line">-- 整理数据文件的碎片</span><br><span class="line"><span class="symbol">OPTIMIZE</span> [<span class="symbol">LOCAL</span> | <span class="symbol">NO_WRITE_TO_BINLOG</span>] <span class="symbol">TABLE</span> tbl_name [, tbl_name] ...</span><br></pre></td></tr></table></figure>
<p>杂项</p>
<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">1. 可用反引号（`）为标识符（库名、表名、字段名、索引、别名）包裹，以避免与关键字重名！中文也可以作为标识符！</span><br><span class="line">2. 每个库目录存在一个保存当前数据库的选项文件<span class="keyword">db</span>.opt。</span><br><span class="line">3. 注释：</span><br><span class="line">    单行注释 # 注释内容</span><br><span class="line">    多行注释 <span class="comment">/* 注释内容 */</span></span><br><span class="line">    单行注释 -- 注释内容     (标准SQL注释风格，要求双破折号后加一空格符（空格、<span class="keyword">TAB</span>、换行等）)</span><br><span class="line">4. 模式通配符：</span><br><span class="line">    _   任意单个字符</span><br><span class="line">    %   任意多个字符，甚至包括零字符</span><br><span class="line">    单引号需要进行转义 &#x27;</span><br><span class="line">5. CMD命令行内的语句结束符可以为 <span class="string">&quot;;&quot;</span>, <span class="string">&quot;G&quot;</span>, <span class="string">&quot;g&quot;</span>，仅影响显示结果。其他地方还是用分号结束。delimiter 可修改当前对话的语句结束符。</span><br><span class="line">6. SQL对大小写不敏感</span><br><span class="line">7. 清除已有语句：c</span><br></pre></td></tr></table></figure>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>MySql</tag>
      </tags>
  </entry>
</search>
